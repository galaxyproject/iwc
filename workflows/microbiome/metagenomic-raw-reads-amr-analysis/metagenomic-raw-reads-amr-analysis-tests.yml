- doc: Test outline for metagenomic-raw-reads-amr-analysis workflow
  job:
    Metagenomics Trimmed reads:
      class: Collection
      collection_type: list:paired
      elements:
      - class: Collection
        type: paired
        identifier: raw_reads_metag_test
        elements:
          - class: File
            identifier: forward
            location: https://zenodo.org/records/17895994/files/PSM6XBT3_500k_R1.fastq.gz
          - class: File
            identifier: reverse
            location: https://zenodo.org/records/17895994/files/PSM6XBT3_500k_R2.fastq.gz
    Sylph database: sylph_downloaded_12122025_OceanDNA-c200-v0.3.syldb
    Sylph tax database: sylph_tax_downloaded_08112025
    DeepARG database: deeparg_1.0.4-07112025
    Groot database: arg-annot.90-1.1.2-08112025
    Groot database for ARGnorm: groot-argannot
    Deeparg : Minimum probability for considering a reads as ARG-like: '0.8'
    Groot : Average base pair length of reads of your sample: '100'
    Groot : Minimum coverage for reporting ARGs: '0.6'
  outputs:
    Sylph Taxonomy Profiling:
      element_tests:
        raw_reads_metag_test:
          has_text:
            text: "Taxonomic_abundance"
          has_n_columns:
            n: 15
    Sylph Merge Taxonomy:
      element_tests:
        raw_reads_metag_test:
          has_text:
            text: "clade_name"
          has_n_columns:
            n: 2
    DeepARG Mapping ARG (>min probability):
      element_tests:
        raw_reads_metag_test:
          has_text:
            text: "#ARG"
          has_n_columns:
            n: 4
    Groot Report:
      element_tests:
        raw_reads_metag_test:
          asserts:
            has_text:
              text: "argannot~~~(Bla)cfxA2~~~AF504910:1-966"
            has_n_columns:
              n: 4
    argNorm Groot Report:
      element_tests:
        raw_reads_metag_test:
          asserts:
            has_text:
              text: "ARO:3003002"
            has_n_columns:
              n: 2
    argNorm DeepARG Report:
      element_tests:
        raw_reads_metag_test:
          has_text:
            text: "#ARG"
          has_n_columns:
            n: 4
    Tooldistillator Summarize:
      element_tests:
        raw_reads_metag_test:
          asserts:
            - that: has_text
              text: "groot_report"
            - that: has_text
              text: "sylph_report"
            - that: has_text
              text: "sylphtax_report"
            - that: has_text
              text: "argnorm_report"
            - that: has_text
              text: "deeparg_report"
            - that: has_text
              text: "sylph-tax.sylphmpa_file"