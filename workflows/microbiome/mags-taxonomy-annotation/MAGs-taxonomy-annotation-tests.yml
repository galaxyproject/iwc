- doc: Test for MAGs-taxonomy-annotation.ga
  job:
    Sequence collection:
      class: Collection
      collection_type: list
      elements:
        - class: File
          identifier: 50contig_reads_binette_bin1.fasta
          location: https://zenodo.org/records/18635101/files/50contig_reads_binette_bin1.fasta
        - class: File
          identifier: 50contig_reads_binette_bin2.fasta
          location: https://zenodo.org/records/18635101/files/50contig_reads_binette_bin2.fasta
        - class: File
          identifier: 50contig_reads_binette_bin3.fasta
          location: https://zenodo.org/records/18635101/files/50contig_reads_binette_bin3.fasta
        - class: File
          identifier: 50contig_reads_binette_bin4.fasta
          location: https://zenodo.org/records/18635101/files/50contig_reads_binette_bin4.fasta
  outputs:
    MultiQC HTML report:
      asserts:
      - that: has_text
        text: "GTDB-Tk"
      - that: has_text
        text: "Unclassified"
    GTDB-Tk summary files:
      element_tests:
        gtdbtk.bac120.summary:
          asserts:
          - that: has_text
            text: "50contig_reads_binette_bin1.fasta"
          - that: has_text
            text: "Unclassified"
          - that: has_text
            text: "95.0"
    GTDB-NCBI mapping:
      element_tests:
        gtdbtk.bac120.summary:
          asserts:
          - that: has_text
            text: "gtdb_taxonomy"
          - that: has_text
            text: "NA"
          - that: has_text
            text: "species"
    NCBI names to taxIDs mapping:
      element_tests:
        gtdbtk.bac120.summary:
          asserts:
          - that: has_text
            text: "ncbi_taxonomy"
          - that: has_text
            text: "unclassified"
          - that: has_text
            text: "12908"
    full GTDB to NCBI mapping:
      element_tests:
        gtdbtk.bac120.summary:
          asserts:
          - that: has_text
            text: "GTDB_name"
          - that: has_text
            text: "1648"
          - that: has_text
            text: "species"