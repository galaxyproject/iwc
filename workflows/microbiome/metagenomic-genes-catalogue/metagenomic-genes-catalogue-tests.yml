- doc: Test outline for Genes_catalogue_paired_collection_metaG_ABRomics
  job:
    Metagenomics Trimmed reads:
      class: Collection
      collection_type: list:paired
      elements:
      - class: Collection
        type: paired
        identifier: genes_catalogue_test
        elements:
          - class: File
            identifier: forward
            path: https://zenodo.org/records/17348100/files/genes_catalogue_R1.fastqsanger.gz
          - class: File
            identifier: reverse
            path: https://zenodo.org/records/17348100/files/genes_catalogue_R2.fastqsanger.gz
    Select an eggnogmapper DB: 5.0.2
    Select a mmseqs2 taxonomy DB: UniRef50-17-b804f-23042025
    Select a database for starAMR: staramr_downloaded_27022025_resfinder_d1e607b_pointfinder_694919f_plasmidfinder_3e77502
    Select a virulence genes detection database: vfdb
    Select a AMR genes detection database: amrfinderplus_V3.12_2024-05-02.2
  outputs:
    mmseqs2_taxonomy_filtered:
      asserts:
        has_text:
          text: "root"
        has_n_columns:
          n: 4
    eggnong_annotation_filtered:
      asserts:
        has_text:
          text: "Contig id"
        has_n_columns:
          n: 21
    mmseqs2_taxonomy_kraken:
      asserts:
        has_text:
          text: "cellular root"
        has_n_columns:
          n: 6
    argnorm_amrfinderplus_report:
      asserts:
        has_text:
          text: "Protein identifier"
    eggnog_annotations:
      asserts:
        has_text:
          text: "#query"
        has_n_columns:
          n: 21
    resfinder:
      asserts:
        has_text:
          text: "Isolate ID"
        has_n_columns:
          n: 13    
    abricate_virulence_report:
      asserts:
        has_text:
          text: "#FILE"
        has_n_columns:
          n: 15
    amrfinderplus_report:
      asserts:
        has_text:
          text: "Protein identifier"
        has_n_columns:
          n: 22
    tooldistillator_summarize_collection:
      element_tests:
        genes_catalogue_test:
          asserts:
            - that: has_text
              text: "megahit_report"
            - that: has_text
              text: "quast_report"
            - that: has_text
              text: "prodigal_report"
            - that: has_text
              text: "coverm_report"
    tooldistillator_summarize_catalogue:
      asserts:
        - that: has_text
          text: "eggnogmapper_report"
        - that: has_text
          text: "mmseqs2linclust_report"
        - that: has_text
          text: "staramr_report"
          text: "mmseqs2taxonomy_report"
        - that: has_text
          text: "abricate_report"
        - that: has_text
          text: "amrfinderplus_report"
        - that: has_text
          text: "argnorm_report"