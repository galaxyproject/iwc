{
    "a_galaxy_workflow": "true",
    "annotation": "This workflow performs long-read nanopore sequencing data analysis, enabling virus detection, metagenomic analysis, genome reconstruction, and phylogenetic inference.",
    "comments": [
        {
            "child_steps": [
                29,
                30,
                31,
                32,
                33
            ],
            "color": "yellow",
            "data": {
                "title": "Genome Reconstruction"
            },
            "id": 6,
            "position": [
                2409.7,
                2120.8
            ],
            "size": [
                847,
                636
            ],
            "type": "frame"
        },
        {
            "child_steps": [
                10,
                11,
                14
            ],
            "color": "turquoise",
            "data": {
                "title": "Pre-processing"
            },
            "id": 1,
            "position": [
                362.29999999999995,
                1134
            ],
            "size": [
                471,
                487
            ],
            "type": "frame"
        },
        {
            "child_steps": [
                35,
                25,
                34,
                7
            ],
            "color": "pink",
            "data": {
                "title": "Best Organisim"
            },
            "id": 7,
            "position": [
                2987.1,
                1205.2
            ],
            "size": [
                908,
                778
            ],
            "type": "frame"
        },
        {
            "child_steps": [
                8,
                9,
                36,
                37,
                39,
                40
            ],
            "color": "blue",
            "data": {
                "title": "Phylogyny Analysis"
            },
            "id": 8,
            "position": [
                4011.6,
                1220
            ],
            "size": [
                1443,
                1017
            ],
            "type": "frame"
        },
        {
            "child_steps": [
                0
            ],
            "color": "red",
            "data": {
                "title": "Reads (INPUT)"
            },
            "id": 0,
            "position": [
                0,
                1145
            ],
            "size": [
                249,
                121
            ],
            "type": "frame"
        },
        {
            "child_steps": [
                18,
                20,
                22,
                24,
                26,
                28,
                5,
                4,
                6
            ],
            "color": "orange",
            "data": {
                "title": "Metagenomics"
            },
            "id": 4,
            "position": [
                2064.8,
                0
            ],
            "size": [
                1646,
                824
            ],
            "type": "frame"
        },
        {
            "child_steps": [
                12,
                15,
                1,
                2
            ],
            "color": "pink",
            "data": {
                "title": "Host Decontamination"
            },
            "id": 2,
            "position": [
                906.2,
                1149.6
            ],
            "size": [
                581,
                548
            ],
            "type": "frame"
        },
        {
            "child_steps": [
                21,
                23
            ],
            "color": "lime",
            "data": {
                "title": "Hybrid Assembly"
            },
            "id": 5,
            "position": [
                2362.2,
                1242.3
            ],
            "size": [
                433.1,
                441.2
            ],
            "type": "frame"
        },
        {
            "child_steps": [
                3
            ],
            "color": "red",
            "data": {
                "title": "Reference (INPUT)"
            },
            "id": 3,
            "position": [
                599.6,
                1904.1
            ],
            "size": [
                251,
                142
            ],
            "type": "frame"
        }
    ],
    "creator": [
        {
            "class": "Person",
            "identifier": "https://orcid.org/0009-0002-9357-1787",
            "name": "Ahmad Mahagna"
        },
        {
            "class": "Person",
            "familyName": "Momin",
            "identifier": "https://orcid.org/0009-0003-9935-828X",
            "name": "Saim"
        }
    ],
    "format-version": "0.1",
    "help": "",
    "license": "MIT",
    "release": "0.1",
    "name": "VirDetectorGalaxy",
    "readme": "# VirDetectorGalaxy\n\nVirDetectorGalaxy is the Galaxy implementation of the original VirDetector pipeline.\n\nThis workflow is designed for virus surveillance using Oxford Nanopore long-read sequencing data. It enables virus detection, metagenomic analysis, phylogenetic analysis, and structural variant analysis.\n\n## Description\n\nVirDetectorGalaxy processes Nanopore sequencing reads to detect viral genomes and perform downstream analyses, including genome reconstruction and phylogenetic inference. The workflow supports both reference-based and hybrid approaches.\n\nIf no reference sequences are provided, the pipeline automatically performs a hybrid assembly step to identify a suitable reference genome.\n\n## Inputs\n\n### Required\n\n- **Nanopore reads (FASTQ)**  \n  A collection of FASTQ files containing Oxford Nanopore long-read sequencing data.  \n  Other sequencing technologies are not supported and may cause the workflow to fail.\n- **KMA Index**  \n  Select a KMA-indexed database to perform read mapping using KMA.\n- **Kraken2 Database**  \n  Select a Kraken2 database for taxonomic classification of the consensus sequences generated by KMA.  \n  *Recommended:* `Prebuilt RefSeq viral index` (if available).\n\n- **BLAST Database**  \n  Select the database to run BLAST against.  \n  *Recommended:* `NCBI nt` database restricted to viruses. If unavailable, use the latest full `nt` database.\n### Optional\n\n- **Reference sequences**  \n  A collection of reference genome sequences corresponding to the samples in the reads collection.\n\nIf the same reference genome is used for all samples, use the **“Duplicate file to collection”** tool to create a reference collection that matches the number of samples.  \n\n- **Host species**\n  The species from which the samples were obtained, used for decontamination.\n\n- **Mapping profile**\n  Specifies the sequencing platform (e.g., Nanopore, PacBio) used to map reads against the host genome.\n  \n- **Metagenomic analysis**  \n  Boolean option (`yes` / `no`) to enable or disable metagenomic analysis.\n\n- **Maximum Likelihood phylogeny**  \n  Boolean option (`yes` / `no`) to enable or disable phylogenetic inference using maximum likelihood.\n\n- **Bayesian phylogeny**  \n  Boolean option (`yes` / `no`) to enable or disable phylogenetic inference using Bayesian inference.\n\n## Workflow Behavior\n\n- If reference sequences are provided, the workflow performs reference-based genome reconstruction.\n- If no reference sequences are provided, the workflow performs a hybrid assembly to automatically determine a suitable reference genome.\n- When phylogenetic analysis is enabled, all consensus genomes and selected database sequences are combined into a single multiple sequence alignment used to infer phylogenetic trees.\n- If a host species is specified, a host decontamination step will be performed; otherwise, it will be skipped.\n\n## Outputs\n\n- **Read Quality (pre-trimming):** NanoComp report showing read quality before trimming.  \n- **Read Quality (post-trimming):** NanoComp report showing read quality after trimming.  \n- **Metagenomics Pie Chart (Krona):** Pie chart representing the percentage of detected species in the sample.  \n\n### Genome Reconstruction\n- **Mapping Alignment:** Final read alignment of each sample against the reference genome (either provided or de novo), generated with minimap2.  \n- **Alignment Quality:** Summary of alignment metrics and quality.  \n- **Viral Structure:** Sniffles report of detected viral structural variants.  \n- **Best Organisms:** Top 5 hits for each sample.  \n- **MSA:** Final multiple sequence alignment of all samples and reference genomes, including the top 5 BLAST hits per sample.  \n- **Cleaned MSA:** MSA cleaned using CIAlign, with corresponding plot.  \n\n### Phylogeny\n- **IQ-TREE:** Phylogenetic tree generated by IQ-TREE; visualize by clicking the \"Visualize\" button and selecting the phylogenetic tree.  \n- **MrBayes:** Report file including the posterior tree distribution.\n\n\n\n## Debugging and Troubleshooting\n\nIf you encounter issues during workflow execution, follow these guidelines to identify and resolve common problems. Adjust parameters of the individual tools in the workflow to better suit your samples, and ensure that all inputs match the expected formats and requirements.\n\n**Common issues and solutions:**\n\n1. **Incorrect input format**  \n   - Ensure that all input reads are in **FASTQ format**. Other formats (FASTA, BAM, POD5 etc.) may cause failures in preprocessing or downstream tools.\n2. **Reads too short**  \n   - Extremely short reads may be **trimmed or discarded** by preprocessing tools like Chopper. Check read length distributions and consider adjusting trimming thresholds before starting the workflow (this is discouraged).\n3. **Insufficient read depth**  \n   - Assemblers such as **Canu** require a minimum coverage to reconstruct genomes reliably. If reads are too few, the assembly step may fail. Consider increasing sequencing depth or using a different assembly strategy.\n4. **Reference collection mismatch**  \n   - For reference-based genome reconstruction, the **number of reference files must match the number of input samples**. Mismatched sizes can cause workflow failures, even if the same reference is repeated (you can use the tool **duplicate file to collection**).\n5. **Tool parameter tuning**  \n   - Many tools in the workflow allow customization of parameters (e.g., trimming length, k-mer sizes, mapping sensitivity). Adjust these parameters carefully to match your dataset characteristics, and look at individual tool documentation if needed.\n\n**General tips:**\n-⚠️ Always verify that input files are complete and correctly formatted.\n-⚠️ Check workflow logs for errors and trace which step failed.\n",
    "report": {
        "markdown": "\n# Workflow Execution Report\n\n## Workflow Inputs\n```galaxy\ninvocation_inputs()\n```\n\n## Workflow Outputs\n```galaxy\ninvocation_outputs()\n```\n\n## Workflow\n```galaxy\nworkflow_display()\n```\n"
    },
    "steps": {
        "0": {
            "annotation": "Collection of Nanopore reads in fastq format used as input for the analysis.",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Collection of Nanopore reads in fastq format used as input for the analysis.",
                    "name": "Fastq Input Collection"
                }
            ],
            "label": "Fastq Input Collection",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
                "left": 29.631656636638965,
                "top": 1175.4478241859642
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\", \"fields\": null, \"column_definitions\": null}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "5773a876-b34c-43d7-9165-eb11b050eaa4",
            "when": null,
            "workflow_outputs": []
        },
        "1": {
            "annotation": "Select the appropriate Host organism to initiate the Host decontamination steps. not selecting anything leads to skipping the host decontamination step!\nReads not mapping to this reference genome will be kept.",
            "content_id": null,
            "errors": null,
            "id": 1,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Select the appropriate Host organism to initiate the Host decontamination steps. not selecting anything leads to skipping the host decontamination step!\nReads not mapping to this reference genome will be kept.",
                    "name": "Host/Contaminant Reference Genome"
                }
            ],
            "label": "Host/Contaminant Reference Genome",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "left": 952.7682755067726,
                "top": 1440.9079430069046
            },
            "tool_id": null,
            "tool_state": "{\"multiple\": false, \"validators\": [], \"restrictOnConnections\": true, \"parameter_type\": \"text\", \"optional\": true}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "472764c4-f78c-4dce-b400-1d6af4bf16f2",
            "when": null,
            "workflow_outputs": []
        },
        "2": {
            "annotation": "Each profile comes with the preconfigured settings mentioned in parentheses. If you do not select a profile here, the tool will use the per-parameter defaults listed in the below sections unless you customize them.",
            "content_id": null,
            "errors": null,
            "id": 2,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Each profile comes with the preconfigured settings mentioned in parentheses. If you do not select a profile here, the tool will use the per-parameter defaults listed in the below sections unless you customize them.",
                    "name": "Profile of preset options for the mapping (long-read)"
                }
            ],
            "label": "Profile of preset options for the mapping (long-read)",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "left": 955.4436847047475,
                "top": 1547.5997844390768
            },
            "tool_id": null,
            "tool_state": "{\"multiple\": false, \"validators\": [], \"restrictOnConnections\": true, \"parameter_type\": \"text\", \"optional\": true}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "51cb42cd-6636-44de-9653-3d7f7443d1fd",
            "when": null,
            "workflow_outputs": []
        },
        "3": {
            "annotation": "Reference collection with the same number of files as the input read collection.\n",
            "content_id": null,
            "errors": null,
            "id": 3,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Reference collection with the same number of files as the input read collection.\n",
                    "name": "References"
                }
            ],
            "label": "References",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
                "left": 637.4334828566541,
                "top": 1949.5372257497343
            },
            "tool_id": null,
            "tool_state": "{\"optional\": true, \"tag\": null, \"collection_type\": \"list\", \"fields\": null, \"column_definitions\": null}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "9bc4de9c-1226-433c-8c86-ed6764a93cc3",
            "when": null,
            "workflow_outputs": []
        },
        "4": {
            "annotation": "Decides whether to perform metagenomic analysis using KMA.",
            "content_id": null,
            "errors": null,
            "id": 4,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Decides whether to perform metagenomic analysis using KMA.",
                    "name": "Perform Metagenomic Analysis"
                }
            ],
            "label": "Perform Metagenomic Analysis",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "left": 2097.7633168312236,
                "top": 41.729253048302084
            },
            "tool_id": null,
            "tool_state": "{\"default\": true, \"validators\": [], \"parameter_type\": \"boolean\", \"optional\": false}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "6559e6c6-0dc3-4164-a741-92520a60eac2",
            "when": null,
            "workflow_outputs": []
        },
        "5": {
            "annotation": "Select a KMA-indexed database to use for mapping.",
            "content_id": null,
            "errors": null,
            "id": 5,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Select a KMA-indexed database to use for mapping.",
                    "name": "KMA Index"
                }
            ],
            "label": "KMA Index",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "left": 2116.2162987199076,
                "top": 712.514139986732
            },
            "tool_id": null,
            "tool_state": "{\"multiple\": false, \"validators\": [], \"restrictOnConnections\": true, \"parameter_type\": \"text\", \"optional\": true}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "05148638-5787-4e66-b351-4c34a8068f5f",
            "when": null,
            "workflow_outputs": []
        },
        "6": {
            "annotation": "Select a Kraken2 database to perform taxonomic classification on the consensus sequences generated by KMA.",
            "content_id": null,
            "errors": null,
            "id": 6,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Select a Kraken2 database to perform taxonomic classification on the consensus sequences generated by KMA.",
                    "name": "Kraken2 Database"
                }
            ],
            "label": "Kraken2 Database",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "left": 2372.0935352182933,
                "top": 600.9870901969787
            },
            "tool_id": null,
            "tool_state": "{\"multiple\": false, \"validators\": [], \"restrictOnConnections\": true, \"parameter_type\": \"text\", \"optional\": false}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "c4d8d77f-ea59-4074-8562-3e041b6e9bd7",
            "when": null,
            "workflow_outputs": []
        },
        "7": {
            "annotation": "Select the BLAST database to use for identifying the best matching reference genomes.",
            "content_id": null,
            "errors": null,
            "id": 7,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Select the BLAST database to use for identifying the best matching reference genomes.",
                    "name": "Blast Database"
                }
            ],
            "label": "Blast Database",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "left": 3060.4689484815476,
                "top": 1522.8790815550606
            },
            "tool_id": null,
            "tool_state": "{\"multiple\": false, \"validators\": [], \"restrictOnConnections\": true, \"parameter_type\": \"text\", \"optional\": false}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "c995044c-2283-4636-9b2a-2674b5e3c588",
            "when": null,
            "workflow_outputs": []
        },
        "8": {
            "annotation": "Whether to perform maximum-likelihood phylogeny using IQ-TREE",
            "content_id": null,
            "errors": null,
            "id": 8,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Whether to perform maximum-likelihood phylogeny using IQ-TREE",
                    "name": "Maximum likelihood phylogeny"
                }
            ],
            "label": "Maximum likelihood phylogeny",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "left": 4497.4298856112755,
                "top": 1260.0301827591998
            },
            "tool_id": null,
            "tool_state": "{\"default\": true, \"validators\": [], \"parameter_type\": \"boolean\", \"optional\": false}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "61de9cc2-9b0b-4d2e-95c8-64b46af8b8e8",
            "when": null,
            "workflow_outputs": []
        },
        "9": {
            "annotation": "Whether to perform Bayesian phylogeny using MrBayes",
            "content_id": null,
            "errors": null,
            "id": 9,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Whether to perform Bayesian phylogeny using MrBayes",
                    "name": "Bayesian phylogeny"
                }
            ],
            "label": "Bayesian phylogeny",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "left": 5001.01872320665,
                "top": 1330.2487545713589
            },
            "tool_id": null,
            "tool_state": "{\"default\": true, \"validators\": [], \"parameter_type\": \"boolean\", \"optional\": false}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "c7552726-7ac8-4018-ba16-e7b7bdd952ca",
            "when": null,
            "workflow_outputs": []
        },
        "10": {
            "annotation": "Filtering and trimming of long reads. ",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/chopper/chopper/0.12.0+galaxy1",
            "errors": null,
            "id": 10,
            "input_connections": {
                "input": {
                    "id": 0,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Chopper",
                    "name": "contam"
                }
            ],
            "label": "Trimming (Chopper) 2",
            "name": "Chopper",
            "outputs": [
                {
                    "name": "fq_filt",
                    "type": "input"
                }
            ],
            "position": {
                "left": 591.2666625976562,
                "top": 1174.1333312988281
            },
            "post_job_actions": {
                "HideDatasetActionfq_filt": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "fq_filt"
                },
                "RenameDatasetActionfq_filt": {
                    "action_arguments": {
                        "newname": " #{input}"
                    },
                    "action_type": "RenameDatasetAction",
                    "output_name": "fq_filt"
                },
                "TagDatasetActionfq_filt": {
                    "action_arguments": {
                        "tags": "preprocessing"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "fq_filt"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/chopper/chopper/0.12.0+galaxy1",
            "tool_shed_repository": {
                "changeset_revision": "3f4f192666f4",
                "name": "chopper",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"contam\": {\"__class__\": \"RuntimeValue\"}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"option_params\": {\"quality\": \"8\", \"maxqual\": \"60\", \"minlength\": \"200\", \"maxlength\": \"20000\", \"headcrop\": \"0\", \"tailcrop\": \"0\", \"mingc\": \"0.0\", \"maxgc\": \"1.0\", \"trim\": \"0\"}, \"output_params\": {\"inverse\": false}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "0.12.0+galaxy1",
            "type": "tool",
            "uuid": "05afb1b9-e084-4298-a69d-83d88937c4ad",
            "when": null,
            "workflow_outputs": []
        },
        "11": {
            "annotation": "Compare reads quality across the samples pre-trimming.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/nanocomp/nanocomp/1.25.6+galaxy1",
            "errors": null,
            "id": 11,
            "input_connections": {
                "inputs|input_type|input_data": {
                    "id": 0,
                    "output_name": "output"
                }
            },
            "inputs": [],
            "label": "Compare Reads Quality (pre-trimming)",
            "name": "NanoComp",
            "outputs": [
                {
                    "name": "out_log",
                    "type": "txt"
                },
                {
                    "name": "stats_file",
                    "type": "txt"
                },
                {
                    "name": "html_report",
                    "type": "html"
                }
            ],
            "position": {
                "left": 382.2662162471475,
                "top": 1357.9635628945457
            },
            "post_job_actions": {
                "DeleteIntermediatesActionout_log": {
                    "action_arguments": {},
                    "action_type": "DeleteIntermediatesAction",
                    "output_name": "out_log"
                },
                "HideDatasetActionout_log": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "out_log"
                },
                "HideDatasetActionstats_file": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "stats_file"
                },
                "TagDatasetActionhtml_report": {
                    "action_arguments": {
                        "tags": "report,preprocessing"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "html_report"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/nanocomp/nanocomp/1.25.6+galaxy1",
            "tool_shed_repository": {
                "changeset_revision": "9b1836ad6c2e",
                "name": "nanocomp",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"filters\": {\"maxlength\": null, \"minlength\": null}, \"inputs\": {\"input_type\": {\"input_type_selector\": \"fastq\", \"__current_case__\": 0, \"input_data\": {\"__class__\": \"ConnectedValue\"}}}, \"output_options\": {\"tsv_stats\": false}, \"plot_options\": {\"plot\": \"violin\", \"title\": null, \"names\": null, \"colors\": null}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "1.25.6+galaxy1",
            "type": "tool",
            "uuid": "edf71dcf-a368-4a9e-911e-389723f2b859",
            "when": null,
            "workflow_outputs": [
                {
                    "label": "Read quality pre trimming",
                    "output_name": "html_report",
                    "uuid": "8d1afc81-7f0e-4731-89f0-766ecd506f0c"
                }
            ]
        },
        "12": {
            "annotation": "If a host species is provided, it is set to “yes,” which triggers the host decontamination subworkflow.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/map_param_value/map_param_value/0.2.0",
            "errors": null,
            "id": 12,
            "input_connections": {
                "input_param_type|input_param": {
                    "id": 1,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Map parameter value",
                    "name": "input_param_type"
                }
            ],
            "label": "Map to boolean",
            "name": "Map parameter value",
            "outputs": [
                {
                    "name": "output_param_boolean",
                    "type": "expression.json"
                }
            ],
            "position": {
                "left": 972.2404195877646,
                "top": 1189.5244056167458
            },
            "post_job_actions": {
                "HideDatasetActionoutput_param_boolean": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output_param_boolean"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/map_param_value/map_param_value/0.2.0",
            "tool_shed_repository": {
                "changeset_revision": "5ac8a4bf7a8d",
                "name": "map_param_value",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"input_param_type\": {\"type\": \"text\", \"__current_case__\": 0, \"input_param\": {\"__class__\": \"ConnectedValue\"}, \"mappings\": []}, \"output_param_type\": \"boolean\", \"unmapped\": {\"on_unmapped\": \"input\", \"__current_case__\": 0}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "0.2.0",
            "type": "tool",
            "uuid": "e5f2b5dd-7616-4d52-a53b-d80bdbe97ed8",
            "when": null,
            "workflow_outputs": []
        },
        "13": {
            "annotation": "If there is a reference file - output true to indicate that a reference assembly step has to be done!",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/map_param_value/map_param_value/0.2.0",
            "errors": null,
            "id": 13,
            "input_connections": {
                "input_param_type|input_param": {
                    "id": 3,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Map parameter value",
                    "name": "input_param_type"
                }
            ],
            "label": "Ref Assembly?",
            "name": "Map parameter value",
            "outputs": [
                {
                    "name": "output_param_boolean",
                    "type": "expression.json"
                }
            ],
            "position": {
                "left": 1207.184736655724,
                "top": 1837.8166032095378
            },
            "post_job_actions": {
                "HideDatasetActionoutput_param_boolean": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output_param_boolean"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/map_param_value/map_param_value/0.2.0",
            "tool_shed_repository": {
                "changeset_revision": "5ac8a4bf7a8d",
                "name": "map_param_value",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"input_param_type\": {\"type\": \"data\", \"__current_case__\": 4, \"input_param\": {\"__class__\": \"ConnectedValue\"}, \"mappings\": []}, \"output_param_type\": \"boolean\", \"unmapped\": {\"on_unmapped\": \"input\", \"__current_case__\": 0}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "0.2.0",
            "type": "tool",
            "uuid": "4806848a-7f7e-4a2d-8afb-7a72c6e6b164",
            "when": null,
            "workflow_outputs": []
        },
        "14": {
            "annotation": "Compare reads quality across the samples post-trimming.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/nanocomp/nanocomp/1.25.6+galaxy1",
            "errors": null,
            "id": 14,
            "input_connections": {
                "inputs|input_type|input_data": {
                    "id": 10,
                    "output_name": "fq_filt"
                }
            },
            "inputs": [],
            "label": "Compare Reads Quality (post-trimming)",
            "name": "NanoComp",
            "outputs": [
                {
                    "name": "out_log",
                    "type": "txt"
                },
                {
                    "name": "stats_file",
                    "type": "txt"
                },
                {
                    "name": "html_report",
                    "type": "html"
                }
            ],
            "position": {
                "left": 620.9734795571707,
                "top": 1363.310475631385
            },
            "post_job_actions": {
                "DeleteIntermediatesActionout_log": {
                    "action_arguments": {},
                    "action_type": "DeleteIntermediatesAction",
                    "output_name": "out_log"
                },
                "HideDatasetActionout_log": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "out_log"
                },
                "HideDatasetActionstats_file": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "stats_file"
                },
                "TagDatasetActionhtml_report": {
                    "action_arguments": {
                        "tags": "report,preprocessing"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "html_report"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/nanocomp/nanocomp/1.25.6+galaxy1",
            "tool_shed_repository": {
                "changeset_revision": "9b1836ad6c2e",
                "name": "nanocomp",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"filters\": {\"maxlength\": null, \"minlength\": null}, \"inputs\": {\"input_type\": {\"input_type_selector\": \"fastq\", \"__current_case__\": 0, \"input_data\": {\"__class__\": \"ConnectedValue\"}}}, \"output_options\": {\"tsv_stats\": false}, \"plot_options\": {\"plot\": \"violin\", \"title\": null, \"names\": null, \"colors\": null}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "1.25.6+galaxy1",
            "type": "tool",
            "uuid": "4548d489-ff22-460e-9163-dcf0d4c6f0bf",
            "when": null,
            "workflow_outputs": [
                {
                    "label": "Reads quality post trimming",
                    "output_name": "html_report",
                    "uuid": "6b62e27c-7537-4f75-aa89-27828a5a8d6e"
                }
            ]
        },
        "15": {
            "annotation": "This subworkflow removes reads originating from the specified host species.",
            "id": 15,
            "input_connections": {
                "Host/Contaminant Reference Genome (long-reads)": {
                    "id": 1,
                    "input_subworkflow_step_id": 0,
                    "output_name": "output"
                },
                "Long-reads": {
                    "id": 10,
                    "input_subworkflow_step_id": 1,
                    "output_name": "fq_filt"
                },
                "Profile of preset options for the mapping (long-read)": {
                    "id": 2,
                    "input_subworkflow_step_id": 2,
                    "output_name": "output"
                },
                "when": {
                    "id": 12,
                    "output_name": "output_param_boolean"
                }
            },
            "inputs": [
                {
                    "description": "This subworkflow removes reads originating from the specified host species.",
                    "name": "Host Removal"
                }
            ],
            "label": "Host Removal",
            "name": "Host or Contamination Removal on Long-Reads",
            "outputs": [],
            "position": {
                "left": 1247.4790036598743,
                "top": 1184.00098927428
            },
            "subworkflow": {
                "a_galaxy_workflow": "true",
                "annotation": "",
                "comments": [],
                "creator": [
                    {
                        "class": "Person",
                        "identifier": "https://orcid.org/0000-0003-2982-388X",
                        "name": "Paul Zierep"
                    },
                    {
                        "class": "Person",
                        "identifier": "https://orcid.org/0000-0001-9852-1987",
                        "name": "Bérénice Batut"
                    }
                ],
                "format-version": "0.1",
                "license": "MIT",
                "name": "Host or Contamination Removal on Long-Reads",
                "readme": "# Host or Contamination removal on long-reads\n\nThe extraction of microbiome DNA or RNA is usually contaminated by host and human DNA or RNA (but also other contaminant). It is an important to get rid of all host/contamination sequences and to only retain microbiome sequences, both in order to speed up further steps and to avoid host/contamination sequences compromising the analysis.\n\nThis workflow takes Nanopore fastq(.gz) files and executes the following steps:\n1. Mapping of the reads against a reference genome of the host or contaminant (e.g. human) using **Minimap 2**,\n2. Filtering of the generated BAM using **BAMtools** and **Samtools** to keep only the reads that do not align,\n3. Generation of mapping statistics using **QualiMap**,\n2. Aggregation of the mapping statistics using **MultiQC**\n\n## Input Datasets\n\n- A list of datasets corresponding to reads in `fastqsanger` or `fastqsanger.gz` format.\n- Reference genome\n- Profile for mapping\n\n## Output Datasets\n\n- A list of datasets corresponding to unmapped reads in `fastqsanger` or `fastqsanger.gz`.\n- A list of reports of QualiMap for each sample that could be used as inputs for extra MultiQC\n- MultiQC report of the mapping statistics in HTML",
                "report": {
                    "markdown": "\n# Workflow Execution Report\n\n## Workflow Inputs\n```galaxy\ninvocation_inputs()\n```\n\n## Workflow Outputs\n```galaxy\ninvocation_outputs()\n```\n\n## Workflow\n```galaxy\nworkflow_display()\n```\n"
                },
                "steps": {
                    "0": {
                        "annotation": "Reads not mapping to this reference genome will be kept.",
                        "content_id": null,
                        "errors": null,
                        "id": 0,
                        "input_connections": {},
                        "inputs": [
                            {
                                "description": "Reads not mapping to this reference genome will be kept.",
                                "name": "Host/Contaminant Reference Genome (long-reads)"
                            }
                        ],
                        "label": "Host/Contaminant Reference Genome (long-reads)",
                        "name": "Input parameter",
                        "outputs": [],
                        "position": {
                            "left": 0,
                            "top": 0
                        },
                        "tool_id": null,
                        "tool_state": "{\"multiple\": false, \"validators\": [], \"restrictOnConnections\": true, \"parameter_type\": \"text\", \"optional\": false}",
                        "tool_version": null,
                        "type": "parameter_input",
                        "uuid": "b88baf2c-7b71-414c-9840-3365a6bb8a27",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "1": {
                        "annotation": "Long-reads as a collection of fastqsanger(.gz) files",
                        "content_id": null,
                        "errors": null,
                        "id": 1,
                        "input_connections": {},
                        "inputs": [
                            {
                                "description": "Long-reads as a collection of fastqsanger(.gz) files",
                                "name": "Long-reads"
                            }
                        ],
                        "label": "Long-reads",
                        "name": "Input dataset collection",
                        "outputs": [],
                        "position": {
                            "left": 0,
                            "top": 160
                        },
                        "tool_id": null,
                        "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\", \"fields\": null, \"column_definitions\": null}",
                        "tool_version": null,
                        "type": "data_collection_input",
                        "uuid": "380f0855-f80f-4dc0-a9df-9e93db63186b",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "2": {
                        "annotation": "Each profile comes with the preconfigured settings mentioned in parentheses. You can customize each profile further in the indexing, mapping and alignment options sections below. If you do not select a profile here, the tool will use the per-parameter defaults listed in the below sections unless you customize them.",
                        "content_id": null,
                        "errors": null,
                        "id": 2,
                        "input_connections": {},
                        "inputs": [
                            {
                                "description": "Each profile comes with the preconfigured settings mentioned in parentheses. You can customize each profile further in the indexing, mapping and alignment options sections below. If you do not select a profile here, the tool will use the per-parameter defaults listed in the below sections unless you customize them.",
                                "name": "Profile of preset options for the mapping (long-read)"
                            }
                        ],
                        "label": "Profile of preset options for the mapping (long-read)",
                        "name": "Input parameter",
                        "outputs": [],
                        "position": {
                            "left": 0,
                            "top": 300
                        },
                        "tool_id": null,
                        "tool_state": "{\"multiple\": false, \"validators\": [], \"restrictOnConnections\": true, \"parameter_type\": \"text\", \"optional\": false}",
                        "tool_version": null,
                        "type": "parameter_input",
                        "uuid": "b765c0c9-10b8-4395-8bd6-7b3141489c00",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "3": {
                        "annotation": "Map the reads against a reference genome and output the ones not mapping the reference genome",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.28+galaxy2",
                        "errors": null,
                        "id": 3,
                        "input_connections": {
                            "fastq_input|analysis_type_selector": {
                                "id": 2,
                                "output_name": "output"
                            },
                            "fastq_input|fastq_input1": {
                                "id": 1,
                                "output_name": "output"
                            },
                            "reference_source|ref_file": {
                                "id": 0,
                                "output_name": "output"
                            }
                        },
                        "inputs": [
                            {
                                "description": "runtime parameter for tool Map with minimap2",
                                "name": "fastq_input"
                            },
                            {
                                "description": "runtime parameter for tool Map with minimap2",
                                "name": "fastq_input"
                            },
                            {
                                "description": "runtime parameter for tool Map with minimap2",
                                "name": "reference_source"
                            }
                        ],
                        "label": "minimap2",
                        "name": "Map with minimap2",
                        "outputs": [
                            {
                                "name": "alignment_output",
                                "type": "bam"
                            }
                        ],
                        "position": {
                            "left": 300,
                            "top": 140
                        },
                        "post_job_actions": {
                            "HideDatasetActionalignment_output": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "alignment_output"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.28+galaxy2",
                        "tool_shed_repository": {
                            "changeset_revision": "539de907fd99",
                            "name": "minimap2",
                            "owner": "iuc",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"alignment_options\": {\"splicing\": {\"splice_mode\": \"preset\", \"__current_case__\": 0}, \"A\": null, \"B\": null, \"O\": null, \"O2\": null, \"E\": null, \"E2\": null, \"z\": null, \"z2\": null, \"s\": null, \"no_end_flt\": true}, \"fastq_input\": {\"fastq_input_selector\": \"single\", \"__current_case__\": 0, \"fastq_input1\": {\"__class__\": \"ConnectedValue\"}, \"analysis_type_selector\": {\"__class__\": \"ConnectedValue\"}}, \"indexing_options\": {\"H\": false, \"k\": null, \"w\": null, \"I\": null}, \"io_options\": {\"output_format\": \"BAM\", \"Q\": false, \"L\": false, \"K\": null, \"cs\": null, \"c\": false, \"eqx\": false, \"Y\": false}, \"mapping_options\": {\"N\": null, \"F\": null, \"f\": null, \"kmer_ocurrence_interval\": {\"interval\": \"\", \"__current_case__\": 1}, \"min_occ_floor\": null, \"q_occ_frac\": \"0.01\", \"g\": null, \"r\": null, \"n\": null, \"m\": null, \"max_chain_skip\": null, \"max_chain_iter\": null, \"X\": false, \"p\": null, \"mask_len\": null}, \"reference_source\": {\"reference_source_selector\": \"cached\", \"__current_case__\": 0, \"ref_file\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "2.28+galaxy2",
                        "type": "tool",
                        "uuid": "b43a7f78-e9d5-49ab-98c9-070514036269",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "4": {
                        "annotation": "Generation of mapping statistics",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/qualimap_bamqc/qualimap_bamqc/2.3+galaxy0",
                        "errors": null,
                        "id": 4,
                        "input_connections": {
                            "input1": {
                                "id": 3,
                                "output_name": "alignment_output"
                            }
                        },
                        "inputs": [],
                        "label": "QualiMap",
                        "name": "QualiMap BamQC",
                        "outputs": [
                            {
                                "name": "raw_data",
                                "type": "input"
                            },
                            {
                                "name": "output_html",
                                "type": "html"
                            }
                        ],
                        "position": {
                            "left": 561.8009561567164,
                            "top": 126.87561946128731
                        },
                        "post_job_actions": {
                            "HideDatasetActionoutput_html": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "output_html"
                            },
                            "HideDatasetActionraw_data": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "raw_data"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/qualimap_bamqc/qualimap_bamqc/2.3+galaxy0",
                        "tool_shed_repository": {
                            "changeset_revision": "30a201c9c310",
                            "name": "qualimap_bamqc",
                            "owner": "iuc",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"duplicate_skipping\": \"0\", \"input1\": {\"__class__\": \"ConnectedValue\"}, \"per_base_coverage\": false, \"plot_specific\": {\"n_bins\": \"400\", \"paint_chromosome_limits\": true, \"genome_gc_distr\": null, \"homopolymer_size\": \"3\"}, \"stats_regions\": {\"region_select\": \"all\", \"__current_case__\": 0}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "2.3+galaxy0",
                        "type": "tool",
                        "uuid": "ff81b1f0-47ef-4a70-b23b-a009aeb0711b",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "QualiMap Statistics",
                                "output_name": "raw_data",
                                "uuid": "7df71ec2-03a9-4385-9a24-d57b2ad3360d"
                            }
                        ]
                    },
                    "5": {
                        "annotation": "Split BAM into mapped and unmapped",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bamtools_split_mapped/bamtools_split_mapped/2.5.2+galaxy2",
                        "errors": null,
                        "id": 5,
                        "input_connections": {
                            "input_bam": {
                                "id": 3,
                                "output_name": "alignment_output"
                            }
                        },
                        "inputs": [],
                        "label": "Split BAM",
                        "name": "Split BAM by reads mapping status",
                        "outputs": [
                            {
                                "name": "mapped",
                                "type": "bam"
                            },
                            {
                                "name": "unmapped",
                                "type": "bam"
                            }
                        ],
                        "position": {
                            "left": 600,
                            "top": 370
                        },
                        "post_job_actions": {
                            "HideDatasetActionmapped": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "mapped"
                            },
                            "HideDatasetActionunmapped": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "unmapped"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bamtools_split_mapped/bamtools_split_mapped/2.5.2+galaxy2",
                        "tool_shed_repository": {
                            "changeset_revision": "fa7b5520ae53",
                            "name": "bamtools_split_mapped",
                            "owner": "iuc",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"input_bam\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "2.5.2+galaxy2",
                        "type": "tool",
                        "uuid": "56141fe0-3b82-4005-8035-9369f30511d5",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "6": {
                        "annotation": "Prepare QualiMap stats for MultiQC",
                        "content_id": "__FLATTEN__",
                        "errors": null,
                        "id": 6,
                        "input_connections": {
                            "input": {
                                "id": 4,
                                "output_name": "raw_data"
                            }
                        },
                        "inputs": [],
                        "label": "Flatten collection",
                        "name": "Flatten collection",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 838.3582089552239,
                            "top": 78.05970149253731
                        },
                        "post_job_actions": {},
                        "tool_id": "__FLATTEN__",
                        "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"join_identifier\": \"_\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "1.0.0",
                        "type": "tool",
                        "uuid": "0b98eb14-0255-4f48-8497-4f7f9d97bc35",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "QualiMap mapping statistics",
                                "output_name": "output",
                                "uuid": "1944f8cc-e22e-4dec-a8da-325bb3165e8b"
                            }
                        ]
                    },
                    "7": {
                        "annotation": "Extractions of FastQ from the unmapped reads",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/samtools_fastx/samtools_fastx/1.22+galaxy1",
                        "errors": null,
                        "id": 7,
                        "input_connections": {
                            "input": {
                                "id": 5,
                                "output_name": "unmapped"
                            }
                        },
                        "inputs": [],
                        "label": null,
                        "name": "Samtools fastx",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "fasta"
                            }
                        ],
                        "position": {
                            "left": 900,
                            "top": 390
                        },
                        "post_job_actions": {
                            "RenameDatasetActionoutput": {
                                "action_arguments": {
                                    "newname": "Reads without host or contamination reads"
                                },
                                "action_type": "RenameDatasetAction",
                                "output_name": "output"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/samtools_fastx/samtools_fastx/1.22+galaxy1",
                        "tool_shed_repository": {
                            "changeset_revision": "491037bfc0d2",
                            "name": "samtools_fastx",
                            "owner": "iuc",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"copy_arb_tags\": null, \"copy_tags\": false, \"exclusive_filter\": [\"256\", \"2048\"], \"exclusive_filter_all\": null, \"idxout_cond\": {\"idxout_select\": \"no\", \"__current_case__\": 0}, \"inclusive_filter\": null, \"input\": {\"__class__\": \"ConnectedValue\"}, \"output_fmt_cond\": {\"output_fmt_select\": \"fastqsanger\", \"__current_case__\": 0, \"default_quality\": null, \"output_quality\": false, \"ilumina_casava\": false}, \"outputs\": \"other\", \"read_numbering\": \"\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "1.22+galaxy1",
                        "type": "tool",
                        "uuid": "2e9642e7-4404-4d9b-9530-912c62a7a665",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "Reads without Host or Contamination",
                                "output_name": "output",
                                "uuid": "1a82e66c-24c1-43f9-9c3c-121bdb895f74"
                            }
                        ]
                    },
                    "8": {
                        "annotation": "Aggregation of the mapping statistics for all samples",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/multiqc/multiqc/1.33+galaxy0",
                        "errors": null,
                        "id": 8,
                        "input_connections": {
                            "results_0|software_cond|input": {
                                "id": 6,
                                "output_name": "output"
                            }
                        },
                        "inputs": [
                            {
                                "description": "runtime parameter for tool MultiQC",
                                "name": "image_content_input"
                            }
                        ],
                        "label": "MultiQC",
                        "name": "MultiQC",
                        "outputs": [
                            {
                                "name": "html_report",
                                "type": "html"
                            },
                            {
                                "name": "stats",
                                "type": "tabular"
                            }
                        ],
                        "position": {
                            "left": 1078.5173740671642,
                            "top": 129.26367916277985
                        },
                        "post_job_actions": {
                            "HideDatasetActionstats": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "stats"
                            },
                            "RenameDatasetActionhtml_report": {
                                "action_arguments": {
                                    "newname": "MultiQC HTML report"
                                },
                                "action_type": "RenameDatasetAction",
                                "output_name": "html_report"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/multiqc/multiqc/1.33+galaxy0",
                        "tool_shed_repository": {
                            "changeset_revision": "26ee5e11ecbe",
                            "name": "multiqc",
                            "owner": "iuc",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"comment\": \"\", \"export\": false, \"flat\": false, \"image_content_input\": {\"__class__\": \"RuntimeValue\"}, \"png_plots\": false, \"results\": [{\"__index__\": 0, \"software_cond\": {\"software\": \"qualimap\", \"__current_case__\": 20, \"input\": {\"__class__\": \"ConnectedValue\"}}}], \"title\": \"Host/Contamination Removal\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "1.33+galaxy0",
                        "type": "tool",
                        "uuid": "9bfa844d-9fee-4589-8568-80070c6c6479",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "MultiQC HTML Report",
                                "output_name": "html_report",
                                "uuid": "62e6de76-2033-413e-9f5c-7f97a3e1741d"
                            }
                        ]
                    }
                },
                "tags": [],
                "uuid": "1990ffd3-499f-41c7-ad3f-d053637dc675"
            },
            "tool_id": null,
            "type": "subworkflow",
            "uuid": "e04f77c2-7598-4cf7-a5cd-1c5eb7a8f932",
            "when": "$(inputs.when)",
            "workflow_outputs": [
                {
                    "label": "Reads without Host or Contamination",
                    "output_name": "Reads without Host or Contamination",
                    "uuid": "9552f6fc-7346-4d41-9995-29539bb2521e"
                },
                {
                    "label": "MultiQC HTML Report",
                    "output_name": "MultiQC HTML Report",
                    "uuid": "dd31ac23-7b2b-4e85-a348-7323766efd3d"
                }
            ]
        },
        "16": {
            "annotation": "If there is a reference file output true to indicate that a reference assembly step has to be done!",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/map_param_value/map_param_value/0.2.0",
            "errors": null,
            "id": 16,
            "input_connections": {
                "input_param_type|input_param": {
                    "id": 13,
                    "output_name": "output_param_boolean"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Map parameter value",
                    "name": "input_param_type"
                }
            ],
            "label": "Invert Boolean",
            "name": "Map parameter value",
            "outputs": [
                {
                    "name": "output_param_boolean",
                    "type": "expression.json"
                }
            ],
            "position": {
                "left": 1544.5915995718808,
                "top": 1726.1604445497271
            },
            "post_job_actions": {
                "HideDatasetActionoutput_param_boolean": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output_param_boolean"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/map_param_value/map_param_value/0.2.0",
            "tool_shed_repository": {
                "changeset_revision": "5ac8a4bf7a8d",
                "name": "map_param_value",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"input_param_type\": {\"type\": \"boolean\", \"__current_case__\": 3, \"input_param\": {\"__class__\": \"ConnectedValue\"}, \"mappings\": [{\"__index__\": 0, \"from\": false, \"to\": \"true\"}, {\"__index__\": 1, \"from\": true, \"to\": \"false\"}]}, \"output_param_type\": \"boolean\", \"unmapped\": {\"on_unmapped\": \"input\", \"__current_case__\": 0}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "0.2.0",
            "type": "tool",
            "uuid": "3aea3dd7-af61-495b-a057-b5083be098e1",
            "when": null,
            "workflow_outputs": []
        },
        "17": {
            "annotation": "If Host-Decontamination step was executed select the decontaminated reads other wise select the trimmed reads!",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "errors": null,
            "id": 17,
            "input_connections": {
                "style_cond|type_cond|pick_from_0|value": {
                    "id": 15,
                    "output_name": "Reads without Host or Contamination"
                },
                "style_cond|type_cond|pick_from_1|value": {
                    "id": 10,
                    "output_name": "fq_filt"
                }
            },
            "inputs": [],
            "label": "Reads with or without host-decontamination",
            "name": "Pick parameter value",
            "outputs": [
                {
                    "name": "data_param",
                    "type": "input"
                }
            ],
            "position": {
                "left": 1562.578583499735,
                "top": 1180.1237582662359
            },
            "post_job_actions": {},
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "tool_shed_repository": {
                "changeset_revision": "b19e21af9c52",
                "name": "pick_value",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"data\", \"__current_case__\": 4, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"value\": {\"__class__\": \"ConnectedValue\"}}]}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "0.2.0",
            "type": "tool",
            "uuid": "3ac22120-0a3b-4219-9868-11dd97767479",
            "when": null,
            "workflow_outputs": [
                {
                    "label": "FASTQ READS",
                    "output_name": "data_param",
                    "uuid": "4a2607f6-4360-4b16-89ec-08cd6ff605d7"
                }
            ]
        },
        "18": {
            "annotation": "Map with KMA",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/kma/kma_map/1.6.8+galaxy0",
            "errors": null,
            "id": 18,
            "input_connections": {
                "kma_index": {
                    "id": 5,
                    "output_name": "output"
                },
                "single_paired|input_sequences": {
                    "id": 17,
                    "output_name": "data_param"
                },
                "when": {
                    "id": 4,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Map with KMA",
                    "name": "single_paired"
                }
            ],
            "label": "KMA",
            "name": "Map with KMA",
            "outputs": [
                {
                    "name": "result_overview",
                    "type": "tabular"
                },
                {
                    "name": "consensus_alignment",
                    "type": "txt"
                },
                {
                    "name": "consensus_sequences",
                    "type": "fasta"
                },
                {
                    "name": "read_mapping",
                    "type": "tabular"
                },
                {
                    "name": "assembly_matrix",
                    "type": "tabular"
                }
            ],
            "position": {
                "left": 2113.4005993474116,
                "top": 188.14406606923274
            },
            "post_job_actions": {
                "HideDatasetActionassembly_matrix": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "assembly_matrix"
                },
                "HideDatasetActionconsensus_alignment": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "consensus_alignment"
                },
                "HideDatasetActionconsensus_sequences": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "consensus_sequences"
                },
                "HideDatasetActionread_mapping": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "read_mapping"
                },
                "RemoveTagDatasetActionresult_overview": {
                    "action_arguments": {
                        "tags": "KMA"
                    },
                    "action_type": "RemoveTagDatasetAction",
                    "output_name": "result_overview"
                },
                "TagDatasetActionassembly_matrix": {
                    "action_arguments": {
                        "tags": "Metagenomics,KMA"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "assembly_matrix"
                },
                "TagDatasetActionconsensus_alignment": {
                    "action_arguments": {
                        "tags": "Metagenomics,KMA"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "consensus_alignment"
                },
                "TagDatasetActionconsensus_sequences": {
                    "action_arguments": {
                        "tags": "Metagenomics,KMA"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "consensus_sequences"
                },
                "TagDatasetActionread_mapping": {
                    "action_arguments": {
                        "tags": "Metagenomics,KMA"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "read_mapping"
                },
                "TagDatasetActionresult_overview": {
                    "action_arguments": {
                        "tags": "Metagenomics"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "result_overview"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/kma/kma_map/1.6.8+galaxy0",
            "tool_shed_repository": {
                "changeset_revision": "8fbd98f37c10",
                "name": "kma",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"kma_index\": {\"__class__\": \"ConnectedValue\"}, \"settings\": {\"advanced\": \"simple\", \"__current_case__\": 0}, \"single_paired\": {\"single_paired_selector\": \"single\", \"__current_case__\": 1, \"input_sequences\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "1.6.8+galaxy0",
            "type": "tool",
            "uuid": "8742e33b-e6bd-49a9-903b-95d5f8bf450d",
            "when": "$(inputs.when)",
            "workflow_outputs": [
                {
                    "label": "result_overview",
                    "output_name": "result_overview",
                    "uuid": "c02623f5-c5fb-45d6-879b-58575fbbc28a"
                },
                {
                    "label": "KMA result overview",
                    "output_name": "consensus_sequences",
                    "uuid": "8051591e-d5cc-4563-b0d1-6527c90ae8d6"
                }
            ]
        },
        "19": {
            "annotation": "Creates a list of lists because Canu automatically flattens the provided collection.",
            "content_id": "__APPLY_RULES__",
            "errors": null,
            "id": 19,
            "input_connections": {
                "input": {
                    "id": 17,
                    "output_name": "data_param"
                }
            },
            "inputs": [],
            "label": "List of lists",
            "name": "Apply rules",
            "outputs": [
                {
                    "name": "output",
                    "type": "input"
                }
            ],
            "position": {
                "left": 2108.601518257339,
                "top": 1254.98573669898
            },
            "post_job_actions": {
                "HideDatasetActionoutput": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output"
                }
            },
            "tool_id": "__APPLY_RULES__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"rules\": {\"mapping\": [{\"columns\": [0, 1], \"editing\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}]}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "1.1.0",
            "type": "tool",
            "uuid": "526dedf8-8a34-4e6c-9d89-b02363608c0e",
            "when": null,
            "workflow_outputs": []
        },
        "20": {
            "annotation": "Map optional to non-optional input.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "errors": null,
            "id": 20,
            "input_connections": {
                "style_cond|type_cond|pick_from_0|value": {
                    "id": 18,
                    "output_name": "consensus_sequences"
                }
            },
            "inputs": [],
            "label": "Optional pass 6",
            "name": "Pick parameter value",
            "outputs": [
                {
                    "name": "data_param",
                    "type": "input"
                }
            ],
            "position": {
                "left": 2362.5418725688533,
                "top": 385.8008140902532
            },
            "post_job_actions": {
                "HideDatasetActiondata_param": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "data_param"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "tool_shed_repository": {
                "changeset_revision": "b19e21af9c52",
                "name": "pick_value",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"data\", \"__current_case__\": 4, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}]}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "0.2.0",
            "type": "tool",
            "uuid": "288595e5-17a9-4ac2-b778-755c31db8568",
            "when": null,
            "workflow_outputs": []
        },
        "21": {
            "annotation": "de-novo assemby using canu assembler.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/canu/canu/2.3+galaxy0",
            "errors": null,
            "id": 21,
            "input_connections": {
                "inputs": {
                    "id": 19,
                    "output_name": "output"
                },
                "when": {
                    "id": 16,
                    "output_name": "output_param_boolean"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Canu assembler",
                    "name": "s"
                }
            ],
            "label": "Canu",
            "name": "Canu assembler",
            "outputs": [
                {
                    "name": "report",
                    "type": "txt"
                },
                {
                    "name": "contigs",
                    "type": "fasta"
                },
                {
                    "name": "unassembled",
                    "type": "fasta"
                },
                {
                    "name": "corrected_reads",
                    "type": "fasta.gz"
                },
                {
                    "name": "trimmed_reads",
                    "type": "fasta.gz"
                }
            ],
            "position": {
                "left": 2382.1436483199886,
                "top": 1282.2375430762536
            },
            "post_job_actions": {
                "DeleteIntermediatesActionreport": {
                    "action_arguments": {},
                    "action_type": "DeleteIntermediatesAction",
                    "output_name": "report"
                },
                "HideDatasetActioncorrected_reads": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "corrected_reads"
                },
                "HideDatasetActionreport": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "report"
                },
                "HideDatasetActiontrimmed_reads": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "trimmed_reads"
                },
                "HideDatasetActionunassembled": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "unassembled"
                },
                "TagDatasetActioncontigs": {
                    "action_arguments": {
                        "tags": "hybrid_assembly,canu"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "contigs"
                },
                "TagDatasetActionreport": {
                    "action_arguments": {
                        "tags": "canu"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "report"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/canu/canu/2.3+galaxy0",
            "tool_shed_repository": {
                "changeset_revision": "e05f5ee0ffb9",
                "name": "canu",
                "owner": "bgruening",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"contigFilter\": {\"minReads\": \"2\", \"minLength\": \"0\", \"singleReadSpan\": \"1.0\", \"lowCovSpan\": \"0.5\", \"lowCovDepth\": \"5\"}, \"corOutCoverage\": \"40\", \"correctedErrorRate\": \"0.2\", \"genomeSize\": \"11k\", \"haplotypes\": [], \"inputs\": {\"__class__\": \"ConnectedValue\"}, \"minInputCoverage\": null, \"minOverlapLength\": \"100\", \"minReadLength\": \"400\", \"processing\": \"-trimmed\", \"rawErrorRate\": null, \"s\": {\"__class__\": \"RuntimeValue\"}, \"stage\": \"all\", \"stopOnLowCoverage\": \"10\", \"technology\": \"-nanopore\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "2.3+galaxy0",
            "type": "tool",
            "uuid": "6b43016a-f0d6-42ca-b776-e3933e97e248",
            "when": "$(inputs.when)",
            "workflow_outputs": []
        },
        "22": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/kraken2/kraken2/2.17.1+galaxy0",
            "errors": null,
            "id": 22,
            "input_connections": {
                "kraken2_database": {
                    "id": 6,
                    "output_name": "output"
                },
                "single_paired|input_sequences": {
                    "id": 20,
                    "output_name": "data_param"
                },
                "when": {
                    "id": 4,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Kraken2",
                    "name": "single_paired"
                }
            ],
            "label": "Kraken2",
            "name": "Kraken2",
            "outputs": [
                {
                    "name": "report_output",
                    "type": "tabular"
                },
                {
                    "name": "output",
                    "type": "tabular"
                }
            ],
            "position": {
                "left": 2607.0179124518427,
                "top": 388.7546093030062
            },
            "post_job_actions": {
                "HideDatasetActionoutput": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output"
                },
                "TagDatasetActionreport_output": {
                    "action_arguments": {
                        "tags": "Metagenomics,Kraken"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "report_output"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/kraken2/kraken2/2.17.1+galaxy0",
            "tool_shed_repository": {
                "changeset_revision": "cbe396d9773e",
                "name": "kraken2",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"confidence\": \"0.0\", \"kraken2_database\": {\"__class__\": \"ConnectedValue\"}, \"min_base_quality\": \"0\", \"minimum_hit_groups\": \"2\", \"quick\": false, \"report\": {\"create_report\": \"true\", \"__current_case__\": 0, \"use_mpa_style\": false, \"report_zero_counts\": false, \"report_minimizer_data\": false}, \"single_paired\": {\"single_paired_selector\": \"no\", \"__current_case__\": 1, \"input_sequences\": {\"__class__\": \"ConnectedValue\"}}, \"split_reads\": false, \"use_names\": false, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "2.17.1+galaxy0",
            "type": "tool",
            "uuid": "43f25ea0-e4d9-4623-8266-1f4940e46ff1",
            "when": "$(inputs.when)",
            "workflow_outputs": [
                {
                    "label": "Metagenomic Report",
                    "output_name": "report_output",
                    "uuid": "da7206d9-5eaf-4ed6-b18b-0b75f493847c"
                }
            ]
        },
        "23": {
            "annotation": "Map optional to non-optional input.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "errors": null,
            "id": 23,
            "input_connections": {
                "style_cond|type_cond|pick_from_0|value": {
                    "id": 21,
                    "output_name": "contigs"
                }
            },
            "inputs": [],
            "label": "Pass Conditional 2",
            "name": "Pick parameter value",
            "outputs": [
                {
                    "name": "data_param",
                    "type": "input"
                }
            ],
            "position": {
                "left": 2601.4535010994123,
                "top": 1470.1507026307822
            },
            "post_job_actions": {
                "HideDatasetActiondata_param": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "data_param"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "tool_shed_repository": {
                "changeset_revision": "b19e21af9c52",
                "name": "pick_value",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"data\", \"__current_case__\": 4, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}]}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "0.2.0",
            "type": "tool",
            "uuid": "1daa2719-3dbe-4607-8a75-de9778c27e10",
            "when": null,
            "workflow_outputs": []
        },
        "24": {
            "annotation": "Map optional to non-optional input.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "errors": null,
            "id": 24,
            "input_connections": {
                "style_cond|type_cond|pick_from_0|value": {
                    "id": 22,
                    "output_name": "report_output"
                }
            },
            "inputs": [],
            "label": "Optional pass 7",
            "name": "Pick parameter value",
            "outputs": [
                {
                    "name": "data_param",
                    "type": "input"
                }
            ],
            "position": {
                "left": 2822.977262416872,
                "top": 394.27576389441174
            },
            "post_job_actions": {
                "HideDatasetActiondata_param": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "data_param"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "tool_shed_repository": {
                "changeset_revision": "b19e21af9c52",
                "name": "pick_value",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"data\", \"__current_case__\": 4, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}]}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "0.2.0",
            "type": "tool",
            "uuid": "58ec573b-2a43-40b3-9807-da5ebdbf8b86",
            "when": null,
            "workflow_outputs": []
        },
        "25": {
            "annotation": "Subworkflow that finds the top 5 best hit in the selected database and downloads and extracts them.",
            "id": 25,
            "input_connections": {
                "Blast Database": {
                    "id": 7,
                    "input_subworkflow_step_id": 1,
                    "output_name": "output"
                },
                "Nucleotide query sequence(s)": {
                    "id": 23,
                    "input_subworkflow_step_id": 0,
                    "output_name": "data_param"
                },
                "when": {
                    "id": 16,
                    "output_name": "output_param_boolean"
                }
            },
            "inputs": [
                {
                    "description": "Subworkflow that finds the top 5 best hit in the selected database and downloads and extracts them.",
                    "name": " Best Organism - hybrid assembly"
                }
            ],
            "label": " Best Organism - hybrid assembly",
            "name": "Best Organism",
            "outputs": [],
            "position": {
                "left": 3423.6769813748288,
                "top": 1255.0487452817463
            },
            "subworkflow": {
                "a_galaxy_workflow": "true",
                "annotation": "",
                "comments": [],
                "format-version": "0.1",
                "name": "Best Organism",
                "report": {
                    "markdown": "\n# Workflow Execution Report\n\n## Workflow Inputs\n```galaxy\ninvocation_inputs()\n```\n\n## Workflow Outputs\n```galaxy\ninvocation_outputs()\n```\n\n## Workflow\n```galaxy\nworkflow_display()\n```\n"
                },
                "steps": {
                    "0": {
                        "annotation": "Consensus to use as query in the blast step.",
                        "content_id": null,
                        "errors": null,
                        "id": 0,
                        "input_connections": {},
                        "inputs": [
                            {
                                "description": "Consensus to use as query in the blast step.",
                                "name": "Nucleotide query sequence(s)"
                            }
                        ],
                        "label": "Nucleotide query sequence(s)",
                        "name": "Input dataset",
                        "outputs": [],
                        "position": {
                            "left": 0.0,
                            "top": 9.74296113717623
                        },
                        "tool_id": null,
                        "tool_state": "{\"optional\": false, \"tag\": null}",
                        "tool_version": null,
                        "type": "data_input",
                        "uuid": "f26910f0-d3c1-4b56-a8d5-863666449baf",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "1": {
                        "annotation": "Select database to blast against",
                        "content_id": null,
                        "errors": null,
                        "id": 1,
                        "input_connections": {},
                        "inputs": [
                            {
                                "description": "Select database to blast against",
                                "name": "Blast Database"
                            }
                        ],
                        "label": "Blast Database",
                        "name": "Input parameter",
                        "outputs": [],
                        "position": {
                            "left": 2.28861596971276,
                            "top": 142.87502553778236
                        },
                        "tool_id": null,
                        "tool_state": "{\"multiple\": false, \"validators\": [], \"restrictOnConnections\": true, \"parameter_type\": \"text\", \"optional\": false}",
                        "tool_version": null,
                        "type": "parameter_input",
                        "uuid": "9b75e50f-efbb-443f-b6dc-d59830992bcb",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "2": {
                        "annotation": "Search nucleotide database with nucleotide query sequence",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/2.16.0+galaxy0",
                        "errors": null,
                        "id": 2,
                        "input_connections": {
                            "db_opts|database": {
                                "id": 1,
                                "output_name": "output"
                            },
                            "query": {
                                "id": 0,
                                "output_name": "output"
                            }
                        },
                        "inputs": [
                            {
                                "description": "runtime parameter for tool NCBI BLAST+ blastn",
                                "name": "db_opts"
                            }
                        ],
                        "label": "Blastn",
                        "name": "NCBI BLAST+ blastn",
                        "outputs": [
                            {
                                "name": "output1",
                                "type": "tabular"
                            }
                        ],
                        "position": {
                            "left": 265.6974425192307,
                            "top": 0.0
                        },
                        "post_job_actions": {
                            "HideDatasetActionoutput1": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "output1"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/2.16.0+galaxy0",
                        "tool_shed_repository": {
                            "changeset_revision": "fc35ffc8c548",
                            "name": "ncbi_blast_plus",
                            "owner": "devteam",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"adv_opts\": {\"adv_opts_selector\": \"advanced\", \"__current_case__\": 1, \"filter_query\": true, \"strand\": \"-strand both\", \"max_hits\": \"0\", \"max_hsps\": null, \"identity_cutoff\": \"0.0\", \"word_size\": null, \"ungapped\": false, \"parse_deflines\": false, \"adv_optional_id_files_opts\": {\"adv_optional_id_files_opts_selector\": \"none\", \"__current_case__\": 0}, \"qcov_hsp_perc\": \"0.0\", \"window_size\": null, \"gapopen\": null, \"gapextend\": null}, \"blast_type\": \"blastn\", \"db_opts\": {\"db_opts_selector\": \"db\", \"__current_case__\": 0, \"database\": {\"__class__\": \"ConnectedValue\"}, \"histdb\": \"\", \"subject\": \"\"}, \"evalue_cutoff\": \"0.001\", \"output\": {\"out_format\": \"cols\", \"__current_case__\": 2, \"std_cols\": [\"qseqid\", \"bitscore\"], \"ext_cols\": null, \"ids_cols\": [\"sacc\", \"stitle\"], \"misc_cols\": null, \"tax_cols\": null}, \"query\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "2.16.0+galaxy0",
                        "type": "tool",
                        "uuid": "19674e69-cd4c-4524-8de3-147f5ad5a473",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "3": {
                        "annotation": "Sort blast table according to quality.",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/9.5+galaxy2",
                        "errors": null,
                        "id": 3,
                        "input_connections": {
                            "infile": {
                                "id": 2,
                                "output_name": "output1"
                            }
                        },
                        "inputs": [],
                        "label": "Sort",
                        "name": "Sort",
                        "outputs": [
                            {
                                "name": "outfile",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 516.7798495420869,
                            "top": 55.208923522299784
                        },
                        "post_job_actions": {
                            "TagDatasetActionoutfile": {
                                "action_arguments": {
                                    "tags": "Blast"
                                },
                                "action_type": "TagDatasetAction",
                                "output_name": "outfile"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/9.5+galaxy2",
                        "tool_shed_repository": {
                            "changeset_revision": "c41d78ae5fee",
                            "name": "text_processing",
                            "owner": "bgruening",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"header\": \"0\", \"ignore_case\": false, \"infile\": {\"__class__\": \"ConnectedValue\"}, \"sortkeys\": [{\"__index__\": 0, \"column\": \"2\", \"order\": \"r\", \"style\": \"n\"}], \"unique\": false, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "9.5+galaxy2",
                        "type": "tool",
                        "uuid": "afa8d2d0-ce90-41b1-bb40-c0cfc929b33b",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "sorted_blast_table",
                                "output_name": "outfile",
                                "uuid": "f1fd11f9-8518-4848-9343-8774a0e70b9f"
                            }
                        ]
                    },
                    "4": {
                        "annotation": "take the name of the organism",
                        "content_id": "Cut1",
                        "errors": null,
                        "id": 4,
                        "input_connections": {
                            "input": {
                                "id": 3,
                                "output_name": "outfile"
                            }
                        },
                        "inputs": [],
                        "label": "Cut",
                        "name": "Cut",
                        "outputs": [
                            {
                                "name": "out_file1",
                                "type": "tabular"
                            }
                        ],
                        "position": {
                            "left": 755.4924558738824,
                            "top": 83.53918316684894
                        },
                        "post_job_actions": {
                            "HideDatasetActionout_file1": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "out_file1"
                            }
                        },
                        "tool_id": "Cut1",
                        "tool_state": "{\"columnList\": \"c3\", \"delimiter\": \"T\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "1.0.2",
                        "type": "tool",
                        "uuid": "59fc8b33-aafa-46a6-9a11-cdf68a2f433d",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "5": {
                        "annotation": "extract the best 5 rows from the blast table",
                        "content_id": "Show beginning1",
                        "errors": null,
                        "id": 5,
                        "input_connections": {
                            "input": {
                                "id": 4,
                                "output_name": "out_file1"
                            }
                        },
                        "inputs": [],
                        "label": "Best 5 Hits",
                        "name": "Select first",
                        "outputs": [
                            {
                                "name": "out_file1",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 987.4722065707548,
                            "top": 112.78048254736933
                        },
                        "post_job_actions": {
                            "HideDatasetActionout_file1": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "out_file1"
                            }
                        },
                        "tool_id": "Show beginning1",
                        "tool_state": "{\"header\": false, \"input\": {\"__class__\": \"ConnectedValue\"}, \"lineNum\": \"5\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "1.0.2",
                        "type": "tool",
                        "uuid": "823ee88b-6a20-46e8-a851-5467c411fe70",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "6": {
                        "annotation": "extract the best hit row from the blast table",
                        "content_id": "Show beginning1",
                        "errors": null,
                        "id": 6,
                        "input_connections": {
                            "input": {
                                "id": 4,
                                "output_name": "out_file1"
                            }
                        },
                        "inputs": [],
                        "label": "Best Hit",
                        "name": "Select first",
                        "outputs": [
                            {
                                "name": "out_file1",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 991.0671934223458,
                            "top": 373.8607903953882
                        },
                        "post_job_actions": {
                            "HideDatasetActionout_file1": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "out_file1"
                            }
                        },
                        "tool_id": "Show beginning1",
                        "tool_state": "{\"header\": false, \"input\": {\"__class__\": \"ConnectedValue\"}, \"lineNum\": \"1\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "1.0.2",
                        "type": "tool",
                        "uuid": "d4692e45-9aa7-4646-ad00-68d748694a31",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "7": {
                        "annotation": "Download the found sequences",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/ncbi_acc_download/ncbi_acc_download/0.2.8+galaxy0",
                        "errors": null,
                        "id": 7,
                        "input_connections": {
                            "query_source|accession_file": {
                                "id": 5,
                                "output_name": "out_file1"
                            }
                        },
                        "inputs": [
                            {
                                "description": "runtime parameter for tool NCBI Accession Download",
                                "name": "query_source"
                            }
                        ],
                        "label": "Get Data 2",
                        "name": "NCBI Accession Download",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "input"
                            },
                            {
                                "name": "error_log",
                                "type": "txt"
                            },
                            {
                                "name": "failed_accessions",
                                "type": "txt"
                            }
                        ],
                        "position": {
                            "left": 1256.818391786383,
                            "top": 117.02672941841817
                        },
                        "post_job_actions": {
                            "HideDatasetActionerror_log": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "error_log"
                            },
                            "HideDatasetActionoutput": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "output"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/ncbi_acc_download/ncbi_acc_download/0.2.8+galaxy0",
                        "tool_shed_repository": {
                            "changeset_revision": "e063168e0a81",
                            "name": "ncbi_acc_download",
                            "owner": "iuc",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"ignore_failed\": \"1\", \"molecule\": {\"select\": \"nucleotide\", \"__current_case__\": 0, \"format\": \"fasta\"}, \"query_source\": {\"select\": \"accession_file\", \"__current_case__\": 0, \"accession_file\": {\"__class__\": \"ConnectedValue\"}}, \"range\": null, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "0.2.8+galaxy0",
                        "type": "tool",
                        "uuid": "bcd1b002-3797-47b2-b4ae-2d327ac19d86",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "8": {
                        "annotation": "Download the found sequences",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/ncbi_acc_download/ncbi_acc_download/0.2.8+galaxy0",
                        "errors": null,
                        "id": 8,
                        "input_connections": {
                            "query_source|accession_file": {
                                "id": 6,
                                "output_name": "out_file1"
                            }
                        },
                        "inputs": [
                            {
                                "description": "runtime parameter for tool NCBI Accession Download",
                                "name": "query_source"
                            }
                        ],
                        "label": "Get Data",
                        "name": "NCBI Accession Download",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "input"
                            },
                            {
                                "name": "error_log",
                                "type": "txt"
                            }
                        ],
                        "position": {
                            "left": 1270.561474001048,
                            "top": 380.9968139064139
                        },
                        "post_job_actions": {
                            "HideDatasetActionerror_log": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "error_log"
                            },
                            "HideDatasetActionoutput": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "output"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/ncbi_acc_download/ncbi_acc_download/0.2.8+galaxy0",
                        "tool_shed_repository": {
                            "changeset_revision": "e063168e0a81",
                            "name": "ncbi_acc_download",
                            "owner": "iuc",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"ignore_failed\": \"0\", \"molecule\": {\"select\": \"nucleotide\", \"__current_case__\": 0, \"format\": \"fasta\"}, \"query_source\": {\"select\": \"accession_file\", \"__current_case__\": 0, \"accession_file\": {\"__class__\": \"ConnectedValue\"}}, \"range\": null, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "0.2.8+galaxy0",
                        "type": "tool",
                        "uuid": "2b6ece14-ca5b-4ff8-8ec3-65b93f8b7c05",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "9": {
                        "annotation": "Collapse collection into single dataset",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/5.1.0",
                        "errors": null,
                        "id": 9,
                        "input_connections": {
                            "input_list": {
                                "id": 7,
                                "output_name": "output"
                            }
                        },
                        "inputs": [],
                        "label": " Collapse Collection",
                        "name": "Collapse Collection",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 1514.1376488443752,
                            "top": 127.47003561607964
                        },
                        "post_job_actions": {},
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/5.1.0",
                        "tool_shed_repository": {
                            "changeset_revision": "90981f86000f",
                            "name": "collapse_collections",
                            "owner": "nml",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"filename\": {\"add_name\": false, \"__current_case__\": 1}, \"input_list\": {\"__class__\": \"ConnectedValue\"}, \"one_header\": false, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "5.1.0",
                        "type": "tool",
                        "uuid": "5e67519b-590b-448d-9d8d-79d91dde6eb7",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "Best Organism",
                                "output_name": "output",
                                "uuid": "f6750005-e944-4008-8cce-a986d17b7db5"
                            }
                        ]
                    },
                    "10": {
                        "annotation": "Collapse collection into single dataset",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/5.1.0",
                        "errors": null,
                        "id": 10,
                        "input_connections": {
                            "input_list": {
                                "id": 8,
                                "output_name": "output"
                            }
                        },
                        "inputs": [],
                        "label": " Collapse Collection 2",
                        "name": "Collapse Collection",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 1524.6472124146323,
                            "top": 400.3505614424284
                        },
                        "post_job_actions": {},
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/5.1.0",
                        "tool_shed_repository": {
                            "changeset_revision": "90981f86000f",
                            "name": "collapse_collections",
                            "owner": "nml",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"filename\": {\"add_name\": false, \"__current_case__\": 1}, \"input_list\": {\"__class__\": \"ConnectedValue\"}, \"one_header\": false, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "5.1.0",
                        "type": "tool",
                        "uuid": "9ea5f5a7-8536-43b2-b976-15c90ab0b77d",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "Best_hit",
                                "output_name": "output",
                                "uuid": "ac360700-b1ec-4dda-9545-d77933b55d91"
                            }
                        ]
                    }
                },
                "tags": [],
                "uuid": "ece612bd-c553-449b-a4e4-e9c9245fd953"
            },
            "tool_id": null,
            "type": "subworkflow",
            "uuid": "09972d7d-0ab8-463c-9ede-5e3a6747ef25",
            "when": "$(inputs.when)",
            "workflow_outputs": [
                {
                    "label": "Detected Virus - hybrid assembly",
                    "output_name": "Best_hit",
                    "uuid": "582af65c-6131-4f48-bf24-a163be4cf994"
                }
            ]
        },
        "26": {
            "annotation": "Convert kraken report file to krona text file ",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/krakentools_kreport2krona/krakentools_kreport2krona/1.2.1+galaxy0",
            "errors": null,
            "id": 26,
            "input_connections": {
                "report": {
                    "id": 24,
                    "output_name": "data_param"
                }
            },
            "inputs": [],
            "label": "Keaken to Krona",
            "name": "Krakentools: Convert kraken report file",
            "outputs": [
                {
                    "name": "output",
                    "type": "tabular"
                }
            ],
            "position": {
                "left": 3034.850855878259,
                "top": 396.5946316366433
            },
            "post_job_actions": {
                "HideDatasetActionoutput": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/krakentools_kreport2krona/krakentools_kreport2krona/1.2.1+galaxy0",
            "tool_shed_repository": {
                "changeset_revision": "05e78a90e02d",
                "name": "krakentools_kreport2krona",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"intermediate_ranks\": false, \"report\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "1.2.1+galaxy0",
            "type": "tool",
            "uuid": "7746b22b-08b7-4a56-817c-620ad26d5922",
            "when": null,
            "workflow_outputs": []
        },
        "27": {
            "annotation": "Select the reference to map against. You can either use an existing reference sequence or generate one de novo, then identify the closest match by BLASTing against a database.\n\nif both available pick first. if one select it.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "errors": null,
            "id": 27,
            "input_connections": {
                "style_cond|type_cond|pick_from_0|value": {
                    "id": 3,
                    "output_name": "output"
                },
                "style_cond|type_cond|pick_from_1|value": {
                    "id": 25,
                    "output_name": "Best_hit"
                }
            },
            "inputs": [],
            "label": "Select Reference",
            "name": "Pick parameter value",
            "outputs": [
                {
                    "name": "data_param",
                    "type": "input"
                }
            ],
            "position": {
                "left": 1963.8116513003395,
                "top": 2037.2658013073117
            },
            "post_job_actions": {
                "ChangeDatatypeActiondata_param": {
                    "action_arguments": {
                        "newtype": "fasta"
                    },
                    "action_type": "ChangeDatatypeAction",
                    "output_name": "data_param"
                },
                "HideDatasetActiondata_param": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "data_param"
                },
                "RenameDatasetActiondata_param": {
                    "action_arguments": {
                        "newname": "map_ref"
                    },
                    "action_type": "RenameDatasetAction",
                    "output_name": "data_param"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "tool_shed_repository": {
                "changeset_revision": "b19e21af9c52",
                "name": "pick_value",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"data\", \"__current_case__\": 4, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"value\": {\"__class__\": \"ConnectedValue\"}}]}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "0.2.0",
            "type": "tool",
            "uuid": "871ef0d7-03c3-4354-9a3c-ad422156b138",
            "when": null,
            "workflow_outputs": []
        },
        "28": {
            "annotation": "Pie Chart of the found species in each sample.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/crs4/taxonomy_krona_chart/taxonomy_krona_chart/2.7.1+galaxy0",
            "errors": null,
            "id": 28,
            "input_connections": {
                "type_of_data|input": {
                    "id": 26,
                    "output_name": "output"
                },
                "when": {
                    "id": 4,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Krona pie chart",
                    "name": "type_of_data"
                }
            ],
            "label": " Krona",
            "name": "Krona pie chart",
            "outputs": [
                {
                    "name": "output",
                    "type": "html"
                }
            ],
            "position": {
                "left": 3264.0331352854973,
                "top": 333.73645822234096
            },
            "post_job_actions": {
                "TagDatasetActionoutput": {
                    "action_arguments": {
                        "tags": "Metagenomics,Krona"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "output"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/crs4/taxonomy_krona_chart/taxonomy_krona_chart/2.7.1+galaxy0",
            "tool_shed_repository": {
                "changeset_revision": "e9005d1f3cfd",
                "name": "taxonomy_krona_chart",
                "owner": "crs4",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"combine_inputs\": false, \"root_name\": \"Root\", \"type_of_data\": {\"type_of_data_selector\": \"text\", \"__current_case__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "2.7.1+galaxy0",
            "type": "tool",
            "uuid": "7aef8c64-ad22-43f2-a563-b20ae96d10f9",
            "when": "$(inputs.when)",
            "workflow_outputs": [
                {
                    "label": "Metagenomics pie chart (Krona)",
                    "output_name": "output",
                    "uuid": "1d7b803e-9e8d-4da0-b380-13494d700719"
                }
            ]
        },
        "29": {
            "annotation": "A fast pairwise aligner for genomic and spliced nucleotide sequences",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.28+galaxy2",
            "errors": null,
            "id": 29,
            "input_connections": {
                "fastq_input|fastq_input1": {
                    "id": 17,
                    "output_name": "data_param"
                },
                "reference_source|ref_file": {
                    "id": 27,
                    "output_name": "data_param"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Map with minimap2",
                    "name": "fastq_input"
                },
                {
                    "description": "runtime parameter for tool Map with minimap2",
                    "name": "reference_source"
                }
            ],
            "label": "Minimap2",
            "name": "Map with minimap2",
            "outputs": [
                {
                    "name": "alignment_output",
                    "type": "bam"
                }
            ],
            "position": {
                "left": 2454.1279846846087,
                "top": 2251.4542809891145
            },
            "post_job_actions": {
                "ChangeDatatypeActionalignment_output": {
                    "action_arguments": {
                        "newtype": "bam"
                    },
                    "action_type": "ChangeDatatypeAction",
                    "output_name": "alignment_output"
                },
                "RenameDatasetActionalignment_output": {
                    "action_arguments": {
                        "newname": "alignment"
                    },
                    "action_type": "RenameDatasetAction",
                    "output_name": "alignment_output"
                },
                "TagDatasetActionalignment_output": {
                    "action_arguments": {
                        "tags": "minimap2"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "alignment_output"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.28+galaxy2",
            "tool_shed_repository": {
                "changeset_revision": "539de907fd99",
                "name": "minimap2",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"alignment_options\": {\"splicing\": {\"splice_mode\": \"preset\", \"__current_case__\": 0}, \"A\": null, \"B\": null, \"O\": null, \"O2\": null, \"E\": null, \"E2\": null, \"z\": null, \"z2\": null, \"s\": null, \"no_end_flt\": true}, \"fastq_input\": {\"fastq_input_selector\": \"single\", \"__current_case__\": 0, \"fastq_input1\": {\"__class__\": \"ConnectedValue\"}, \"analysis_type_selector\": \"map-ont\"}, \"indexing_options\": {\"H\": false, \"k\": null, \"w\": null, \"I\": null}, \"io_options\": {\"output_format\": \"BAM\", \"Q\": false, \"L\": false, \"K\": null, \"cs\": null, \"c\": false, \"eqx\": false, \"Y\": false}, \"mapping_options\": {\"N\": null, \"F\": null, \"f\": null, \"kmer_ocurrence_interval\": {\"interval\": \"\", \"__current_case__\": 1}, \"min_occ_floor\": null, \"q_occ_frac\": \"0.01\", \"g\": null, \"r\": null, \"n\": null, \"m\": null, \"max_chain_skip\": null, \"max_chain_iter\": null, \"X\": false, \"p\": null, \"mask_len\": null}, \"reference_source\": {\"reference_source_selector\": \"history\", \"__current_case__\": 1, \"ref_file\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "2.28+galaxy2",
            "type": "tool",
            "uuid": "80482ff0-b03d-4590-b2b5-f8896ff1f6a9",
            "when": null,
            "workflow_outputs": [
                {
                    "label": "Mapping Alignment",
                    "output_name": "alignment_output",
                    "uuid": "0a59839e-e726-4630-94df-e378a54dbbef"
                }
            ]
        },
        "30": {
            "annotation": "Generate consensus from the minimap alignment.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/samtools_consensus/samtools_consensus/1.22+galaxy1",
            "errors": null,
            "id": 30,
            "input_connections": {
                "input": {
                    "id": 29,
                    "output_name": "alignment_output"
                }
            },
            "inputs": [],
            "label": " Samtools consensus",
            "name": "Samtools consensus",
            "outputs": [
                {
                    "name": "output_file",
                    "type": "fasta"
                }
            ],
            "position": {
                "left": 2785.013407541247,
                "top": 2160.6564250844867
            },
            "post_job_actions": {
                "HideDatasetActionoutput_file": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output_file"
                },
                "RenameDatasetActionoutput_file": {
                    "action_arguments": {
                        "newname": "consensus"
                    },
                    "action_type": "RenameDatasetAction",
                    "output_name": "output_file"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/samtools_consensus/samtools_consensus/1.22+galaxy1",
            "tool_shed_repository": {
                "changeset_revision": "65edd5a6002e",
                "name": "samtools_consensus",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"consensus_options\": {\"mode\": \"bayesian\", \"__current_case__\": 1, \"settings\": {\"config_cond\": {\"config_param\": \"manual\", \"__current_case__\": 0, \"C\": \"10\", \"mq_cond\": {\"mq_param\": \"--use-MQ\", \"__current_case__\": 0, \"adj_mq\": true, \"mismatch_window\": \"50\", \"low_mq\": \"1\", \"high_mq\": \"60\", \"scale_mq\": \"1.0\"}, \"p_het\": \"0.001\", \"p_indel\": \"0.0002\", \"hetero_scale\": \"1.0\", \"hom_fix\": false, \"hom_score\": null, \"calibration_cond\": {\"calibration_param\": \"file\", \"__current_case__\": 5, \"calibration_file\": {\"__class__\": \"RuntimeValue\"}}}}}, \"format\": \"fasta\", \"global_settings\": {\"minimum_depth\": \"1\", \"reg_repeat\": [], \"addref_cond\": {\"addref_select\": \"no\", \"__current_case__\": 0}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"output_options\": {\"line_len\": \"70\", \"all\": false, \"show_deletions\": false, \"show_insertions\": true, \"ambig\": false, \"mark_insertions\": false}, \"preprocessing_options\": {\"minimum_MQ\": \"0\", \"minimum_BQ\": \"0\", \"inclusive_filter\": null, \"exclusive_filter\": null}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "1.22+galaxy1",
            "type": "tool",
            "uuid": "4a400b46-4db5-4ca3-ba0a-ea0baf20a1cf",
            "when": null,
            "workflow_outputs": []
        },
        "31": {
            "annotation": "Mapping quality report using QualiMap",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/qualimap_bamqc/qualimap_bamqc/2.3+galaxy0",
            "errors": null,
            "id": 31,
            "input_connections": {
                "input1": {
                    "id": 29,
                    "output_name": "alignment_output"
                }
            },
            "inputs": [],
            "label": "Mapping Quality",
            "name": "QualiMap BamQC",
            "outputs": [
                {
                    "name": "raw_data",
                    "type": "input"
                },
                {
                    "name": "output_html",
                    "type": "html"
                }
            ],
            "position": {
                "left": 2783.6514569814144,
                "top": 2357.757263063746
            },
            "post_job_actions": {
                "DeleteIntermediatesActionraw_data": {
                    "action_arguments": {},
                    "action_type": "DeleteIntermediatesAction",
                    "output_name": "raw_data"
                },
                "HideDatasetActionraw_data": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "raw_data"
                },
                "TagDatasetActionoutput_html": {
                    "action_arguments": {
                        "tags": "report"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "output_html"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/qualimap_bamqc/qualimap_bamqc/2.3+galaxy0",
            "tool_shed_repository": {
                "changeset_revision": "30a201c9c310",
                "name": "qualimap_bamqc",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"duplicate_skipping\": null, \"input1\": {\"__class__\": \"ConnectedValue\"}, \"per_base_coverage\": false, \"plot_specific\": {\"n_bins\": \"400\", \"paint_chromosome_limits\": false, \"genome_gc_distr\": null, \"homopolymer_size\": \"3\"}, \"stats_regions\": {\"region_select\": \"all\", \"__current_case__\": 0}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "2.3+galaxy0",
            "type": "tool",
            "uuid": "88195674-cc92-4eac-840c-0b5e6bc075a7",
            "when": null,
            "workflow_outputs": [
                {
                    "label": "Mapping Quality",
                    "output_name": "output_html",
                    "uuid": "9cb048f3-741c-4a5a-b3f2-d53b09353954"
                }
            ]
        },
        "32": {
            "annotation": "Subworkflow that renames consensus sequences by their element identifier, making it easier to differentiate sample consensuses.",
            "id": 32,
            "input_connections": {
                "0:Input dataset collection": {
                    "id": 30,
                    "input_subworkflow_step_id": 0,
                    "output_name": "output_file"
                }
            },
            "inputs": [
                {
                    "description": "Subworkflow that renames consensus sequences by their element identifier, making it easier to differentiate sample consensuses.",
                    "name": "Rename"
                }
            ],
            "label": "Rename",
            "name": "Rename Sequences after element name",
            "outputs": [],
            "position": {
                "left": 3037.597543491784,
                "top": 2167.9964150115156
            },
            "subworkflow": {
                "a_galaxy_workflow": "true",
                "annotation": "",
                "comments": [],
                "format-version": "0.1",
                "name": "Rename Sequences after element name",
                "report": {
                    "markdown": "\n# Workflow Execution Report\n\n## Workflow Inputs\n```galaxy\ninvocation_inputs()\n```\n\n## Workflow Outputs\n```galaxy\ninvocation_outputs()\n```\n\n## Workflow\n```galaxy\nworkflow_display()\n```\n"
                },
                "steps": {
                    "0": {
                        "annotation": "",
                        "content_id": null,
                        "errors": null,
                        "id": 0,
                        "input_connections": {},
                        "inputs": [],
                        "label": null,
                        "name": "Input dataset collection",
                        "outputs": [],
                        "position": {
                            "left": 28.188508472597324,
                            "top": 92.67295240857158
                        },
                        "tool_id": null,
                        "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\", \"fields\": null, \"column_definitions\": null}",
                        "tool_version": null,
                        "type": "data_collection_input",
                        "uuid": "dafbce83-58d5-4efc-9f19-58a9d144b7a4",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "1": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/collection_element_identifiers/collection_element_identifiers/0.0.2",
                        "errors": null,
                        "id": 1,
                        "input_connections": {
                            "input_collection": {
                                "id": 0,
                                "output_name": "output"
                            }
                        },
                        "inputs": [],
                        "label": null,
                        "name": "Extract element identifiers",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "txt"
                            }
                        ],
                        "position": {
                            "left": 0,
                            "top": 273.35754767739763
                        },
                        "post_job_actions": {
                            "ChangeDatatypeActionoutput": {
                                "action_arguments": {
                                    "newtype": "tabular"
                                },
                                "action_type": "ChangeDatatypeAction",
                                "output_name": "output"
                            },
                            "HideDatasetActionoutput": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "output"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/collection_element_identifiers/collection_element_identifiers/0.0.2",
                        "tool_shed_repository": {
                            "changeset_revision": "d3c07d270a50",
                            "name": "collection_element_identifiers",
                            "owner": "iuc",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"input_collection\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "0.0.2",
                        "type": "tool",
                        "uuid": "7749665f-028f-4a99-8f36-99c52aff1061",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "2": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/split_file_to_collection/split_file_to_collection/0.5.2",
                        "errors": null,
                        "id": 2,
                        "input_connections": {
                            "split_parms|input": {
                                "id": 1,
                                "output_name": "output"
                            }
                        },
                        "inputs": [
                            {
                                "description": "runtime parameter for tool Split file",
                                "name": "split_parms"
                            }
                        ],
                        "label": null,
                        "name": "Split file",
                        "outputs": [
                            {
                                "name": "list_output_tab",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 263.04976477335975,
                            "top": 307.8914631144048
                        },
                        "post_job_actions": {
                            "HideDatasetActionlist_output_tab": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "list_output_tab"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/split_file_to_collection/split_file_to_collection/0.5.2",
                        "tool_shed_repository": {
                            "changeset_revision": "2dae863c8f42",
                            "name": "split_file_to_collection",
                            "owner": "bgruening",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"split_parms\": {\"select_ftype\": \"tabular\", \"__current_case__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}, \"top\": \"0\", \"split_by\": {\"select_split_by\": \"row\", \"__current_case__\": 1, \"select_mode\": {\"mode\": \"chunk\", \"__current_case__\": 0, \"chunksize\": \"1\"}, \"newfilenames\": \"split_file\", \"select_allocate\": {\"allocate\": \"byrow\", \"__current_case__\": 2}}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "0.5.2",
                        "type": "tool",
                        "uuid": "5d5a5527-cef4-4225-99ba-6bb6977075eb",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "3": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_replace_in_line/9.5+galaxy3",
                        "errors": null,
                        "id": 3,
                        "input_connections": {
                            "infile": {
                                "id": 2,
                                "output_name": "list_output_tab"
                            }
                        },
                        "inputs": [
                            {
                                "description": "runtime parameter for tool Replace Text",
                                "name": "infile"
                            }
                        ],
                        "label": null,
                        "name": "Replace Text",
                        "outputs": [
                            {
                                "name": "outfile",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 509.13330078125,
                            "top": 267.6666717529297
                        },
                        "post_job_actions": {
                            "HideDatasetActionoutfile": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "outfile"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_replace_in_line/9.5+galaxy3",
                        "tool_shed_repository": {
                            "changeset_revision": "ab83aa685821",
                            "name": "text_processing",
                            "owner": "bgruening",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"infile\": {\"__class__\": \"RuntimeValue\"}, \"replacements\": [{\"__index__\": 0, \"find_pattern\": \"^.*$\", \"replace_pattern\": \">&_consensus\", \"sed_options\": null}], \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "9.5+galaxy3",
                        "type": "tool",
                        "uuid": "4d0ee074-fdc8-4b2d-9032-a0d475e21bc6",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "4": {
                        "annotation": "",
                        "content_id": "param_value_from_file",
                        "errors": null,
                        "id": 4,
                        "input_connections": {
                            "input1": {
                                "id": 3,
                                "output_name": "outfile"
                            }
                        },
                        "inputs": [],
                        "label": null,
                        "name": "Parse parameter value",
                        "outputs": [
                            {
                                "name": "text_param",
                                "type": "expression.json"
                            }
                        ],
                        "position": {
                            "left": 752.066650390625,
                            "top": 226.18336486816406
                        },
                        "post_job_actions": {
                            "HideDatasetActiontext_param": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "text_param"
                            }
                        },
                        "tool_id": "param_value_from_file",
                        "tool_state": "{\"input1\": {\"__class__\": \"ConnectedValue\"}, \"param_type\": \"text\", \"remove_newlines\": true, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "0.1.0",
                        "type": "tool",
                        "uuid": "9ea276ad-9dfa-413b-a0a7-5c882d193d6f",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "5": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_replace_in_line/9.5+galaxy3",
                        "errors": null,
                        "id": 5,
                        "input_connections": {
                            "infile": {
                                "id": 0,
                                "output_name": "output"
                            },
                            "replacements_0|replace_pattern": {
                                "id": 4,
                                "output_name": "text_param"
                            }
                        },
                        "inputs": [],
                        "label": null,
                        "name": "Replace Text",
                        "outputs": [
                            {
                                "name": "outfile",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 869.8832397460938,
                            "top": 0
                        },
                        "post_job_actions": {},
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_replace_in_line/9.5+galaxy3",
                        "tool_shed_repository": {
                            "changeset_revision": "ab83aa685821",
                            "name": "text_processing",
                            "owner": "bgruening",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"infile\": {\"__class__\": \"ConnectedValue\"}, \"replacements\": [{\"__index__\": 0, \"find_pattern\": \"^>(.*)\", \"replace_pattern\": {\"__class__\": \"ConnectedValue\"}, \"sed_options\": null}], \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "9.5+galaxy3",
                        "type": "tool",
                        "uuid": "319e651f-6add-4b35-96e8-f8cbd48a398c",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "outfile",
                                "output_name": "outfile",
                                "uuid": "03fad122-9136-4300-8e58-39f6ad2db15a"
                            }
                        ]
                    }
                },
                "tags": [],
                "uuid": "77588a97-8ec2-44eb-b16a-871cd7e79dba"
            },
            "tool_id": null,
            "type": "subworkflow",
            "uuid": "ec5a8b73-9bd5-46b4-82c5-6251c7ace850",
            "when": null,
            "workflow_outputs": []
        },
        "33": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/sniffles/sniffles/2.5.2+galaxy0",
            "errors": null,
            "id": 33,
            "input_connections": {
                "input": {
                    "id": 29,
                    "output_name": "alignment_output"
                },
                "reference_genome|genome": {
                    "id": 30,
                    "output_name": "output_file"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool sniffles",
                    "name": "reference_genome"
                }
            ],
            "label": null,
            "name": "sniffles",
            "outputs": [
                {
                    "name": "output",
                    "type": "vcf"
                }
            ],
            "position": {
                "left": 2783.641132525652,
                "top": 2560.949175904402
            },
            "post_job_actions": {
                "TagDatasetActionoutput": {
                    "action_arguments": {
                        "tags": "sniffles"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "output"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/sniffles/sniffles/2.5.2+galaxy0",
            "tool_shed_repository": {
                "changeset_revision": "ceff2f6a5368",
                "name": "sniffles",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"advanced_options\": {\"mosaic\": false}, \"clustering_options\": {\"clusterbinsize\": \"100\", \"clusterr\": \"2.5\"}, \"general_options\": {\"minsupport\": \"auto\", \"maxsplitskb\": \"0.1\", \"minsvlen\": \"50\", \"mapq\": \"20\", \"minalignmentlength\": \"100\", \"detectlargeins\": true}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"reference_genome\": {\"genome_type_select\": \"history\", \"__current_case__\": 2, \"genome\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "2.5.2+galaxy0",
            "type": "tool",
            "uuid": "5b601234-0773-4ee3-90bd-19342948dde8",
            "when": null,
            "workflow_outputs": [
                {
                    "label": "Structural variation",
                    "output_name": "output",
                    "uuid": "d4c804c8-4d01-4c16-942b-266c31b41ea9"
                }
            ]
        },
        "34": {
            "annotation": "Subworkflow that finds the top 5 best hit in the selected database and downloads and extracts them.",
            "id": 34,
            "input_connections": {
                "Blast Database": {
                    "id": 7,
                    "input_subworkflow_step_id": 1,
                    "output_name": "output"
                },
                "Nucleotide query sequence(s)": {
                    "id": 32,
                    "input_subworkflow_step_id": 0,
                    "output_name": "outfile"
                },
                "when": {
                    "id": 13,
                    "output_name": "output_param_boolean"
                }
            },
            "inputs": [
                {
                    "description": "Subworkflow that finds the top 5 best hit in the selected database and downloads and extracts them.",
                    "name": " Best Organism - reference assembly"
                }
            ],
            "label": " Best Organism - reference assembly",
            "name": "Best Organism",
            "outputs": [],
            "position": {
                "left": 3428.784000088041,
                "top": 1604.6195864858112
            },
            "subworkflow": {
                "a_galaxy_workflow": "true",
                "annotation": "",
                "comments": [],
                "format-version": "0.1",
                "name": "Best Organism",
                "report": {
                    "markdown": "\n# Workflow Execution Report\n\n## Workflow Inputs\n```galaxy\ninvocation_inputs()\n```\n\n## Workflow Outputs\n```galaxy\ninvocation_outputs()\n```\n\n## Workflow\n```galaxy\nworkflow_display()\n```\n"
                },
                "steps": {
                    "0": {
                        "annotation": "Consensus to use as query in the blast step.",
                        "content_id": null,
                        "errors": null,
                        "id": 0,
                        "input_connections": {},
                        "inputs": [
                            {
                                "description": "Consensus to use as query in the blast step.",
                                "name": "Nucleotide query sequence(s)"
                            }
                        ],
                        "label": "Nucleotide query sequence(s)",
                        "name": "Input dataset",
                        "outputs": [],
                        "position": {
                            "left": 0.0,
                            "top": 9.74296113717623
                        },
                        "tool_id": null,
                        "tool_state": "{\"optional\": false, \"tag\": null}",
                        "tool_version": null,
                        "type": "data_input",
                        "uuid": "f26910f0-d3c1-4b56-a8d5-863666449baf",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "1": {
                        "annotation": "Select database to blast against",
                        "content_id": null,
                        "errors": null,
                        "id": 1,
                        "input_connections": {},
                        "inputs": [
                            {
                                "description": "Select database to blast against",
                                "name": "Blast Database"
                            }
                        ],
                        "label": "Blast Database",
                        "name": "Input parameter",
                        "outputs": [],
                        "position": {
                            "left": 2.28861596971276,
                            "top": 142.87502553778236
                        },
                        "tool_id": null,
                        "tool_state": "{\"multiple\": false, \"validators\": [], \"restrictOnConnections\": true, \"parameter_type\": \"text\", \"optional\": false}",
                        "tool_version": null,
                        "type": "parameter_input",
                        "uuid": "9b75e50f-efbb-443f-b6dc-d59830992bcb",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "2": {
                        "annotation": "Search nucleotide database with nucleotide query sequence",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/2.16.0+galaxy0",
                        "errors": null,
                        "id": 2,
                        "input_connections": {
                            "db_opts|database": {
                                "id": 1,
                                "output_name": "output"
                            },
                            "query": {
                                "id": 0,
                                "output_name": "output"
                            }
                        },
                        "inputs": [
                            {
                                "description": "runtime parameter for tool NCBI BLAST+ blastn",
                                "name": "db_opts"
                            }
                        ],
                        "label": "Blastn",
                        "name": "NCBI BLAST+ blastn",
                        "outputs": [
                            {
                                "name": "output1",
                                "type": "tabular"
                            }
                        ],
                        "position": {
                            "left": 265.6974425192307,
                            "top": 0.0
                        },
                        "post_job_actions": {
                            "HideDatasetActionoutput1": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "output1"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/2.16.0+galaxy0",
                        "tool_shed_repository": {
                            "changeset_revision": "fc35ffc8c548",
                            "name": "ncbi_blast_plus",
                            "owner": "devteam",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"adv_opts\": {\"adv_opts_selector\": \"advanced\", \"__current_case__\": 1, \"filter_query\": true, \"strand\": \"-strand both\", \"max_hits\": \"0\", \"max_hsps\": null, \"identity_cutoff\": \"0.0\", \"word_size\": null, \"ungapped\": false, \"parse_deflines\": false, \"adv_optional_id_files_opts\": {\"adv_optional_id_files_opts_selector\": \"none\", \"__current_case__\": 0}, \"qcov_hsp_perc\": \"0.0\", \"window_size\": null, \"gapopen\": null, \"gapextend\": null}, \"blast_type\": \"blastn\", \"db_opts\": {\"db_opts_selector\": \"db\", \"__current_case__\": 0, \"database\": {\"__class__\": \"ConnectedValue\"}, \"histdb\": \"\", \"subject\": \"\"}, \"evalue_cutoff\": \"0.001\", \"output\": {\"out_format\": \"cols\", \"__current_case__\": 2, \"std_cols\": [\"qseqid\", \"bitscore\"], \"ext_cols\": null, \"ids_cols\": [\"sacc\", \"stitle\"], \"misc_cols\": null, \"tax_cols\": null}, \"query\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "2.16.0+galaxy0",
                        "type": "tool",
                        "uuid": "19674e69-cd4c-4524-8de3-147f5ad5a473",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "3": {
                        "annotation": "Sort blast table according to quality.",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/9.5+galaxy2",
                        "errors": null,
                        "id": 3,
                        "input_connections": {
                            "infile": {
                                "id": 2,
                                "output_name": "output1"
                            }
                        },
                        "inputs": [],
                        "label": "Sort",
                        "name": "Sort",
                        "outputs": [
                            {
                                "name": "outfile",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 516.7798495420869,
                            "top": 55.208923522299784
                        },
                        "post_job_actions": {
                            "TagDatasetActionoutfile": {
                                "action_arguments": {
                                    "tags": "Blast"
                                },
                                "action_type": "TagDatasetAction",
                                "output_name": "outfile"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/9.5+galaxy2",
                        "tool_shed_repository": {
                            "changeset_revision": "c41d78ae5fee",
                            "name": "text_processing",
                            "owner": "bgruening",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"header\": \"0\", \"ignore_case\": false, \"infile\": {\"__class__\": \"ConnectedValue\"}, \"sortkeys\": [{\"__index__\": 0, \"column\": \"2\", \"order\": \"r\", \"style\": \"n\"}], \"unique\": false, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "9.5+galaxy2",
                        "type": "tool",
                        "uuid": "afa8d2d0-ce90-41b1-bb40-c0cfc929b33b",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "sorted_blast_table",
                                "output_name": "outfile",
                                "uuid": "f1fd11f9-8518-4848-9343-8774a0e70b9f"
                            }
                        ]
                    },
                    "4": {
                        "annotation": "take the name of the organism",
                        "content_id": "Cut1",
                        "errors": null,
                        "id": 4,
                        "input_connections": {
                            "input": {
                                "id": 3,
                                "output_name": "outfile"
                            }
                        },
                        "inputs": [],
                        "label": "Cut",
                        "name": "Cut",
                        "outputs": [
                            {
                                "name": "out_file1",
                                "type": "tabular"
                            }
                        ],
                        "position": {
                            "left": 755.4924558738824,
                            "top": 83.53918316684894
                        },
                        "post_job_actions": {
                            "HideDatasetActionout_file1": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "out_file1"
                            }
                        },
                        "tool_id": "Cut1",
                        "tool_state": "{\"columnList\": \"c3\", \"delimiter\": \"T\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "1.0.2",
                        "type": "tool",
                        "uuid": "59fc8b33-aafa-46a6-9a11-cdf68a2f433d",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "5": {
                        "annotation": "extract the best 5 rows from the blast table",
                        "content_id": "Show beginning1",
                        "errors": null,
                        "id": 5,
                        "input_connections": {
                            "input": {
                                "id": 4,
                                "output_name": "out_file1"
                            }
                        },
                        "inputs": [],
                        "label": "Best 5 Hits",
                        "name": "Select first",
                        "outputs": [
                            {
                                "name": "out_file1",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 987.4722065707548,
                            "top": 112.78048254736933
                        },
                        "post_job_actions": {
                            "HideDatasetActionout_file1": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "out_file1"
                            }
                        },
                        "tool_id": "Show beginning1",
                        "tool_state": "{\"header\": false, \"input\": {\"__class__\": \"ConnectedValue\"}, \"lineNum\": \"5\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "1.0.2",
                        "type": "tool",
                        "uuid": "823ee88b-6a20-46e8-a851-5467c411fe70",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "6": {
                        "annotation": "extract the best hit row from the blast table",
                        "content_id": "Show beginning1",
                        "errors": null,
                        "id": 6,
                        "input_connections": {
                            "input": {
                                "id": 4,
                                "output_name": "out_file1"
                            }
                        },
                        "inputs": [],
                        "label": "Best Hit",
                        "name": "Select first",
                        "outputs": [
                            {
                                "name": "out_file1",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 991.0671934223458,
                            "top": 373.8607903953882
                        },
                        "post_job_actions": {
                            "HideDatasetActionout_file1": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "out_file1"
                            }
                        },
                        "tool_id": "Show beginning1",
                        "tool_state": "{\"header\": false, \"input\": {\"__class__\": \"ConnectedValue\"}, \"lineNum\": \"1\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "1.0.2",
                        "type": "tool",
                        "uuid": "d4692e45-9aa7-4646-ad00-68d748694a31",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "7": {
                        "annotation": "Download the found sequences",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/ncbi_acc_download/ncbi_acc_download/0.2.8+galaxy0",
                        "errors": null,
                        "id": 7,
                        "input_connections": {
                            "query_source|accession_file": {
                                "id": 5,
                                "output_name": "out_file1"
                            }
                        },
                        "inputs": [
                            {
                                "description": "runtime parameter for tool NCBI Accession Download",
                                "name": "query_source"
                            }
                        ],
                        "label": "Get Data 2",
                        "name": "NCBI Accession Download",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "input"
                            },
                            {
                                "name": "error_log",
                                "type": "txt"
                            },
                            {
                                "name": "failed_accessions",
                                "type": "txt"
                            }
                        ],
                        "position": {
                            "left": 1256.818391786383,
                            "top": 117.02672941841817
                        },
                        "post_job_actions": {
                            "HideDatasetActionerror_log": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "error_log"
                            },
                            "HideDatasetActionoutput": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "output"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/ncbi_acc_download/ncbi_acc_download/0.2.8+galaxy0",
                        "tool_shed_repository": {
                            "changeset_revision": "e063168e0a81",
                            "name": "ncbi_acc_download",
                            "owner": "iuc",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"ignore_failed\": \"1\", \"molecule\": {\"select\": \"nucleotide\", \"__current_case__\": 0, \"format\": \"fasta\"}, \"query_source\": {\"select\": \"accession_file\", \"__current_case__\": 0, \"accession_file\": {\"__class__\": \"ConnectedValue\"}}, \"range\": null, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "0.2.8+galaxy0",
                        "type": "tool",
                        "uuid": "bcd1b002-3797-47b2-b4ae-2d327ac19d86",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "8": {
                        "annotation": "Download the found sequences",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/ncbi_acc_download/ncbi_acc_download/0.2.8+galaxy0",
                        "errors": null,
                        "id": 8,
                        "input_connections": {
                            "query_source|accession_file": {
                                "id": 6,
                                "output_name": "out_file1"
                            }
                        },
                        "inputs": [
                            {
                                "description": "runtime parameter for tool NCBI Accession Download",
                                "name": "query_source"
                            }
                        ],
                        "label": "Get Data",
                        "name": "NCBI Accession Download",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "input"
                            },
                            {
                                "name": "error_log",
                                "type": "txt"
                            }
                        ],
                        "position": {
                            "left": 1270.561474001048,
                            "top": 380.9968139064139
                        },
                        "post_job_actions": {
                            "HideDatasetActionerror_log": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "error_log"
                            },
                            "HideDatasetActionoutput": {
                                "action_arguments": {},
                                "action_type": "HideDatasetAction",
                                "output_name": "output"
                            }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/ncbi_acc_download/ncbi_acc_download/0.2.8+galaxy0",
                        "tool_shed_repository": {
                            "changeset_revision": "e063168e0a81",
                            "name": "ncbi_acc_download",
                            "owner": "iuc",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"ignore_failed\": \"0\", \"molecule\": {\"select\": \"nucleotide\", \"__current_case__\": 0, \"format\": \"fasta\"}, \"query_source\": {\"select\": \"accession_file\", \"__current_case__\": 0, \"accession_file\": {\"__class__\": \"ConnectedValue\"}}, \"range\": null, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "0.2.8+galaxy0",
                        "type": "tool",
                        "uuid": "2b6ece14-ca5b-4ff8-8ec3-65b93f8b7c05",
                        "when": null,
                        "workflow_outputs": []
                    },
                    "9": {
                        "annotation": "Collapse collection into single dataset",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/5.1.0",
                        "errors": null,
                        "id": 9,
                        "input_connections": {
                            "input_list": {
                                "id": 7,
                                "output_name": "output"
                            }
                        },
                        "inputs": [],
                        "label": " Collapse Collection",
                        "name": "Collapse Collection",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 1514.1376488443752,
                            "top": 127.47003561607964
                        },
                        "post_job_actions": {},
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/5.1.0",
                        "tool_shed_repository": {
                            "changeset_revision": "90981f86000f",
                            "name": "collapse_collections",
                            "owner": "nml",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"filename\": {\"add_name\": false, \"__current_case__\": 1}, \"input_list\": {\"__class__\": \"ConnectedValue\"}, \"one_header\": false, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "5.1.0",
                        "type": "tool",
                        "uuid": "5e67519b-590b-448d-9d8d-79d91dde6eb7",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "Best Organism",
                                "output_name": "output",
                                "uuid": "f6750005-e944-4008-8cce-a986d17b7db5"
                            }
                        ]
                    },
                    "10": {
                        "annotation": "Collapse collection into single dataset",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/5.1.0",
                        "errors": null,
                        "id": 10,
                        "input_connections": {
                            "input_list": {
                                "id": 8,
                                "output_name": "output"
                            }
                        },
                        "inputs": [],
                        "label": " Collapse Collection 2",
                        "name": "Collapse Collection",
                        "outputs": [
                            {
                                "name": "output",
                                "type": "input"
                            }
                        ],
                        "position": {
                            "left": 1524.6472124146323,
                            "top": 400.3505614424284
                        },
                        "post_job_actions": {},
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/5.1.0",
                        "tool_shed_repository": {
                            "changeset_revision": "90981f86000f",
                            "name": "collapse_collections",
                            "owner": "nml",
                            "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"filename\": {\"add_name\": false, \"__current_case__\": 1}, \"input_list\": {\"__class__\": \"ConnectedValue\"}, \"one_header\": false, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
                        "tool_uuid": null,
                        "tool_version": "5.1.0",
                        "type": "tool",
                        "uuid": "9ea5f5a7-8536-43b2-b976-15c90ab0b77d",
                        "when": null,
                        "workflow_outputs": [
                            {
                                "label": "Best_hit",
                                "output_name": "output",
                                "uuid": "ac360700-b1ec-4dda-9545-d77933b55d91"
                            }
                        ]
                    }
                },
                "tags": [],
                "uuid": "ece612bd-c553-449b-a4e4-e9c9245fd953"
            },
            "tool_id": null,
            "type": "subworkflow",
            "uuid": "47648dfe-64da-443d-99d8-ec12792700ee",
            "when": "$(inputs.when)",
            "workflow_outputs": [
                {
                    "label": "Detected Virus - reference assembly",
                    "output_name": "Best_hit",
                    "uuid": "8f672825-3272-4f61-a114-105fc52c2822"
                }
            ]
        },
        "35": {
            "annotation": "Select the reference to map against. You can either use an existing reference sequence or generate one de novo, then identify the closest match by BLASTing against a database.\n\nif both available pick first. if one select it.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "errors": null,
            "id": 35,
            "input_connections": {
                "style_cond|type_cond|pick_from_0|value": {
                    "id": 25,
                    "output_name": "Best Organism"
                },
                "style_cond|type_cond|pick_from_1|value": {
                    "id": 34,
                    "output_name": "Best Organism"
                }
            },
            "inputs": [],
            "label": "Which Blast Step?",
            "name": "Pick parameter value",
            "outputs": [
                {
                    "name": "data_param",
                    "type": "input"
                }
            ],
            "position": {
                "left": 3693.1361358430595,
                "top": 1456.8739202847178
            },
            "post_job_actions": {
                "ChangeDatatypeActiondata_param": {
                    "action_arguments": {
                        "newtype": "fasta"
                    },
                    "action_type": "ChangeDatatypeAction",
                    "output_name": "data_param"
                },
                "RenameDatasetActiondata_param": {
                    "action_arguments": {
                        "newname": "map_ref"
                    },
                    "action_type": "RenameDatasetAction",
                    "output_name": "data_param"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
            "tool_shed_repository": {
                "changeset_revision": "b19e21af9c52",
                "name": "pick_value",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"data\", \"__current_case__\": 4, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"value\": {\"__class__\": \"ConnectedValue\"}}]}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "0.2.0",
            "type": "tool",
            "uuid": "2b087d39-383c-4598-85cf-1e5782457839",
            "when": null,
            "workflow_outputs": [
                {
                    "label": "Best Organism",
                    "output_name": "data_param",
                    "uuid": "fd28fc28-4083-4079-9189-e7185c2d55a0"
                }
            ]
        },
        "36": {
            "annotation": "generates MSA of all the found best hits of all the samples and the consensuses of the samples.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/rnateam/mafft/rbc_mafft/7.526+galaxy2",
            "errors": null,
            "id": 36,
            "input_connections": {
                "input|batches_0|inputs": {
                    "id": 35,
                    "output_name": "data_param"
                },
                "input|batches_1|inputs": {
                    "id": 32,
                    "output_name": "outfile"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool MAFFT",
                    "name": "seed"
                }
            ],
            "label": " MAFFT",
            "name": "MAFFT",
            "outputs": [
                {
                    "name": "outputAlignment",
                    "type": "fasta"
                }
            ],
            "position": {
                "left": 4031.6071831016475,
                "top": 1484.8608881339542
            },
            "post_job_actions": {
                "ChangeDatatypeActionoutputAlignment": {
                    "action_arguments": {
                        "newtype": "fasta"
                    },
                    "action_type": "ChangeDatatypeAction",
                    "output_name": "outputAlignment"
                },
                "RenameDatasetActionoutputAlignment": {
                    "action_arguments": {
                        "newname": "alignment"
                    },
                    "action_type": "RenameDatasetAction",
                    "output_name": "outputAlignment"
                },
                "TagDatasetActionoutputAlignment": {
                    "action_arguments": {
                        "tags": "MAFFT"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "outputAlignment"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/rnateam/mafft/rbc_mafft/7.526+galaxy2",
            "tool_shed_repository": {
                "changeset_revision": "0a507f4bd19a",
                "name": "mafft",
                "owner": "rnateam",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"anysymbol\": false, \"datatype_selection\": {\"datatype\": \"--nuc\", \"__current_case__\": 1, \"scoring_matrix\": {\"type\": \"--kimura\", \"__current_case__\": 0, \"coefficient\": \"200\"}, \"fmodel\": false, \"gap_costs\": {\"use_defaults\": \"no\", \"__current_case__\": 1, \"ep\": \"0.0\", \"op\": \"1.53\"}}, \"flavour\": {\"type\": \"mafft-fftns\", \"__current_case__\": 2}, \"input\": {\"mapping\": \"merge\", \"__current_case__\": 1, \"batches\": [{\"__index__\": 0, \"inputs\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"inputs\": {\"__class__\": \"ConnectedValue\"}}]}, \"outputFormat\": \"\", \"reorder\": false, \"seed\": {\"__class__\": \"RuntimeValue\"}, \"treeout\": false, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "7.526+galaxy2",
            "type": "tool",
            "uuid": "34371e76-370e-4daf-bdb4-161c59341110",
            "when": null,
            "workflow_outputs": [
                {
                    "label": "MSA",
                    "output_name": "outputAlignment",
                    "uuid": "374275b8-206a-448e-8014-01d22bc7b49a"
                }
            ]
        },
        "37": {
            "annotation": "Cleans the MSA",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/cialign/cialign/1.1.4+galaxy0",
            "errors": null,
            "id": 37,
            "input_connections": {
                "input": {
                    "id": 36,
                    "output_name": "outputAlignment"
                }
            },
            "inputs": [],
            "label": " CIAlign",
            "name": "CIAlign",
            "outputs": [
                {
                    "name": "output_cleaned",
                    "type": "fasta"
                },
                {
                    "name": "output_removed",
                    "type": "txt"
                },
                {
                    "name": "plot_input",
                    "type": "png"
                },
                {
                    "name": "plot_output",
                    "type": "png"
                },
                {
                    "name": "output_consensus",
                    "type": "fasta"
                },
                {
                    "name": "output_with_consensus",
                    "type": "fasta"
                }
            ],
            "position": {
                "left": 4274.685931411194,
                "top": 1476.0781959945803
            },
            "post_job_actions": {
                "HideDatasetActionoutput_consensus": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output_consensus"
                },
                "HideDatasetActionoutput_removed": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output_removed"
                },
                "HideDatasetActionoutput_with_consensus": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output_with_consensus"
                },
                "HideDatasetActionplot_input": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "plot_input"
                },
                "TagDatasetActionoutput_cleaned": {
                    "action_arguments": {
                        "tags": "CIAlign"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "output_cleaned"
                },
                "TagDatasetActionoutput_consensus": {
                    "action_arguments": {
                        "tags": "CIAlign"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "output_consensus"
                },
                "TagDatasetActionplot_input": {
                    "action_arguments": {
                        "tags": "CIAlign"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "plot_input"
                },
                "TagDatasetActionplot_output": {
                    "action_arguments": {
                        "tags": "CIAlign"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "plot_output"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/cialign/cialign/1.1.4+galaxy0",
            "tool_shed_repository": {
                "changeset_revision": "3c5bdab3c7b7",
                "name": "cialign",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"basic_options\": {\"all\": false, \"clean\": false, \"visualise\": false, \"interpret\": false, \"log_out\": false}, \"cleaning_options\": {\"remove_divergent_cond\": {\"remove_divergent_param\": \"false\", \"__current_case__\": 1}, \"remove_insertions_cond\": {\"remove_insertions_param\": \"true\", \"__current_case__\": 0, \"insertion_min_size\": \"3\", \"insertion_max_size\": \"10000\", \"insertion_min_flank\": \"5\", \"insertion_min_perc\": \"0.05\"}, \"crop_ends_cond\": {\"crop_ends_param\": \"true\", \"__current_case__\": 0, \"crop_ends_mingap_perc\": \"0.1\", \"crop_ends_redefine_perc\": \"0.1\", \"crop_ends_retain_seqs\": [], \"crop_ends_retain_strings\": []}, \"remove_short_cond\": {\"remove_short_param\": \"false\", \"__current_case__\": 1}, \"crop_divergent_cond\": {\"crop_divergent_param\": \"false\", \"__current_case__\": 1}, \"retain_cond\": {\"retain_param\": \"false\", \"__current_case__\": 1}, \"keep_gaponly\": false}, \"editing_functions\": {\"get_section_cond\": {\"get_section_param\": \"false\", \"__current_case__\": 1}, \"replace_input_tu\": false, \"replace_input_ut\": false, \"replace_output_tu\": false, \"replace_output_ut\": false, \"unalign_input\": false, \"unalign_output\": false, \"deduplicate_ids\": true, \"duporder\": \"first\"}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"interpretation_options\": {\"consensus_sequences_cond\": {\"consensus_sequences_param\": \"true\", \"__current_case__\": 0, \"consensus_type\": \"majority_nongap\", \"consensus_keep_gaps\": true}, \"position_matrices\": {\"pwm_input\": false, \"pwm_output\": false, \"matrices_settings\": {\"pwm_start\": null, \"pwm_end\": null, \"pwm_freqtype\": \"equal\", \"pwm_alphatype\": \"calc\", \"pwm_alphaval\": \"1\"}, \"pwm_output_blamm\": false, \"pwm_output_meme\": false}, \"similarity_matrices\": {\"make_similarity_matrix_input\": false, \"make_similarity_matrix_output\": false, \"similarity_matrices_settings\": {\"make_simmatrix_keepgaps\": \"0\", \"make_simmatrix_dp\": \"4\", \"make_simmatrix_minoverlap\": \"1\"}}}, \"visualisation_options\": {\"basic_visualisation_options\": {\"plot_input\": true, \"plot_output\": true, \"plot_markup\": false, \"plot_consensus_identity\": false, \"plot_consensus_similarity\": false, \"output_settings_cond\": {\"output_settings_param\": \"true\", \"__current_case__\": 0, \"plot_width\": \"5\", \"plot_height\": \"3\", \"plot_dpi\": \"300\", \"plot_keep_numbers\": true, \"plot_force_numbers\": false, \"plot_identity_palette\": \"bone\", \"plot_identity_gap_col\": \"#ffffff\", \"plot_similarity_palette\": \"bone\", \"plot_similarity_gap_col\": \"#ffffff\", \"plot_sub_matrix_name\": \"NUC.4.4\", \"palette\": \"CBS\"}}, \"sequence_logo_cond\": {\"sequence_logo_param\": \"false\", \"__current_case__\": 1}, \"statistics_plots\": {\"plot_stats_input\": false, \"plot_stats_output\": false, \"stats_settings\": {\"plot_stats_dpi\": \"300\", \"plot_stats_width\": \"5\", \"plot_stats_height\": \"3\", \"plot_stats_colour\": \"#0000ff\"}}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "1.1.4+galaxy0",
            "type": "tool",
            "uuid": "2902ef5a-db61-46c6-a701-8343872d22bd",
            "when": null,
            "workflow_outputs": [
                {
                    "label": "output_cleaned",
                    "output_name": "output_cleaned",
                    "uuid": "10451341-3365-4302-9612-c28e78b3033f"
                },
                {
                    "label": "plot_output",
                    "output_name": "plot_output",
                    "uuid": "edd522f4-4044-4f56-ba33-a8a6491eecff"
                },
                {
                    "label": "plot_input",
                    "output_name": "plot_input",
                    "uuid": "941a7598-a43b-41c2-9a83-638fab718063"
                },
                {
                    "label": "Cleaned MSA",
                    "output_name": "output_consensus",
                    "uuid": "be23fa9c-50dd-4242-a200-868ef3f9baff"
                }
            ]
        },
        "38": {
            "annotation": "Phylogenomic evolutionary tree construction from multiple sequences. (Maximum likelihood approach)",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/iqtree/iqtree/2.4.0+galaxy1",
            "errors": null,
            "id": 38,
            "input_connections": {
                "general_options|s": {
                    "id": 37,
                    "output_name": "output_cleaned"
                },
                "when": {
                    "id": 8,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool IQ-TREE",
                    "name": "general_options"
                },
                {
                    "description": "runtime parameter for tool IQ-TREE",
                    "name": "general_options"
                },
                {
                    "description": "runtime parameter for tool IQ-TREE",
                    "name": "likelihood_mapping"
                }
            ],
            "label": " IQ-TREE",
            "name": "IQ-TREE",
            "outputs": [
                {
                    "name": "bionj",
                    "type": "nhx"
                },
                {
                    "name": "treefile",
                    "type": "nhx"
                },
                {
                    "name": "mldist",
                    "type": "mldist"
                },
                {
                    "name": "splits",
                    "type": "nex"
                },
                {
                    "name": "iqtree",
                    "type": "iqtree"
                }
            ],
            "position": {
                "left": 4717.833141183329,
                "top": 1366.7505462110921
            },
            "post_job_actions": {
                "ChangeDatatypeActiontreefile": {
                    "action_arguments": {
                        "newtype": "newick"
                    },
                    "action_type": "ChangeDatatypeAction",
                    "output_name": "treefile"
                },
                "HideDatasetActionbionj": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "bionj"
                },
                "HideDatasetActionmldist": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "mldist"
                },
                "TagDatasetActiontreefile": {
                    "action_arguments": {
                        "tags": "IQ-Tree,Phylogeny"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "treefile"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/iqtree/iqtree/2.4.0+galaxy1",
            "tool_shed_repository": {
                "changeset_revision": "18a61a9c1601",
                "name": "iqtree",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"bootstrap_parameters\": {\"ultrafast_bootstrap\": {\"ufboot\": null, \"ufjack\": null, \"jack_prop\": null, \"boot_trees\": false, \"wbtl\": false, \"nmax\": \"1000\", \"bcor\": \"0.99\", \"nstep\": \"100\", \"beps\": \"0.5\", \"sampling\": null, \"bnni\": false}, \"nonparametric_bootstrap\": {\"boot\": null, \"jack\": null, \"jack_prop\": null, \"bcon\": null, \"bonly\": null, \"tbe\": false}}, \"general_options\": {\"s\": {\"__class__\": \"ConnectedValue\"}, \"o\": null, \"short_alignments\": false, \"seqtype\": \"DNA\", \"t\": {\"__class__\": \"RuntimeValue\"}, \"seed\": null, \"keep_ident\": false, \"epsilon\": null, \"safe\": false}, \"likelihood_mapping\": {\"lmap\": null, \"lmclust\": {\"__class__\": \"RuntimeValue\"}, \"quartetlh\": false}, \"miscellaneous_options\": {\"fconst\": null, \"blmin\": null, \"blmax\": null}, \"modelling_parameters\": {\"automatic_model\": {\"cond_model\": {\"opt_custommodel\": \"true\", \"__current_case__\": 0, \"m\": null}, \"merge_strategy\": {\"merge\": \"none\", \"__current_case__\": 0}, \"mset\": null, \"msub\": \"nuclear\", \"mfreq\": null, \"mrate\": null, \"cmin\": \"2\", \"cmax\": \"10\", \"merit\": \"AIC\", \"mtree\": false, \"madd\": null, \"mdef\": {\"__class__\": \"RuntimeValue\"}, \"modelomatic\": false}, \"specifying_substitution\": {\"mix_opt\": false}, \"rate_heterogeneity\": {\"alpha_min\": null, \"gamma_median\": false, \"i\": null, \"opt_gamma_inv\": false, \"rate\": false, \"mlrate\": false}, \"partition_model\": {\"model_selection\": {\"model\": \"none\", \"__current_case__\": 0}}, \"site_specific_frequency\": {\"tree_freq\": {\"__class__\": \"RuntimeValue\"}, \"site_freq\": null, \"freq_max\": false}}, \"time_tree\": {\"date_source\": {\"select_source\": \"none\", \"__current_case__\": 0}, \"date_tip\": null, \"date_root\": null, \"date_ci\": null, \"clock_sd\": null, \"date_no_outgroup\": false, \"date_outlier\": null, \"date_options\": null}, \"tree_parameters\": {\"tree_search\": {\"n\": null, \"ninit\": \"100\", \"ntop\": \"20\", \"nbest\": \"5\", \"nstop\": \"100\", \"radius\": \"6\", \"perturb\": \"0.5\", \"allnni\": false, \"tree_fix\": false, \"g\": {\"__class__\": \"RuntimeValue\"}, \"fast\": false, \"polytomy\": false, \"treels\": false, \"show_lh\": false, \"terrace\": false}, \"single_branch\": {\"alrt\": null, \"abayes\": false, \"lbp\": null}, \"tree_topology\": {\"trees\": {\"__class__\": \"RuntimeValue\"}, \"test\": null, \"test_weight\": false, \"test_au\": false}, \"constructing_consensus\": {\"contree\": false, \"connet\": false, \"sup_min\": \"0.0\", \"burnin\": null, \"support\": {\"__class__\": \"RuntimeValue\"}, \"suptag\": null}, \"computing_robinson_foulds\": {\"tree_dist_all\": false, \"tree_dist\": {\"__class__\": \"RuntimeValue\"}, \"tree_dist2\": {\"__class__\": \"RuntimeValue\"}}, \"generating_random\": {\"r\": null, \"rand\": null, \"branch_min\": null, \"branch_mean\": null, \"branch_max\": null}, \"ancestral_state\": {\"ancestral\": false, \"asr_min\": null}, \"symmetry_test\": {\"symtest\": false, \"symtest_remove_bad\": false, \"symtest_remove_good\": false, \"symtest_type\": null, \"symtest_pval\": null, \"symtest_keep_zero\": false}, \"concordance_factor\": {\"gcf\": {\"__class__\": \"RuntimeValue\"}, \"df_tree\": false, \"scf\": null, \"cf_verbose\": false, \"cf_quartet\": false}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "2.4.0+galaxy1",
            "type": "tool",
            "uuid": "e64a8649-b53e-488f-89d4-436f9f713835",
            "when": "$(inputs.when)",
            "workflow_outputs": [
                {
                    "label": "Phylogenetic tree",
                    "output_name": "treefile",
                    "uuid": "2d451c0a-6e98-4286-8efe-6b23b67d8de3"
                }
            ]
        },
        "39": {
            "annotation": "Convert fasta to nexsus",
            "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/emboss_5/EMBOSS: seqret84/5.0.0",
            "errors": null,
            "id": 39,
            "input_connections": {
                "input1": {
                    "id": 37,
                    "output_name": "output_cleaned"
                }
            },
            "inputs": [],
            "label": "convert to nex",
            "name": "seqret",
            "outputs": [
                {
                    "name": "out_file1",
                    "type": "fasta"
                }
            ],
            "position": {
                "left": 4943.17645918681,
                "top": 1508.8333964295123
            },
            "post_job_actions": {
                "ChangeDatatypeActionout_file1": {
                    "action_arguments": {
                        "newtype": "nex"
                    },
                    "action_type": "ChangeDatatypeAction",
                    "output_name": "out_file1"
                },
                "HideDatasetActionout_file1": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "out_file1"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/emboss_5/EMBOSS: seqret84/5.0.0",
            "tool_shed_repository": {
                "changeset_revision": "ce385837c160",
                "name": "emboss_5",
                "owner": "devteam",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"feature\": \"no\", \"firstonly\": \"no\", \"input1\": {\"__class__\": \"ConnectedValue\"}, \"out_format1\": \"nexus\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "5.0.0",
            "type": "tool",
            "uuid": "cd68179d-4114-4da2-b21f-871154e30401",
            "when": null,
            "workflow_outputs": []
        },
        "40": {
            "annotation": "Phylogeny inference using MrBayes.",
            "content_id": "toolshed.g2.bx.psu.edu/repos/nml/mrbayes/mrbayes/1.0.2",
            "errors": null,
            "id": 40,
            "input_connections": {
                "data": {
                    "id": 39,
                    "output_name": "out_file1"
                },
                "when": {
                    "id": 9,
                    "output_name": "output"
                }
            },
            "inputs": [],
            "label": " MrBayes",
            "name": "MrBayes",
            "outputs": [
                {
                    "name": "outfile",
                    "type": "txt"
                }
            ],
            "position": {
                "left": 5205.185626667481,
                "top": 1489.7960158407582
            },
            "post_job_actions": {
                "TagDatasetActionoutfile": {
                    "action_arguments": {
                        "tags": "Phylogeny,MrBayes"
                    },
                    "action_type": "TagDatasetAction",
                    "output_name": "outfile"
                }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/nml/mrbayes/mrbayes/1.0.2",
            "tool_shed_repository": {
                "changeset_revision": "905d00fb5243",
                "name": "mrbayes",
                "owner": "nml",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"append\": false, \"burninfrac\": \"0.25\", \"checkfreq\": \"100000\", \"data\": {\"__class__\": \"ConnectedValue\"}, \"filename\": \"\", \"model\": \"lset nst=6\", \"nchain\": \"4\", \"ngen\": \"5000000\", \"nrun\": \"2\", \"outgroup\": \"1\", \"plot\": true, \"printfreq\": \"1000\", \"rates\": \"equal\", \"samplefreq\": \"1000\", \"seed\": \"5\", \"stoprule\": \"no\", \"sump\": true, \"sumt\": true, \"swapseed\": \"5\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}",
            "tool_uuid": null,
            "tool_version": "1.0.2",
            "type": "tool",
            "uuid": "9af5c2d0-5924-4a75-887c-56dc72be40f3",
            "when": "$(inputs.when)",
            "workflow_outputs": [
                {
                    "label": "Phylogenetic tree distribution",
                    "output_name": "outfile",
                    "uuid": "47f4d219-c9d3-495a-ad0b-f8596c1fb0ef"
                }
            ]
        }
    },
    "tags": [
        "virology",
        "Metagenomics",
        "Nanopore",
        "Phylogeny"
    ],
    "uuid": "55cb281e-38f8-4468-84ca-ed476618d0a8",
    "version": 19
}