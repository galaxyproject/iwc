- doc: Test outline for tb_variant_analysis.ga
  job:
    Reads:
      class: Collection
      collection_type: 'list:paired'
      elements:
      - class: Collection
        type: paired
        identifier: SRR27450480_subsample
        elements:
        - identifier: forward
          class: File
          location: 'https://zenodo.org/records/18200663/files/SRR27450480_subsample_R1.fastq.gz' 
          filetype: fastqsanger.gz
          hashes:
          - hash_function: SHA-1
            hash_value: "b2d6a1adf0195e9713172f660c91d220e5f1b848"
        - identifier: reverse
          class: File
          location: 'https://zenodo.org/records/18200663/files/SRR27450480_subsample_R2.fastq.gz'
          filetype: fastqsanger.gz
          hashes:
          - hash_function: SHA-1
            hash_value: "28475dd93ca6daec43e07c42d86fbeaa9301afc1"
      # - class: Collection
      #   type: paired
      #   identifier: SRR26558644_subsample
      #   elements:
      #   - identifier: forward
      #     class: File
      #     location: 'https://zenodo.org/records/18200663/files/SRR26558644_subsample_R1.fastq.gz'
      #     filetype: fastqsanger.gz
      #     hashes:
      #     - hash_function: SHA-1
      #       hash_value: "ef5074ff8425ceb139245cdcbcd69f24229b1e53"
      #   - identifier: reverse
      #     class: File
      #     location: 'https://zenodo.org/records/18200663/files/SRR26558644_subsample_R2.fastq.gz'
      #     filetype: fastqsanger.gz
      #     hashes:
      #     - hash_function: SHA-1
      #       hash_value: "2e9952ccc03b27d5d0e1f428838a9aa63e0745a0"
      - class: Collection
        type: paired
        identifier: SRR27450456_subsample
        elements:
        - identifier: forward
          class: File
          location: 'https://zenodo.org/records/18200663/files/SRR27450456_subsample_R1.fastq.gz'
          filetype: fastqsanger.gz
          hashes:
          - hash_function: SHA-1
            hash_value: "13439fea0cce0990fb602a6d9cd23e07dffa97cd"
        - identifier: reverse
          class: File
          location: 'https://zenodo.org/records/18200663/files/SRR27450456_subsample_R2.fastq.gz'
          filetype: fastqsanger.gz
          hashes:
          - hash_function: SHA-1
            hash_value: "3be7b386bf3d3f80a6743513808a77d272706daf"
    Reference Genome:
      class: File
      location: 'https://zenodo.org/records/18200663/files/Mycobacterium_tuberculosis_ancestral_reference.gbk'
      filetype: genbank
      hashes:
      - hash_function: SHA-1
        hash_value: "5794893a0e772bd2af393bfa72a0a0735f3e4460"
    Fraction of genome with min depth: 0.15
  outputs:
    "SNP distance between samples":
      asserts:
        has_line:
          line: "SRR27450480_subsample\t0\t592"
    "Concatenated consensus sequences":
      asserts:
        has_line:
          line: ">SRR27450480_subsample Chromosome Mycobacterium tuberculosis H37Rv, complete genome."
        has_size:
          value: 8970286
    "TB Profiler Collate tabular output":
      asserts:
        has_text:
          text: "katG p.Ser315Thr (1.00)"
    "MultiQC tabular stats":
      asserts:
        has_text_matching:
          expression: "SRR27450456_subsample.*18.987734873055437"

