- doc: Test for consensus-peaks-chip-sr.ga
  job:
    n rmDup BAMSR:
      class: Collection
      collection_type: list
      elements:
      - class: File
        identifier: rep1
        path: test-data/ChIP_SR_rep1.bam
        dbkey: mm10
        hashes:
        - hash_function: SHA-1
          hash_value: 6eb0213baf8b0ad9bcd231f265a2b546ccf27c86
      - class: File
        identifier: rep2
        path: test-data/ChIP_SR_rep2.bam
        dbkey: mm10
        hashes:
        - hash_function: SHA-1
          hash_value: bc0af156a886d7db3301d43c27f868c8ac20e4ab
      - class: File
        identifier: rep3
        path: test-data/ChIP_SR_rep3.bam
        dbkey: mm10
        hashes:
        - hash_function: SHA-1
          hash_value: 04fc480496751761d8535e7df522a7f3144810a4
    Minimum number of overlap: 2
    effective_genome_size: 1870000000
    bin_size: 50
  outputs:
    individual_macs2_narrowPeaks:
      element_tests:
        rep1:
          asserts:
            has_n_lines:
              n: 3
        rep2:
          asserts:
            has_n_lines:
              n: 3
        rep3:
          asserts:
            has_n_lines:
              n: 3
    average_bigwig:
      asserts:
        has_size:
          value: 1290
          delta: 100
    merged_macs2_narrowPeaks:
      asserts:
        has_n_lines:
          n: 4
    multiqc_output:
      asserts:
        has_text:
          text: "MACS2: Fragment Length"
    shared_narrowPeak:
      asserts:
        has_n_lines:
          n: 2
