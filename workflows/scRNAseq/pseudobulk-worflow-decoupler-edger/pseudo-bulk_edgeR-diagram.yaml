title: "Pseudobulk Differential Expression with Decoupler and edgeR"
nodes:
  - id: anndataInput
    type: input
    label: AnnData File
    subtitle: Annotated scRNA-seq object
    column: 0
    row: 0
  - id: paramsInput
    type: input
    label: Analysis Parameters
    subtitle: Grouping, factors, formula
    column: 0
    row: 1
  - id: decoupler
    type: tool
    label: Decoupler Pseudobulk
    subtitle: Aggregate cells by metadata
    step: "1"
    column: 1
    row: 0
  - id: edger
    type: tool
    label: edgeR
    subtitle: Differential expression testing
    step: "2"
    column: 2
    row: 0
  - id: volcanoPlot
    type: report
    label: Volcano Plot
    subtitle: Visualize DE results
    column: 2
    row: 1
  - id: degTables
    type: output
    label: DEG Tables
    subtitle: Per-contrast DE results
    column: 3
    row: 0
  - id: pseudobulkPlot
    type: output
    label: Pseudobulk Plot
    subtitle: Sample counts &amp; cells
    column: 3
    row: 1
edges:
  - from: anndataInput
    to: decoupler
  - from: paramsInput
    to: decoupler
    style: secondary
  - from: decoupler
    to: edger
  - from: decoupler
    to: pseudobulkPlot
    style: qc
  - from: edger
    to: degTables
  - from: edger
    to: volcanoPlot
legend:
  items: [input, primary, secondary, qc, output, report]
