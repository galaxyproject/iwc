# IWC Website (Astro)

This is the Astro-based website for the Intergalactic Workflow Commission (IWC), showcasing the Galaxy Workflow Library.

## 🚀 Quick Start

### Prerequisites

- Node.js 18+
- npm or yarn

### Installation

```bash
npm install
```

### Development

```bash
npm run dev
```

This starts the development server at `http://localhost:4321/`

### Building for Production

```bash
npm run build
```

This generates a static site in the `dist/` directory.

### Preview Production Build

```bash
npm run preview
```

### Testing

```bash
npm run test
```

Runs the Playwright E2E tests.

## 📁 Project Structure

```
├── public/               # Static assets
│   ├── workflow_manifest.json  # Generated workflow metadata
│   └── category-descriptions/  # Markdown descriptions for categories
├── src/
│   ├── components/       # Vue components (islands)
│   │   ├── WorkflowCard.vue
│   │   ├── Filters.vue
│   │   ├── WorkflowGrid.vue
│   │   ├── MarkdownRenderer.vue
│   │   ├── GalaxyInstanceSelector.vue
│   │   └── ...
│   ├── layouts/          # Astro layouts
│   │   └── BaseLayout.astro
│   ├── models/           # TypeScript models
│   │   └── workflow.ts
│   ├── pages/            # Astro pages (file-based routing)
│   │   ├── index.astro
│   │   ├── about.astro
│   │   ├── collection/[slug].astro
│   │   └── workflow/[id].astro
│   ├── stores/           # Nanostores for state management
│   │   └── workflowStore.ts
│   ├── utils/            # Utility functions
│   │   ├── manifest.ts
│   │   └── index.ts
│   └── env.d.ts
├── astro.config.mjs      # Astro configuration
├── tailwind.config.ts    # Tailwind CSS configuration
└── tsconfig.json         # TypeScript configuration
```

## 🧩 Key Technologies

- **Astro 5.2**: Static site generator with islands architecture
- **Vue 3**: Interactive components using Vue islands
- **Tailwind CSS**: Utility-first CSS framework
- **Nanostores**: Lightweight state management
- **TypeScript**: Type-safe development
- **Fuse.js**: Fuzzy search
- **Marked**: Markdown rendering
- **Mermaid**: Diagram rendering
- **Playwright**: E2E testing

## 🏗️ Architecture

This site uses Astro's islands architecture, where:

- Pages are pre-rendered at build time (SSG)
- Interactive Vue components are hydrated on the client only where needed (`client:load`)
- State management is handled by Nanostores (lighter than Pinia)
- Workflow data is loaded from `workflow_manifest.json` generated by the Python scripts in the parent directory

## 📝 Generating Workflow Manifest

The workflow manifest must be generated before building the site:

```bash
# From the repository root
python scripts/workflow_manifest.py
```

This creates `website-astro/public/workflow_manifest.json` with metadata for all workflows.

## 🎨 Styling

The site uses a custom Galaxy color scheme defined in `tailwind.config.ts`:

- **ebony-clay**: Dark navy (primary dark)
- **bay-of-many**: Medium blue (primary)
- **hokey-pokey**: Gold accent
- **chicago**: Gray (secondary)

## 🔄 Migration from Nuxt

This site was migrated from Nuxt 3 to Astro for:

- Better static site generation performance
- Reduced JavaScript bundle size
- Simpler architecture for a content-heavy site
- Islands architecture for selective hydration

Key changes:

- Replaced Nuxt UI components with plain Tailwind
- Replaced Pinia with Nanostores
- Replaced Nuxt pages with Astro pages
- Vue components remain mostly unchanged (used as islands)

## 📄 License

See the parent repository for license information.
