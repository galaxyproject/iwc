import{s as y,a as f,t as m,c as p}from"./workflowStore.DCI4RRDX.js";import{u as v}from"./index.MINANO7B.js";import{g as F,h as w,i as a}from"./runtime-core.esm-bundler.4ngP9Cs3.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"d523d51b9d7c50adca77c98a285bd7c4db7bef01"};var s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="2771eeff-a8ae-4be1-9da0-e4c785cc2d76",t._sentryDebugIdIdentifier="sentry-dbid-2771eeff-a8ae-4be1-9da0-e4c785cc2d76")}catch{}})();function D(t){const{workflows:s,closeOnSelect:i}=t,b=v(f),c=w([]),d=w(!1),u=a(()=>{const e=new Set;for(const o of s)for(const n of o.collections)e.add(n);return Array.from(e).sort()}),l=a(()=>{const e={};for(const o of s)for(const n of o.collections)e[n]=(e[n]||0)+1;return e}),g=a(()=>[...u.value].sort((e,o)=>(l.value[o]||0)-(l.value[e]||0)));F(()=>{y(),c.value=[...b.value],d.value=!0}),f.subscribe(e=>{d.value&&(c.value=[...e])});function S(e){if(window.location.pathname==="/"){const n=c.value.includes(e);m(e);const r=new URLSearchParams(window.location.search);n?r.delete("filter"):r.set("filter",e);const h=r.toString()?`?${r.toString()}`:"/";window.history.pushState({},"",h)}else window.location.href=`/collection/${p(e)}`;i?.()}return{selected:c,collections:u,collectionCounts:l,sortedCollections:g,handleFilterClick:S}}export{D as u};
