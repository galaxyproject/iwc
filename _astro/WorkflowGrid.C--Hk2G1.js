import{F as _}from"./fuse.Dw8P0qyA.js";import{a as k,s as v}from"./workflowStore.DFTn1lFK.js";import{W as y}from"./WorkflowCard.DblpE2wn.js";import{_ as W}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{u as x}from"./index.pcb7STfD.js";import{d as F,c as d,a as w,g as B,F as E,r as S,b,e as f,h as z,o as l,f as C}from"./runtime-core.esm-bundler.BI33FiHc.js";import"./index.BJ4moKYX.js";const L=F({__name:"WorkflowGrid",props:{workflows:{}},setup(u,{expose:n}){n();const c=u,t=x(v),o=b(""),a=f(()=>c.workflows.slice().sort((r,e)=>new Date(e.updated).getTime()-new Date(r.updated).getTime())),s={keys:[{name:"definition.name",weight:.7},{name:"definition.annotation",weight:.3},{name:"definition.tags",weight:.1}],threshold:.3},m=f(()=>new _(a.value,s)),h=f(()=>{const r=e=>!t.value.length||t.value.every(i=>e.collections.includes(i));return o.value?m.value.search(o.value.trim()).map(g=>g.item).filter(r):a.value.filter(r)});z(()=>{k(),new URLSearchParams(window.location.search).get("filter")&&setTimeout(()=>{const e=document.getElementById("workflows");e&&e.scrollIntoView({behavior:"smooth"})},100),window.addEventListener("search-change",e=>{const i=e;o.value=i.detail})});const p={props:c,filters:t,searchQuery:o,sortedWorkflows:a,fuseOptions:s,fuse:m,filteredWorkflows:h,WorkflowCard:y};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),M={class:"w-full"},N={id:"workflows",class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},R={key:0,class:"text-center py-12 text-gray-500"};function T(u,n,c,t,o,a){return l(),d("div",M,[w("div",N,[(l(!0),d(E,null,S(t.filteredWorkflows,s=>(l(),C(t.WorkflowCard,{key:s.definition.uuid,workflow:s},null,8,["workflow"]))),128))]),t.filteredWorkflows.length===0?(l(),d("div",R,[...n[0]||(n[0]=[w("p",{class:"text-xl"},"No workflows found matching your criteria.",-1)])])):B("",!0)])}const j=W(L,[["render",T]]);export{j as default};
