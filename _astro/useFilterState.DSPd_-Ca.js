import{s as h,a as f,t as m,c as p}from"./workflowStore.I6iBxAcx.js";import{u as v}from"./index.7H-nkDCh.js";import{g as F,b as w,j as a}from"./runtime-core.esm-bundler.E6Xgi_9v.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"fb7ca445d0f639e1bac3545d90f0c8b6455cc73c"};var c=new t.Error().stack;c&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[c]="0d8ed66e-5f36-4b13-aa99-cc9fe4ca15c7",t._sentryDebugIdIdentifier="sentry-dbid-0d8ed66e-5f36-4b13-aa99-cc9fe4ca15c7")}catch{}})();function D(t){const{workflows:c,closeOnSelect:i}=t,b=v(f),s=w([]),d=w(!1),u=a(()=>{const e=new Set;for(const o of c)for(const n of o.collections)e.add(n);return Array.from(e).sort()}),l=a(()=>{const e={};for(const o of c)for(const n of o.collections)e[n]=(e[n]||0)+1;return e}),g=a(()=>[...u.value].sort((e,o)=>(l.value[o]||0)-(l.value[e]||0)));F(()=>{h(),s.value=[...b.value],d.value=!0}),f.subscribe(e=>{d.value&&(s.value=[...e])});function S(e){if(window.location.pathname==="/"){const n=s.value.includes(e);m(e);const r=new URLSearchParams(window.location.search);n?r.delete("filter"):r.set("filter",e);const y=r.toString()?`?${r.toString()}`:"/";window.history.pushState({},"",y)}else window.location.href=`/collection/${p(e)}`;i?.()}return{selected:s,collections:u,collectionCounts:l,sortedCollections:g,handleFilterClick:S}}export{D as u};
