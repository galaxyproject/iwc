let o=[],f=0;const d=4;let w=0;const c=e=>{let n=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},lc:0,listen(s){return t.lc=n.push(s),()=>{for(let i=f+d;i<o.length;)o[i]===s?o.splice(i,d):i+=d;let l=n.indexOf(s);~l&&(n.splice(l,1),--t.lc||t.off())}},notify(s,l){w++;let i=!o.length;for(let r of n)o.push(r,t.value,s,l);if(i){for(f=0;f<o.length;f+=d)o[f](o[f+1],o[f+2],o[f+3]);o.length=0}},off(){},set(s){let l=t.value;l!==s&&(t.value=s,t.notify(l))},subscribe(s){let l=t.listen(s);return s(t.value),l},value:e};return t},E=5,h=6,p=10;let T=(e,n,t,s)=>(e.events=e.events||{},e.events[t+p]||(e.events[t+p]=s(l=>{e.events[t].reduceRight((i,r)=>(r(i),i),{shared:{},...l})})),e.events[t]=e.events[t]||[],e.events[t].push(n),()=>{let l=e.events[t],i=l.indexOf(n);l.splice(i,1),l.length||(delete e.events[t],e.events[t+p](),delete e.events[t+p])}),L=1e3,R=(e,n)=>T(e,s=>{let l=n(s);l&&e.events[h].push(l)},E,s=>{let l=e.listen;e.listen=(...r)=>(!e.lc&&!e.active&&(e.active=!0,s()),l(...r));let i=e.off;return e.events[h]=[],e.off=()=>{i(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let r of e.events[h])r();e.events[h]=[]}},L)},()=>{e.listen=l,e.off=i}}),M=(e,n,t)=>{Array.isArray(e)||(e=[e]);let s,l,i=()=>{if(l===w)return;l=w;let u=e.map(a=>a.get());if(!s||u.some((a,m)=>a!==s[m])){s=u;let a=n(...u);a&&a.then&&a.t?a.then(m=>{s===u&&r.set(m)}):(r.set(a),l=w)}},r=c(void 0),U=r.get;r.get=()=>(i(),U());let S=i;return R(r,()=>{let u=e.map(a=>a.listen(S));return i(),()=>{for(let a of u)a()}}),r};const O=(e,n)=>M(e,n),v=c([]),N=c([]),g=c([]),_=c(""),A=c("list"),x=c(""),F=O(v,e=>e.flatMap(n=>n.workflows));function I(e){v.set(e)}function Q(e){g.get().includes(e)?g.set([]):g.set([e])}function k(){if(typeof window<"u"){const n=new URLSearchParams(window.location.search).get("filter");n&&g.set([n])}}function q(){if(typeof window<"u"){const n=new URLSearchParams(window.location.search).get("q");n&&x.set(n)}}function P(e){if(typeof window<"u"){const n=new URLSearchParams(window.location.search);e.trim()?n.set("q",e.trim()):n.delete("q");const t=n.toString()?`?${n.toString()}`:window.location.pathname;window.history.replaceState({},"",t)}}function C(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}export{g as a,N as b,C as c,q as d,x as e,_ as f,F as g,I as h,k as s,Q as t,P as u,A as v};
