{"version":3,"file":"index.BIqJU_mi.js","sources":["../../node_modules/@nanostores/vue/use-store/index.js"],"sourcesContent":["import {\n  getCurrentInstance,\n  getCurrentScope,\n  onScopeDispose,\n  readonly,\n  shallowRef\n} from 'vue'\n\nexport function registerStore(store) {\n  let instance = getCurrentInstance()\n  if (instance && instance.proxy) {\n    let vm = instance.proxy\n    let cache = '_nanostores' in vm ? vm._nanostores : (vm._nanostores = [])\n    cache.push(store)\n  }\n}\n\nexport function useStore(store) {\n  let state = shallowRef()\n\n  let unsubscribe = store.subscribe(value => {\n    state.value = value\n  })\n\n  getCurrentScope() && onScopeDispose(unsubscribe)\n\n  if (process.env.NODE_ENV !== 'production') {\n    registerStore(store)\n    return readonly(state)\n  }\n  return state\n}\n"],"names":["useStore","store","state","shallowRef","unsubscribe","value","getCurrentScope","onScopeDispose"],"mappings":"weAiBO,SAASA,EAASC,EAAO,CAC9B,IAAIC,EAAQC,EAAA,EAERC,EAAcH,EAAM,UAAUI,GAAS,CACzCH,EAAM,MAAQG,CAChB,CAAC,EAED,OAAAC,EAAA,GAAqBC,EAAeH,CAAW,EAMxCF,CACT","x_google_ignoreList":[0]}