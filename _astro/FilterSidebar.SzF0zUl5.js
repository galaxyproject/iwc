import{H as S,q as T,U as F,j as P,W as U}from"./index.CnvIteZy.js";import{s as j,a as x,t as B,c as H}from"./workflowStore.DqeQMR3k.js";import{_ as N}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{u as R}from"./index.DmI9zalj.js";import{d as V,c as k,a as n,e as g,w as a,b as y,f,g as q,o as h,F as z,r as L,h as W,n as b,t as m,i as A}from"./runtime-core.esm-bundler.jabZ_zBL.js";import"./runtime-dom.esm-bundler.1f3YXgJn.js";const D=V({__name:"FilterSidebar",props:{workflows:{}},setup(_,{expose:c}){c();const i=_,e=R(x),l=y([]),d=y(!1),o=f(()=>{const t=new Set;for(const s of i.workflows)for(const r of s.collections)t.add(r);return Array.from(t).sort()}),u=f(()=>{const t={};for(const s of i.workflows)for(const r of s.collections)t[r]=(t[r]||0)+1;return t}),v=f(()=>[...o.value].sort((t,s)=>(u.value[s]||0)-(u.value[t]||0)));q(()=>{j(),l.value=e.value,d.value=!0}),x.subscribe(t=>{d.value&&(l.value=t)});const w={props:i,storeSelected:e,selected:l,isHydrated:d,collections:o,collectionCounts:u,sortedCollections:v,handleFilterClick:t=>{if(window.location.pathname==="/"){const r=l.value.includes(t);B(t);const p=new URLSearchParams(window.location.search);r?p.delete("filter"):p.set("filter",t);const C=p.toString()?`?${p.toString()}`:"/";window.history.pushState({},"",C)}else window.location.href=`/collection/${H(t)}`},get TooltipRoot(){return U},get TooltipTrigger(){return P},get TooltipContent(){return F},get TooltipPortal(){return T},get TooltipProvider(){return S}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),E={class:"w-48 lg:w-56 shrink-0 pr-6"},M={class:"sticky top-4"},O={class:"flex flex-col gap-1"},G=["onClick"],I={class:"truncate"};function J(_,c,i,e,l,d){return h(),k("aside",E,[n("div",M,[c[0]||(c[0]=n("h3",{class:"text-xs font-semibold text-chicago-400 uppercase tracking-wider mb-3"},"Categories",-1)),g(e.TooltipProvider,{"delay-duration":300},{default:a(()=>[n("nav",O,[(h(!0),k(z,null,L(e.sortedCollections,o=>(h(),W(e.TooltipRoot,{key:o},{default:a(()=>[g(e.TooltipTrigger,{"as-child":""},{default:a(()=>[n("button",{class:b(["group flex items-center justify-between px-3 py-2 rounded-lg text-sm text-left transition-all duration-150 border-l-4 w-full",{"bg-hokey-pokey-500/10 text-hokey-pokey-600 border-hokey-pokey-500 pl-2":e.selected.includes(o),"text-chicago-600 hover:bg-chicago-100 hover:text-chicago-800 border-transparent":!e.selected.includes(o)}]),onClick:u=>e.handleFilterClick(o)},[n("span",I,m(o),1),n("span",{class:b(["text-xs tabular-nums transition-colors ml-2 shrink-0",{"text-hokey-pokey-500":e.selected.includes(o),"text-chicago-400 group-hover:text-chicago-500":!e.selected.includes(o)}])},m(e.collectionCounts[o]||0),3)],10,G)]),_:2},1024),g(e.TooltipPortal,null,{default:a(()=>[g(e.TooltipContent,{side:"right","side-offset":8,class:"bg-ebony-clay text-white text-sm px-3 py-1.5 rounded-md shadow-lg z-50"},{default:a(()=>[A(m(o),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])]),_:1})])])}const te=N(D,[["render",J]]);export{te as default};
