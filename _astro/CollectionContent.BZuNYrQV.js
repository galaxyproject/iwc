import{V as N,W as T,F as D}from"./ViewToggle.BlK3LCTU.js";import{v as k,f as m,g as V}from"./workflowStore.CLRtnBSB.js";import{W as E}from"./WorkflowCard.N_1Whg1K.js";import{_ as L}from"./_plugin-vue_export-helper.CtZ3T-b0.js";import{u as y}from"./index.DZ86vnoI.js";import{d as Q,c as i,a,f as F,i as w,t as _,F as v,r as x,g as B,l as R,j as f,b as j,o as s,h as S}from"./runtime-core.esm-bundler.CnbQyne-.js";import"./index.BpfL0Sn8.js";import"./createLucideIcon.C5UxiZbp.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};r.SENTRY_RELEASE={id:"628670734fe288291c533d53b2301d23a1f757c5"};var o=new r.Error().stack;o&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[o]="eefb29ab-5bb0-4439-9d12-40d34b4fe0c3",r._sentryDebugIdIdentifier="sentry-dbid-eefb29ab-5bb0-4439-9d12-40d34b4fe0c3")}catch{}})();const M=Q({__name:"CollectionContent",props:{collectionName:{}},setup(r,{expose:o}){o();const c=r,e=y(V),g=y(k),d=j(""),l=f(()=>e.value.filter(t=>t.collections.some(n=>n.toLowerCase()===c.collectionName.toLowerCase()))),u=f(()=>l.value.slice().sort((t,n)=>new Date(n.updated).getTime()-new Date(t.updated).getTime())),h={keys:[{name:"definition.name",weight:.7},{name:"definition.annotation",weight:.3},{name:"definition.tags",weight:.1}],threshold:.3},b=f(()=>new D(u.value,h)),W=f(()=>d.value?b.value.search(d.value.trim()).map(n=>n.item):u.value),C=f(()=>d.value.trim().length>0),I=t=>{const n=t.target.value;d.value=n,m.set(n)};B(()=>{const t=localStorage.getItem("iwc-view-mode");(t==="list"||t==="grid")&&k.set(t)}),R(()=>{m.set("")});const p={props:c,workflows:e,mode:g,localSearchQuery:d,collectionWorkflows:l,sortedWorkflows:u,fuseOptions:h,fuse:b,filteredWorkflows:W,isSearching:C,handleSearchInput:I,get collectionSearchQuery(){return m},WorkflowCard:E,WorkflowListItem:T,ViewToggle:N};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),O={class:"mb-4"},A=["value","placeholder"],P={class:"flex justify-between items-center mb-4"},U={key:0,class:"text-chicago-600 text-sm"},Y={class:"font-semibold"},q={key:1,class:"text-chicago-600 text-sm"},z={class:"font-semibold"},G={key:0,class:"text-center py-8"},H={key:1,id:"workflows",class:"flex flex-col border border-ebony-clay-100 rounded-xl overflow-hidden shadow-sm"},J={key:2,id:"workflows",class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"};function K(r,o,c,e,g,d){return s(),i("div",null,[a("div",O,[a("input",{type:"text",value:e.localSearchQuery,placeholder:`Search ${c.collectionName} workflows...`,class:"w-full p-3 border border-chicago-200 bg-white rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-hokey-pokey-500 focus:border-transparent transition-shadow",onInput:e.handleSearchInput},null,40,A)]),a("div",P,[e.isSearching?(s(),i("p",U,[o[1]||(o[1]=w(" Found ",-1)),a("span",Y,_(e.filteredWorkflows.length),1),o[2]||(o[2]=w(" workflows ",-1))])):(s(),i("p",q,[a("span",z,_(e.filteredWorkflows.length),1),o[3]||(o[3]=w(" workflows ",-1))])),F(e.ViewToggle)]),e.filteredWorkflows.length===0?(s(),i("div",G,[o[4]||(o[4]=a("p",{class:"text-gray-500 text-lg"},"No workflows found matching your search.",-1)),a("button",{class:"text-blue-600 hover:text-blue-800 underline mt-2 inline-block",onClick:o[0]||(o[0]=l=>{e.localSearchQuery="",e.collectionSearchQuery.set("")})}," Clear search ")])):e.mode==="list"?(s(),i("div",H,[(s(!0),i(v,null,x(e.filteredWorkflows,l=>(s(),S(e.WorkflowListItem,{key:l.definition.uuid,workflow:l},null,8,["workflow"]))),128))])):(s(),i("div",J,[(s(!0),i(v,null,x(e.filteredWorkflows,l=>(s(),S(e.WorkflowCard,{key:l.definition.uuid,workflow:l,compact:""},null,8,["workflow"]))),128))]))])}const le=L(M,[["render",K]]);export{le as default};
