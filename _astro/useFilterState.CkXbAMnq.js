import{s as y,a as u,t as m,c as p}from"./workflowStore.VkBnE0Dg.js";import{u as v}from"./index.Be8VTQ-H.js";import{h as F,b as w,i as a}from"./runtime-core.esm-bundler.Dt58tDV5.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"6bf48a64ccfa267ad42996b76bff5944ba2fb97a"};var s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="69d84c38-f9ab-4d06-8424-1f162427d558",t._sentryDebugIdIdentifier="sentry-dbid-69d84c38-f9ab-4d06-8424-1f162427d558")}catch{}})();function D(t){const{workflows:s,closeOnSelect:i}=t,b=v(u),r=w([]),d=w(!1),f=a(()=>{const e=new Set;for(const o of s)for(const n of o.collections)e.add(n);return Array.from(e).sort()}),l=a(()=>{const e={};for(const o of s)for(const n of o.collections)e[n]=(e[n]||0)+1;return e}),S=a(()=>[...f.value].sort((e,o)=>(l.value[o]||0)-(l.value[e]||0)));F(()=>{y(),r.value=[...b.value],d.value=!0}),u.subscribe(e=>{d.value&&(r.value=[...e])});function g(e){if(window.location.pathname==="/"){const n=r.value.includes(e);m(e);const c=new URLSearchParams(window.location.search);n?c.delete("filter"):c.set("filter",e);const h=c.toString()?`?${c.toString()}`:"/";window.history.pushState({},"",h)}else window.location.href=`/collection/${p(e)}`;i?.()}return{selected:r,collections:f,collectionCounts:l,sortedCollections:S,handleFilterClick:g}}export{D as u};
