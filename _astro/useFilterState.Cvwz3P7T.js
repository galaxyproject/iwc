import{s as y,a as f,t as m,c as p}from"./workflowStore.DS2DZ3_W.js";import{u as v}from"./index.VfqwQMQi.js";import{h as F,b as w,i as a}from"./runtime-core.esm-bundler.CfBANLkU.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"f733cc97cdb728d70a46e6294edc40ebf5a93e0d"};var s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="69d84c38-f9ab-4d06-8424-1f162427d558",t._sentryDebugIdIdentifier="sentry-dbid-69d84c38-f9ab-4d06-8424-1f162427d558")}catch{}})();function D(t){const{workflows:s,closeOnSelect:i}=t,b=v(f),c=w([]),d=w(!1),u=a(()=>{const e=new Set;for(const o of s)for(const n of o.collections)e.add(n);return Array.from(e).sort()}),l=a(()=>{const e={};for(const o of s)for(const n of o.collections)e[n]=(e[n]||0)+1;return e}),S=a(()=>[...u.value].sort((e,o)=>(l.value[o]||0)-(l.value[e]||0)));F(()=>{y(),c.value=[...b.value],d.value=!0}),f.subscribe(e=>{d.value&&(c.value=[...e])});function g(e){if(window.location.pathname==="/"){const n=c.value.includes(e);m(e);const r=new URLSearchParams(window.location.search);n?r.delete("filter"):r.set("filter",e);const h=r.toString()?`?${r.toString()}`:"/";window.history.pushState({},"",h)}else window.location.href=`/collection/${p(e)}`;i?.()}return{selected:c,collections:u,collectionCounts:l,sortedCollections:S,handleFilterClick:g}}export{D as u};
