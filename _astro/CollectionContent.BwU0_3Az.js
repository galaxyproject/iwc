import{V,W as I,F as Q}from"./ViewToggle.BTn9dfBb.js";import{v,f as u,g as F}from"./workflowStore.CYZ9I8yu.js";import{W as L}from"./WorkflowCard.B1aBhwNz.js";import{_ as T}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{u as _}from"./index.QVsgzSMo.js";import{d as B,c as n,a as i,e as D,g as m,t as y,F as x,r as b,h as M,l as j,i as c,b as O,o as s,f as S}from"./runtime-core.esm-bundler.C1AOJpOJ.js";import"./index.MdjGU124.js";import"./createLucideIcon.GJINzpv7.js";const R=B({__name:"CollectionContent",props:{collectionName:{}},setup(w,{expose:o}){o();const d=w,e=_(F),g=_(v),a=O(""),l=c(()=>e.value.filter(t=>t.collections.some(r=>r.toLowerCase()===d.collectionName.toLowerCase()))),f=c(()=>l.value.slice().sort((t,r)=>new Date(r.updated).getTime()-new Date(t.updated).getTime())),h={keys:[{name:"definition.name",weight:.7},{name:"definition.annotation",weight:.3},{name:"definition.tags",weight:.1}],threshold:.3},k=c(()=>new Q(f.value,h)),W=c(()=>a.value?k.value.search(a.value.trim()).map(r=>r.item):f.value),C=c(()=>a.value.trim().length>0),N=t=>{const r=t.target.value;a.value=r,u.set(r)};M(()=>{const t=localStorage.getItem("iwc-view-mode");(t==="list"||t==="grid")&&v.set(t)}),j(()=>{u.set("")});const p={props:d,workflows:e,mode:g,localSearchQuery:a,collectionWorkflows:l,sortedWorkflows:f,fuseOptions:h,fuse:k,filteredWorkflows:W,isSearching:C,handleSearchInput:N,get collectionSearchQuery(){return u},WorkflowCard:L,WorkflowListItem:I,ViewToggle:V};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),E={class:"mb-4"},P=["value","placeholder"],U={class:"flex justify-between items-center mb-4"},q={key:0,class:"text-chicago-600 text-sm"},z={class:"font-semibold"},A={key:1,class:"text-chicago-600 text-sm"},G={class:"font-semibold"},H={key:0,class:"text-center py-8"},J={key:1,id:"workflows",class:"flex flex-col border border-ebony-clay-100 rounded-xl overflow-hidden shadow-sm"},K={key:2,id:"workflows",class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"};function X(w,o,d,e,g,a){return s(),n("div",null,[i("div",E,[i("input",{type:"text",value:e.localSearchQuery,placeholder:`Search ${d.collectionName} workflows...`,class:"w-full p-3 border border-chicago-200 bg-white rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-hokey-pokey-500 focus:border-transparent transition-shadow",onInput:e.handleSearchInput},null,40,P)]),i("div",U,[e.isSearching?(s(),n("p",q,[o[1]||(o[1]=m(" Found ",-1)),i("span",z,y(e.filteredWorkflows.length),1),o[2]||(o[2]=m(" workflows ",-1))])):(s(),n("p",A,[i("span",G,y(e.filteredWorkflows.length),1),o[3]||(o[3]=m(" workflows ",-1))])),D(e.ViewToggle)]),e.filteredWorkflows.length===0?(s(),n("div",H,[o[4]||(o[4]=i("p",{class:"text-gray-500 text-lg"},"No workflows found matching your search.",-1)),i("button",{class:"text-blue-600 hover:text-blue-800 underline mt-2 inline-block",onClick:o[0]||(o[0]=l=>{e.localSearchQuery="",e.collectionSearchQuery.set("")})}," Clear search ")])):e.mode==="list"?(s(),n("div",J,[(s(!0),n(x,null,b(e.filteredWorkflows,l=>(s(),S(e.WorkflowListItem,{key:l.definition.uuid,workflow:l},null,8,["workflow"]))),128))])):(s(),n("div",K,[(s(!0),n(x,null,b(e.filteredWorkflows,l=>(s(),S(e.WorkflowCard,{key:l.definition.uuid,workflow:l,compact:""},null,8,["workflow"]))),128))]))])}const re=T(R,[["render",X]]);export{re as default};
