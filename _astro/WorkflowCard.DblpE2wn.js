import{c as x,a as C,f as B}from"./index.BJ4moKYX.js";import{_ as p}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as w,c as l,o as n,H as m,n as s,f as g,I as _,J as h,a,t as i,g as v,F as k,r as y,K as u}from"./runtime-core.esm-bundler.BI33FiHc.js";const S=w({__name:"Card",props:{class:{}},setup(r,{expose:o}){o();const e={props:r,get cn(){return x}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}});function V(r,o,t,e,d,f){return n(),l("div",{class:s(e.cn("rounded-lg border border-gray-200 bg-white text-gray-950 shadow",e.props.class))},[m(r.$slots,"default")],2)}const j=p(S,[["render",V]]),D=w({__name:"CardHeader",props:{class:{}},setup(r,{expose:o}){o();const e={props:r,get cn(){return x}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}});function O(r,o,t,e,d,f){return n(),l("div",{class:s(e.cn("flex flex-col space-y-1.5 p-6",e.props.class))},[m(r.$slots,"default")],2)}const P=p(D,[["render",O]]),T=w({__name:"CardContent",props:{class:{}},setup(r,{expose:o}){o();const e={props:r,get cn(){return x}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}});function z(r,o,t,e,d,f){return n(),l("div",{class:s(e.cn("p-6 pt-0",e.props.class))},[m(r.$slots,"default")],2)}const H=p(T,[["render",z]]),N=C("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-bay-of-many-700 text-white shadow hover:bg-bay-of-many-800",secondary:"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-200",destructive:"border-transparent bg-red-500 text-white shadow hover:bg-red-600",outline:"text-gray-950"}},defaultVariants:{variant:"default"}}),I=w({__name:"Badge",props:{variant:{default:"default"}},setup(r,{expose:o}){o();const e={props:r,get badgeVariants(){return N},get cn(){return x}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}});function M(r,o,t,e,d,f){return n(),l("div",{class:s(e.cn(e.badgeVariants({variant:t.variant}),e.props.class))},[m(r.$slots,"default")],2)}const W=p(I,[["render",M]]),F=w({__name:"WorkflowCard",props:{workflow:{},compact:{type:Boolean}},setup(r,{expose:o}){o();const e={navigateToCollection:d=>{const f=d.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");window.location.href=`/collection/${f}`},get formatDate(){return B},Card:j,CardHeader:P,CardContent:H,Badge:W};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),L=["href"],U={class:"flex flex-col flex-grow"},A={key:0,class:"flex flex-wrap gap-2"},E={key:1,class:"flex flex-wrap gap-1"},J={class:"flex items-center"},K={class:"flex items-center"};function R(r,o,t,e,d,f){return n(),g(e.Card,{id:`workflow-${t.workflow.definition.uuid}`,class:s(["flex flex-col",t.compact?"h-[18rem] hover:shadow-lg transition-shadow bg-white":"mb-6 hover:shadow-lg transition-shadow"])},{default:_(()=>[h(e.CardHeader,{class:s(t.compact?"p-3":"px-6 py-4 pb-2")},{default:_(()=>[a("a",{href:`/workflow/${encodeURIComponent(t.workflow.iwcID)}/`},[a("h2",{class:s(`font-bold hover:underline text-ebony-clay ${t.compact?"text-lg":"text-xl"}`)},i(t.workflow.definition.name),3)],8,L)]),_:1},8,["class"]),h(e.CardContent,{class:s(["flex-1 flex flex-col",t.compact?"px-3 py-2":"px-6 py-2"])},{default:_(()=>[a("div",U,[a("p",{class:s(`flex-grow ${t.compact?"text-sm line-clamp-6 mb-2":"mb-4"}`)},i(t.workflow.definition.annotation),3),t.workflow.collections&&t.workflow.collections.length>0&&!t.compact?(n(),l("div",A,[(n(!0),l(k,null,y(t.workflow.collections,c=>(n(),g(e.Badge,{key:c,variant:"secondary",class:"cursor-pointer hover:bg-hokey-pokey hover:text-white transition-colors",onClick:b=>e.navigateToCollection(c)},{default:_(()=>[u(i(c),1)]),_:2},1032,["onClick"]))),128))])):t.workflow.collections&&t.workflow.collections.length>0&&t.compact?(n(),l("div",E,[(n(!0),l(k,null,y(t.workflow.collections.slice(0,2),c=>(n(),g(e.Badge,{key:c,variant:"secondary",class:"text-xs cursor-pointer hover:bg-hokey-pokey hover:text-white transition-colors",onClick:b=>e.navigateToCollection(c)},{default:_(()=>[u(i(c),1)]),_:2},1032,["onClick"]))),128)),t.workflow.collections.length>2?(n(),g(e.Badge,{key:0,variant:"secondary",class:"text-xs"},{default:_(()=>[u(" +"+i(t.workflow.collections.length-2),1)]),_:1})):v("",!0)])):v("",!0)])]),_:1},8,["class"]),a("div",{class:s([t.compact?"p-3":"px-6 py-3","border-t border-gray-200"])},[a("div",{class:s(`flex justify-between ${t.compact,"text-xs"} text-gray-500`)},[a("p",J,[o[0]||(o[0]=a("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),u(" "+i(t.workflow.definition.release),1)]),a("p",K,[o[1]||(o[1]=a("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),u(" Updated on "+i(e.formatDate(t.workflow.updated)),1)])],2)],2)]),_:1},8,["id","class"])}const X=p(F,[["render",R]]);export{X as W};
