<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="description" content="This workflow performs segmentation and counting of cell nuclei using fluorescence microscopy images. The segmentation step is performed using Otsu thresholding (Otsu, 1979). The workflow is based on the tutorial: https://training.galaxyproject.org/training-material/topics/imaging/tutorials/imaging-introduction/tutorial.html"><title>Segmentation and counting of cell nuclei in fluorescence microscopy images | IWC</title><!-- Open Graph --><meta property="og:title" content="Segmentation and counting of cell nuclei in fluorescence microscopy images"><meta property="og:description" content="This workflow performs segmentation and counting of cell nuclei using fluorescence microscopy images. The segmentation step is performed using Otsu thresholding (Otsu, 1979). The workflow is based on the tutorial: https://training.galaxyproject.org/training-material/topics/imaging/tutorials/imaging-introduction/tutorial.html"><meta property="og:image" content="https://iwc.galaxyproject.org/iwc_logo.png"><meta property="og:type" content="website"><!-- Twitter Card --><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Segmentation and counting of cell nuclei in fluorescence microscopy images"><meta name="twitter:description" content="This workflow performs segmentation and counting of cell nuclei using fluorescence microscopy images. The segmentation step is performed using Otsu thresholding (Otsu, 1979). The workflow is based on the tutorial: https://training.galaxyproject.org/training-material/topics/imaging/tutorials/imaging-introduction/tutorial.html"><meta name="twitter:image" content="https://iwc.galaxyproject.org/iwc_logo.png"><link rel="preload" as="image" href="/iwc_logo_white.png" fetchpriority="high"><link rel="icon" type="image/png" href="/iwc_logo_white.png"><link rel="stylesheet" href="/_astro/about.DCXJywcE.css">
<style>.author-link[data-v-4d3d03d3]{color:inherit;text-decoration:none;border-bottom:1px dotted currentColor}.author-link[data-v-4d3d03d3]:hover{border-bottom-style:solid}.galaxy-instance-selector[data-v-5b3a7eea]{width:100%}.tab-content-transition[data-state=active][data-v-e48b2682]{animation:fade-in-e48b2682 .15s ease-out}.tab-content-transition[data-state=inactive][data-v-e48b2682]{animation:fade-out-e48b2682 .1s ease-in}@keyframes fade-in-e48b2682{0%{opacity:0}to{opacity:1}}@keyframes fade-out-e48b2682{0%{opacity:1}to{opacity:0}}
[data-v-ccbe3985] pre:has(.language-mermaid){background:transparent!important;border:none!important;padding:0!important;margin:1rem 0!important}[data-v-ccbe3985] .language-mermaid{background:transparent!important;color:transparent!important;display:none!important}[data-v-ccbe3985] .mermaid-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;border:none;border-radius:8px;background:transparent;margin:1rem 0;min-height:600px}[data-v-ccbe3985] .mermaid-loading-spinner{width:40px;height:40px;border:4px solid #e5e7eb;border-top-color:#d97706;border-radius:50%;animation:spin-ccbe3985 1s linear infinite}[data-v-ccbe3985] .mermaid-loading-text{margin-top:1rem;color:#6b7280;font-size:14px}@keyframes spin-ccbe3985{to{transform:rotate(360deg)}}[data-v-ccbe3985] .mermaid-error{padding:1rem;border:1px solid #fca5a5;border-radius:8px;background:#fee2e2;color:#991b1b;margin:1rem 0;text-align:center}[data-v-ccbe3985] .mermaid-zoom-container{position:relative;border:1px solid #e5e7eb;border-radius:8px;background:transparent;margin:1rem 0;overflow:hidden}[data-v-ccbe3985] .mermaid-zoom-container.mermaid-fullscreen{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;border-radius:0;margin:0}[data-v-ccbe3985] .mermaid-zoom-controls{position:absolute;top:8px;right:8px;display:flex;gap:4px;z-index:10;background:#ffffffe6;backdrop-filter:blur(4px);border-radius:6px;padding:4px;box-shadow:0 2px 8px #0000001a}[data-v-ccbe3985] .mermaid-zoom-btn{width:32px;height:32px;border:1px solid #d1d5db;background:#f9fafb;color:#374151;border-radius:4px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:16px;font-weight:700;transition:all .2s ease;user-select:none}[data-v-ccbe3985] .mermaid-zoom-btn:hover{background:#e5e7eb;border-color:#9ca3af}[data-v-ccbe3985] .mermaid-zoom-btn:active{transform:scale(.95)}[data-v-ccbe3985] .mermaid-zoom-content{width:100%;height:600px;overflow:hidden;position:relative;display:flex;align-items:center;justify-content:center}[data-v-ccbe3985] .mermaid-fullscreen .mermaid-zoom-content{height:100vh}[data-v-ccbe3985] .mermaid-zoom-content svg{transform-origin:center center;max-width:none;max-height:none;user-select:none}[data-v-ccbe3985] .dark .mermaid-zoom-container{border-color:#374151;background:transparent}[data-v-ccbe3985] .dark .mermaid-zoom-controls{background:#1f2937e6}[data-v-ccbe3985] .dark .mermaid-zoom-btn{border-color:#4b5563;background:#374151;color:#d1d5db}[data-v-ccbe3985] .dark .mermaid-zoom-btn:hover{background:#4b5563;border-color:#6b7280}[data-v-ccbe3985] .mermaid-zoom-container:after{content:"ðŸ’¡ Use mouse wheel to zoom, drag to pan, or use controls in top-right";position:absolute;bottom:8px;left:8px;font-size:12px;color:#6b7280;background:#ffffffe6;backdrop-filter:blur(4px);padding:4px 8px;border-radius:4px;opacity:0;animation:fade-in-out-ccbe3985 4s ease-in-out;pointer-events:none}[data-v-ccbe3985] .dark .mermaid-zoom-container:after{background:#1f2937e6;color:#d1d5db}@keyframes fade-in-out-ccbe3985{0%,to{opacity:0}20%,80%{opacity:1}}
</style></head> <body class="h-dvh flex flex-col bg-chicago-50 font-sans"> <!-- Header component will go here --> <header> <header class="py-2 px-6 bg-ebony-clay text-white"> <div class="flex"> <div class="flex flex-grow space-x-2"> <a href="/" class="flex items-center space-x-2 hover:text-hokey-pokey"> <img src="/iwc_logo_white.png" alt="IWC Logo" width="64" height="64" loading="eager" fetchpriority="high"> <span class="text-xl font-semibold px-4">Galaxy IWC - Workflow Library</span> </a> </div> <nav class="flex items-center space-x-8"> <a href="/about" class="hover:text-hokey-pokey">About</a> <a href="https://github.com/galaxyproject/iwc/blob/main/workflows/README.md#adding-workflows" class="hover:text-hokey-pokey" target="_blank">Contribute</a> <a href="https://github.com/galaxyproject/iwc/" class="hover:text-hokey-pokey flex items-center gap-1" target="_blank">
GitHub
<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" class="inline-block"> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path> </svg> </a> </nav> </div> </header> </header> <main class="flex overflow-y-auto"> <div class="w-full overflow-y-auto"> <!-- Hero section if provided -->  <div class="flex"> <!-- Left sidebar if provided -->  <!-- Main content --> <div class="flex-1 p-4 overflow-y-auto"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZE0N5V" component-url="/_astro/WorkflowContent.CinxpZYH.js" component-export="default" renderer-url="/_astro/client.BrhupUx7.js" props="{&quot;slot&quot;:[0,&quot;content&quot;],&quot;workflow&quot;:[0,{&quot;name&quot;:[0,&quot;main&quot;],&quot;subclass&quot;:[0,&quot;Galaxy&quot;],&quot;publish&quot;:[0,true],&quot;primaryDescriptorPath&quot;:[0,&quot;/segmentation-and-counting.ga&quot;],&quot;testParameterFiles&quot;:[1,[[0,&quot;/segmentation-and-counting-tests.yml&quot;]]],&quot;authors&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;Leonid Kostrykin&quot;],&quot;orcid&quot;:[0,&quot;0000-0003-1323-3762&quot;],&quot;url&quot;:[0,&quot;https://github.com/kostrykin/&quot;]}]]],&quot;definition&quot;:[0,{&quot;a_galaxy_workflow&quot;:[0,&quot;true&quot;],&quot;annotation&quot;:[0,&quot;This workflow performs segmentation and counting of cell nuclei using fluorescence microscopy images. The segmentation step is performed using Otsu thresholding (Otsu, 1979). The workflow is based on the tutorial: https://training.galaxyproject.org/training-material/topics/imaging/tutorials/imaging-introduction/tutorial.html&quot;],&quot;creator&quot;:[1,[[0,{&quot;class&quot;:[0,&quot;Person&quot;],&quot;identifier&quot;:[0,&quot;https://orcid.org/0000-0003-1323-3762&quot;],&quot;name&quot;:[0,&quot;Leonid Kostrykin&quot;],&quot;url&quot;:[0,&quot;https://github.com/kostrykin/&quot;]}]]],&quot;format-version&quot;:[0,&quot;0.1&quot;],&quot;license&quot;:[0,&quot;MIT&quot;],&quot;release&quot;:[0,&quot;0.2&quot;],&quot;name&quot;:[0,&quot;Segmentation and counting of cell nuclei in fluorescence microscopy images&quot;],&quot;steps&quot;:[0,{&quot;0&quot;:[0,{&quot;annotation&quot;:[0,&quot;The fluorescence microscopy images to be segmented. Must be the single image channel, which contains the cell nuclei.&quot;],&quot;content_id&quot;:[0,null],&quot;errors&quot;:[0,null],&quot;id&quot;:[0,0],&quot;input_connections&quot;:[0,{}],&quot;inputs&quot;:[1,[[0,{&quot;description&quot;:[0,&quot;The fluorescence microscopy images to be segmented. Must be the single image channel, which contains the cell nuclei.&quot;],&quot;name&quot;:[0,&quot;input_image&quot;]}]]],&quot;label&quot;:[0,&quot;input_image&quot;],&quot;name&quot;:[0,&quot;Input dataset&quot;],&quot;outputs&quot;:[1,[]],&quot;position&quot;:[0,{&quot;left&quot;:[0,0],&quot;top&quot;:[0,123.6936084329719]}],&quot;tool_id&quot;:[0,null],&quot;tool_state&quot;:[0,&quot;{\&quot;optional\&quot;: false, \&quot;tag\&quot;: null}&quot;],&quot;tool_version&quot;:[0,null],&quot;type&quot;:[0,&quot;data_input&quot;],&quot;uuid&quot;:[0,&quot;facec436-5d6e-43de-a21e-cebc8272a35c&quot;],&quot;when&quot;:[0,null],&quot;workflow_outputs&quot;:[1,[]]}],&quot;1&quot;:[0,{&quot;annotation&quot;:[0,&quot;&quot;],&quot;content_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/2d_simple_filter/ip_filter_standard/1.12.0+galaxy1&quot;],&quot;errors&quot;:[0,null],&quot;id&quot;:[0,1],&quot;input_connections&quot;:[0,{&quot;input&quot;:[0,{&quot;id&quot;:[0,0],&quot;output_name&quot;:[0,&quot;output&quot;]}]}],&quot;inputs&quot;:[1,[]],&quot;label&quot;:[0,null],&quot;name&quot;:[0,&quot;Filter 2-D image&quot;],&quot;outputs&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;output&quot;],&quot;type&quot;:[0,&quot;tiff&quot;]}]]],&quot;position&quot;:[0,{&quot;left&quot;:[0,320.6808544907898],&quot;top&quot;:[0,244.80388558482915]}],&quot;post_job_actions&quot;:[0,{}],&quot;tool_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/2d_simple_filter/ip_filter_standard/1.12.0+galaxy1&quot;],&quot;tool_shed_repository&quot;:[0,{&quot;changeset_revision&quot;:[0,&quot;d51310ab328a&quot;],&quot;name&quot;:[0,&quot;2d_simple_filter&quot;],&quot;owner&quot;:[0,&quot;imgteam&quot;],&quot;tool_shed&quot;:[0,&quot;toolshed.g2.bx.psu.edu&quot;]}],&quot;tool_state&quot;:[0,&quot;{\&quot;__input_ext\&quot;: \&quot;tiff\&quot;, \&quot;chromInfo\&quot;: \&quot;/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\&quot;, \&quot;filter\&quot;: {\&quot;filter_type\&quot;: \&quot;gaussian\&quot;, \&quot;__current_case__\&quot;: 0, \&quot;size\&quot;: \&quot;3.0\&quot;}, \&quot;filter_type\&quot;: \&quot;gaussian\&quot;, \&quot;input\&quot;: {\&quot;__class__\&quot;: \&quot;ConnectedValue\&quot;}, \&quot;radius\&quot;: \&quot;3\&quot;, \&quot;__page__\&quot;: null, \&quot;__rerun_remap_job_id__\&quot;: null}&quot;],&quot;tool_version&quot;:[0,&quot;1.12.0+galaxy1&quot;],&quot;type&quot;:[0,&quot;tool&quot;],&quot;uuid&quot;:[0,&quot;0c652b2d-7376-4444-b4c4-70babd1a0f14&quot;],&quot;when&quot;:[0,null],&quot;workflow_outputs&quot;:[1,[]]}],&quot;2&quot;:[0,{&quot;annotation&quot;:[0,&quot;&quot;],&quot;content_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/2d_histogram_equalization/ip_histogram_equalization/0.18.1+galaxy0&quot;],&quot;errors&quot;:[0,null],&quot;id&quot;:[0,2],&quot;input_connections&quot;:[0,{&quot;input&quot;:[0,{&quot;id&quot;:[0,0],&quot;output_name&quot;:[0,&quot;output&quot;]}]}],&quot;inputs&quot;:[1,[]],&quot;label&quot;:[0,null],&quot;name&quot;:[0,&quot;Perform histogram equalization&quot;],&quot;outputs&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;output&quot;],&quot;type&quot;:[0,&quot;tiff&quot;]}]]],&quot;position&quot;:[0,{&quot;left&quot;:[0,438.81238880324617],&quot;top&quot;:[0,9.67052833486391]}],&quot;post_job_actions&quot;:[0,{}],&quot;tool_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/2d_histogram_equalization/ip_histogram_equalization/0.18.1+galaxy0&quot;],&quot;tool_shed_repository&quot;:[0,{&quot;changeset_revision&quot;:[0,&quot;b1c2c210813c&quot;],&quot;name&quot;:[0,&quot;2d_histogram_equalization&quot;],&quot;owner&quot;:[0,&quot;imgteam&quot;],&quot;tool_shed&quot;:[0,&quot;toolshed.g2.bx.psu.edu&quot;]}],&quot;tool_state&quot;:[0,&quot;{\&quot;__input_ext\&quot;: \&quot;tiff\&quot;, \&quot;chromInfo\&quot;: \&quot;/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\&quot;, \&quot;h_type\&quot;: \&quot;clahe\&quot;, \&quot;input\&quot;: {\&quot;__class__\&quot;: \&quot;ConnectedValue\&quot;}, \&quot;__page__\&quot;: null, \&quot;__rerun_remap_job_id__\&quot;: null}&quot;],&quot;tool_version&quot;:[0,&quot;0.18.1+galaxy0&quot;],&quot;type&quot;:[0,&quot;tool&quot;],&quot;uuid&quot;:[0,&quot;c4b63332-c0ed-4a40-9670-9d5ba2a5e88f&quot;],&quot;when&quot;:[0,null],&quot;workflow_outputs&quot;:[1,[]]}],&quot;3&quot;:[0,{&quot;annotation&quot;:[0,&quot;&quot;],&quot;content_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/2d_auto_threshold/ip_threshold/0.18.1+galaxy3&quot;],&quot;errors&quot;:[0,null],&quot;id&quot;:[0,3],&quot;input_connections&quot;:[0,{&quot;input&quot;:[0,{&quot;id&quot;:[0,1],&quot;output_name&quot;:[0,&quot;output&quot;]}]}],&quot;inputs&quot;:[1,[]],&quot;label&quot;:[0,null],&quot;name&quot;:[0,&quot;Threshold image&quot;],&quot;outputs&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;output&quot;],&quot;type&quot;:[0,&quot;tiff&quot;]}]]],&quot;position&quot;:[0,{&quot;left&quot;:[0,565.4531507696091],&quot;top&quot;:[0,243.376959571321]}],&quot;post_job_actions&quot;:[0,{}],&quot;tool_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/2d_auto_threshold/ip_threshold/0.18.1+galaxy3&quot;],&quot;tool_shed_repository&quot;:[0,{&quot;changeset_revision&quot;:[0,&quot;699a5e9146b3&quot;],&quot;name&quot;:[0,&quot;2d_auto_threshold&quot;],&quot;owner&quot;:[0,&quot;imgteam&quot;],&quot;tool_shed&quot;:[0,&quot;toolshed.g2.bx.psu.edu&quot;]}],&quot;tool_state&quot;:[0,&quot;{\&quot;__input_ext\&quot;: \&quot;input\&quot;, \&quot;block_size\&quot;: \&quot;5\&quot;, \&quot;chromInfo\&quot;: \&quot;/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\&quot;, \&quot;dark_bg\&quot;: \&quot;true\&quot;, \&quot;input\&quot;: {\&quot;__class__\&quot;: \&quot;ConnectedValue\&quot;}, \&quot;invert_output\&quot;: false, \&quot;th_method\&quot;: {\&quot;method_id\&quot;: \&quot;otsu\&quot;, \&quot;__current_case__\&quot;: 1, \&quot;threshold\&quot;: \&quot;0\&quot;, \&quot;block_size\&quot;: \&quot;0\&quot;, \&quot;offset\&quot;: \&quot;0.0\&quot;}, \&quot;__page__\&quot;: null, \&quot;__rerun_remap_job_id__\&quot;: null}&quot;],&quot;tool_version&quot;:[0,&quot;0.18.1+galaxy3&quot;],&quot;type&quot;:[0,&quot;tool&quot;],&quot;uuid&quot;:[0,&quot;d75a2027-d855-4f05-9261-25f2f712efce&quot;],&quot;when&quot;:[0,null],&quot;workflow_outputs&quot;:[1,[]]}],&quot;4&quot;:[0,{&quot;annotation&quot;:[0,&quot;&quot;],&quot;content_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/bfconvert/ip_convertimage/6.7.0+galaxy3&quot;],&quot;errors&quot;:[0,null],&quot;id&quot;:[0,4],&quot;input_connections&quot;:[0,{&quot;input_file&quot;:[0,{&quot;id&quot;:[0,2],&quot;output_name&quot;:[0,&quot;output&quot;]}]}],&quot;inputs&quot;:[1,[]],&quot;label&quot;:[0,null],&quot;name&quot;:[0,&quot;Convert image format&quot;],&quot;outputs&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;output&quot;],&quot;type&quot;:[0,&quot;tiff&quot;]}]]],&quot;position&quot;:[0,{&quot;left&quot;:[0,689.7987516288889],&quot;top&quot;:[0,0]}],&quot;post_job_actions&quot;:[0,{}],&quot;tool_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/bfconvert/ip_convertimage/6.7.0+galaxy3&quot;],&quot;tool_shed_repository&quot;:[0,{&quot;changeset_revision&quot;:[0,&quot;fcadded98e61&quot;],&quot;name&quot;:[0,&quot;bfconvert&quot;],&quot;owner&quot;:[0,&quot;imgteam&quot;],&quot;tool_shed&quot;:[0,&quot;toolshed.g2.bx.psu.edu&quot;]}],&quot;tool_state&quot;:[0,&quot;{\&quot;__input_ext\&quot;: \&quot;tiff\&quot;, \&quot;bigtiff\&quot;: false, \&quot;channel_options\&quot;: {\&quot;extract\&quot;: \&quot;False\&quot;, \&quot;__current_case__\&quot;: 0}, \&quot;chromInfo\&quot;: \&quot;/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\&quot;, \&quot;compression\&quot;: \&quot;False\&quot;, \&quot;crop_options\&quot;: {\&quot;extract\&quot;: \&quot;False\&quot;, \&quot;__current_case__\&quot;: 0}, \&quot;input_file\&quot;: {\&quot;__class__\&quot;: \&quot;ConnectedValue\&quot;}, \&quot;noflat\&quot;: true, \&quot;out_format\&quot;: \&quot;png\&quot;, \&quot;pyramid_options\&quot;: {\&quot;generate\&quot;: \&quot;False\&quot;, \&quot;__current_case__\&quot;: 1}, \&quot;range_options\&quot;: {\&quot;extract\&quot;: \&quot;False\&quot;, \&quot;__current_case__\&quot;: 0}, \&quot;series_options\&quot;: {\&quot;extract\&quot;: \&quot;False\&quot;, \&quot;__current_case__\&quot;: 0}, \&quot;tile_options\&quot;: {\&quot;extract\&quot;: \&quot;False\&quot;, \&quot;__current_case__\&quot;: 0}, \&quot;timepoint_options\&quot;: {\&quot;extract\&quot;: \&quot;False\&quot;, \&quot;__current_case__\&quot;: 0}, \&quot;z_options\&quot;: {\&quot;extract\&quot;: \&quot;False\&quot;, \&quot;__current_case__\&quot;: 0}, \&quot;__page__\&quot;: null, \&quot;__rerun_remap_job_id__\&quot;: null}&quot;],&quot;tool_version&quot;:[0,&quot;6.7.0+galaxy3&quot;],&quot;type&quot;:[0,&quot;tool&quot;],&quot;uuid&quot;:[0,&quot;a6a689c6-c1d0-4929-87a2-ac5206cf8026&quot;],&quot;when&quot;:[0,null],&quot;workflow_outputs&quot;:[1,[]]}],&quot;5&quot;:[0,{&quot;annotation&quot;:[0,&quot;&quot;],&quot;content_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/binary2labelimage/ip_binary_to_labelimage/0.5+galaxy0&quot;],&quot;errors&quot;:[0,null],&quot;id&quot;:[0,5],&quot;input_connections&quot;:[0,{&quot;input&quot;:[0,{&quot;id&quot;:[0,3],&quot;output_name&quot;:[0,&quot;output&quot;]}]}],&quot;inputs&quot;:[1,[]],&quot;label&quot;:[0,null],&quot;name&quot;:[0,&quot;Convert binary image to label map&quot;],&quot;outputs&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;output&quot;],&quot;type&quot;:[0,&quot;tiff&quot;]}]]],&quot;position&quot;:[0,{&quot;left&quot;:[0,812.10278473575],&quot;top&quot;:[0,245.5611328413049]}],&quot;post_job_actions&quot;:[0,{}],&quot;tool_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/binary2labelimage/ip_binary_to_labelimage/0.5+galaxy0&quot;],&quot;tool_shed_repository&quot;:[0,{&quot;changeset_revision&quot;:[0,&quot;984358e43242&quot;],&quot;name&quot;:[0,&quot;binary2labelimage&quot;],&quot;owner&quot;:[0,&quot;imgteam&quot;],&quot;tool_shed&quot;:[0,&quot;toolshed.g2.bx.psu.edu&quot;]}],&quot;tool_state&quot;:[0,&quot;{\&quot;__input_ext\&quot;: \&quot;tiff\&quot;, \&quot;chromInfo\&quot;: \&quot;/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\&quot;, \&quot;input\&quot;: {\&quot;__class__\&quot;: \&quot;ConnectedValue\&quot;}, \&quot;mode\&quot;: {\&quot;mode_selector\&quot;: \&quot;cca\&quot;, \&quot;__current_case__\&quot;: 0}, \&quot;__page__\&quot;: null, \&quot;__rerun_remap_job_id__\&quot;: null}&quot;],&quot;tool_version&quot;:[0,&quot;0.5+galaxy0&quot;],&quot;type&quot;:[0,&quot;tool&quot;],&quot;uuid&quot;:[0,&quot;cd899592-8b30-4a79-9aba-f75a10c75dd7&quot;],&quot;when&quot;:[0,null],&quot;workflow_outputs&quot;:[1,[[0,{&quot;label&quot;:[0,&quot;label_image&quot;],&quot;output_name&quot;:[0,&quot;output&quot;],&quot;uuid&quot;:[0,&quot;daaee143-81e0-4067-aac0-81f02732c343&quot;]}]]]}],&quot;6&quot;:[0,{&quot;annotation&quot;:[0,&quot;&quot;],&quot;content_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/overlay_images/ip_overlay_images/0.0.4+galaxy4&quot;],&quot;errors&quot;:[0,null],&quot;id&quot;:[0,6],&quot;input_connections&quot;:[0,{&quot;method_option|im1&quot;:[0,{&quot;id&quot;:[0,4],&quot;output_name&quot;:[0,&quot;output&quot;]}],&quot;method_option|im2&quot;:[0,{&quot;id&quot;:[0,5],&quot;output_name&quot;:[0,&quot;output&quot;]}]}],&quot;inputs&quot;:[1,[[0,{&quot;description&quot;:[0,&quot;runtime parameter for tool Overlay images&quot;],&quot;name&quot;:[0,&quot;method_option&quot;]}],[0,{&quot;description&quot;:[0,&quot;runtime parameter for tool Overlay images&quot;],&quot;name&quot;:[0,&quot;method_option&quot;]}]]],&quot;label&quot;:[0,null],&quot;name&quot;:[0,&quot;Overlay images&quot;],&quot;outputs&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;out_png&quot;],&quot;type&quot;:[0,&quot;png&quot;]}]]],&quot;position&quot;:[0,{&quot;left&quot;:[0,1085.3470167429655],&quot;top&quot;:[0,104.58436042741572]}],&quot;post_job_actions&quot;:[0,{}],&quot;tool_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/overlay_images/ip_overlay_images/0.0.4+galaxy4&quot;],&quot;tool_shed_repository&quot;:[0,{&quot;changeset_revision&quot;:[0,&quot;ca362a9bfa20&quot;],&quot;name&quot;:[0,&quot;overlay_images&quot;],&quot;owner&quot;:[0,&quot;imgteam&quot;],&quot;tool_shed&quot;:[0,&quot;toolshed.g2.bx.psu.edu&quot;]}],&quot;tool_state&quot;:[0,&quot;{\&quot;__input_ext\&quot;: \&quot;input\&quot;, \&quot;chromInfo\&quot;: \&quot;/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\&quot;, \&quot;method_option\&quot;: {\&quot;method\&quot;: \&quot;seg_contour\&quot;, \&quot;__current_case__\&quot;: 2, \&quot;im1\&quot;: {\&quot;__class__\&quot;: \&quot;ConnectedValue\&quot;}, \&quot;im2\&quot;: {\&quot;__class__\&quot;: \&quot;ConnectedValue\&quot;}, \&quot;thickness\&quot;: \&quot;2\&quot;, \&quot;color\&quot;: \&quot;#ff0000\&quot;, \&quot;show_label\&quot;: true, \&quot;label_color\&quot;: \&quot;#ffff00\&quot;}, \&quot;__page__\&quot;: null, \&quot;__rerun_remap_job_id__\&quot;: null}&quot;],&quot;tool_version&quot;:[0,&quot;0.0.4+galaxy4&quot;],&quot;type&quot;:[0,&quot;tool&quot;],&quot;uuid&quot;:[0,&quot;066a4e0d-2ae3-46f7-a0c8-77a1a83d119a&quot;],&quot;when&quot;:[0,null],&quot;workflow_outputs&quot;:[1,[[0,{&quot;label&quot;:[0,&quot;overlay_image&quot;],&quot;output_name&quot;:[0,&quot;out_png&quot;],&quot;uuid&quot;:[0,&quot;5b94aaa3-9034-465e-995f-3d8f1f057f4b&quot;]}]]]}],&quot;7&quot;:[0,{&quot;annotation&quot;:[0,&quot;&quot;],&quot;content_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/count_objects/ip_count_objects/0.0.5-2&quot;],&quot;errors&quot;:[0,null],&quot;id&quot;:[0,7],&quot;input_connections&quot;:[0,{&quot;input&quot;:[0,{&quot;id&quot;:[0,5],&quot;output_name&quot;:[0,&quot;output&quot;]}]}],&quot;inputs&quot;:[1,[]],&quot;label&quot;:[0,null],&quot;name&quot;:[0,&quot;Count objects in label map&quot;],&quot;outputs&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;output&quot;],&quot;type&quot;:[0,&quot;tabular&quot;]}]]],&quot;position&quot;:[0,{&quot;left&quot;:[0,1086.8749834881503],&quot;top&quot;:[0,370.25000974083935]}],&quot;post_job_actions&quot;:[0,{}],&quot;tool_id&quot;:[0,&quot;toolshed.g2.bx.psu.edu/repos/imgteam/count_objects/ip_count_objects/0.0.5-2&quot;],&quot;tool_shed_repository&quot;:[0,{&quot;changeset_revision&quot;:[0,&quot;b58447a2eed2&quot;],&quot;name&quot;:[0,&quot;count_objects&quot;],&quot;owner&quot;:[0,&quot;imgteam&quot;],&quot;tool_shed&quot;:[0,&quot;toolshed.g2.bx.psu.edu&quot;]}],&quot;tool_state&quot;:[0,&quot;{\&quot;__input_ext\&quot;: \&quot;tiff\&quot;, \&quot;chromInfo\&quot;: \&quot;/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\&quot;, \&quot;input\&quot;: {\&quot;__class__\&quot;: \&quot;ConnectedValue\&quot;}, \&quot;__page__\&quot;: null, \&quot;__rerun_remap_job_id__\&quot;: null}&quot;],&quot;tool_version&quot;:[0,&quot;0.0.5-2&quot;],&quot;type&quot;:[0,&quot;tool&quot;],&quot;uuid&quot;:[0,&quot;75a4d4d8-0435-441f-a309-d04071cf125f&quot;],&quot;when&quot;:[0,null],&quot;workflow_outputs&quot;:[1,[[0,{&quot;label&quot;:[0,&quot;objects_count&quot;],&quot;output_name&quot;:[0,&quot;output&quot;],&quot;uuid&quot;:[0,&quot;8b3d51a7-2c1f-4f84-ac80-ef0ef6d25a3f&quot;]}]]]}]}],&quot;tags&quot;:[1,[]],&quot;uuid&quot;:[0,&quot;8c2d765b-2764-4b66-8542-adc2109c24f2&quot;],&quot;version&quot;:[0,10]}],&quot;workflow_job_input&quot;:[0,{&quot;input_image&quot;:[0,{&quot;class&quot;:[0,&quot;File&quot;],&quot;path&quot;:[0,&quot;todo_test_data_path.ext&quot;]}]}],&quot;readme&quot;:[0,&quot;# Segmentation and counting of cell nuclei in fluorescence microscopy images\n\nThis workflow performs segmentation and counting of cell nuclei using fluorescence microscopy images. The segmentation step is performed using Otsu thresholding (Otsu, 1979). The workflow is based on the tutorial: https://training.galaxyproject.org/training-material/topics/imaging/tutorials/imaging-introduction/tutorial.html\n\n![](test-data/overlay_image.png)\n\n## Inputs\n\n**`input_image`:** The fluorescence microscopy images to be segmented. Must be the single image channel, which contains the cell nuclei.\n\n## Outputs\n\n**`overlay_image`:** An overlay of the original image and the outlines of the segmentated objects, each also annotated with a unique number.\n\n**`objects_count`:** Table with a single column `objects` and a single row (the actual number of objects).\n\n**`label_image`:** The segmentation result (label map, which contains a unique label for each segmented object).\n&quot;],&quot;changelog&quot;:[0,&quot;# Changelog\n\n## [0.2] - 2024-11-07\n\n- Upgrade the tests of the workflow\n- Upgrade the segmentation-and-counting.ga workflow to recent tool versions\n\n## [0.1] - 2024-02-29\n\n&quot;],&quot;diagrams&quot;:[0,&quot;# Workflow diagrams\n\n## Segmentation and counting of cell nuclei in fluorescence microscopy images\n\n```mermaid\ngraph LR\n0[\&quot;â„¹ï¸ input_image\&quot;]@{ shape: doc }\n1[\&quot;Filter 2-D image\&quot;]@{ shape: process }\n0 --&gt; 1\n2[\&quot;Perform histogram equalization\&quot;]@{ shape: process }\n0 --&gt; 2\n3[\&quot;Threshold image\&quot;]@{ shape: process }\n1 --&gt; 3\n4[\&quot;Convert image format\&quot;]@{ shape: process }\n2 --&gt; 4\n5[\&quot;Convert binary image to label map\&quot;]@{ shape: process }\n3 --&gt; 5\n6[\&quot;Overlay images\&quot;]@{ shape: process }\n4 --&gt; 6\n5 --&gt; 6\n7[\&quot;Count objects in label map\&quot;]@{ shape: process }\n5 --&gt; 7\n```\n&quot;],&quot;updated&quot;:[0,&quot;2024-11-07T00:00:00&quot;],&quot;trsID&quot;:[0,&quot;#workflow/github.com/iwc-workflows/fluorescence-nuclei-segmentation-and-counting/main&quot;],&quot;iwcID&quot;:[0,&quot;fluorescence-nuclei-segmentation-and-counting-main&quot;],&quot;dockstore_id&quot;:[0,25723],&quot;categories&quot;:[1,[]],&quot;collections&quot;:[1,[[0,&quot;Imaging&quot;]]],&quot;doi&quot;:[0,&quot;10.5281/zenodo.15078515&quot;],&quot;tests&quot;:[1,[[0,{&quot;doc&quot;:[0,&quot;Test outline for segmentation-and-counting.ga&quot;],&quot;job&quot;:[0,{&quot;input_image&quot;:[0,{&quot;class&quot;:[0,&quot;File&quot;],&quot;filetype&quot;:[0,&quot;tiff&quot;],&quot;hashes&quot;:[1,[[0,{&quot;hash_function&quot;:[0,&quot;SHA-1&quot;],&quot;hash_value&quot;:[0,&quot;42c34939d896d133ce9f0f2af6efd79b02ed52e6&quot;]}]]],&quot;location&quot;:[0,&quot;https://raw.githubusercontent.com/galaxyproject/iwc/main/workflows/imaging/fluorescence-nuclei-segmentation-and-counting/test-data/input_image.tiff&quot;]}]}],&quot;outputs&quot;:[0,{&quot;overlay_image&quot;:[0,{&quot;path&quot;:[0,&quot;test-data/overlay_image.png&quot;],&quot;compare&quot;:[0,&quot;image_diff&quot;]}],&quot;objects_count&quot;:[0,{&quot;path&quot;:[0,&quot;test-data/objects_count.tabular&quot;],&quot;compare&quot;:[0,&quot;diff&quot;],&quot;lines_diff&quot;:[0,0]}],&quot;label_image&quot;:[0,{&quot;path&quot;:[0,&quot;test-data/label_image.tiff&quot;],&quot;compare&quot;:[0,&quot;image_diff&quot;],&quot;metric&quot;:[0,&quot;iou&quot;]}]}]}]]]}]}" ssr client="only" opts="{&quot;name&quot;:&quot;WorkflowContent&quot;,&quot;value&quot;:&quot;vue&quot;}"></astro-island> </div> <!-- Right sidebar if provided -->  </div> </div> </main> </body></html>