# IWC Website (Astro)

This is the Astro-based website for the Intergalactic Workflow Commission (IWC), showcasing the Galaxy Workflow Library.

## ğŸš€ Quick Start

### Prerequisites

- Node.js 18+
- npm or yarn

### Installation

```bash
npm install
```

### Development

```bash
npm run dev
```

This starts the development server at `http://localhost:4321/`

### Building for Production

```bash
npm run build
```

This generates a static site in the `dist/` directory.

### Preview Production Build

```bash
npm run preview
```

### Testing

```bash
npm run test
```

Runs the Playwright E2E tests.

## ğŸ“ Project Structure

```
â”œâ”€â”€ public/               # Static assets
â”‚   â”œâ”€â”€ workflow_manifest.json  # Generated workflow metadata
â”‚   â””â”€â”€ category-descriptions/  # Markdown descriptions for categories
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/       # Vue components (islands)
â”‚   â”‚   â”œâ”€â”€ WorkflowCard.vue
â”‚   â”‚   â”œâ”€â”€ Filters.vue
â”‚   â”‚   â”œâ”€â”€ WorkflowGrid.vue
â”‚   â”‚   â”œâ”€â”€ MarkdownRenderer.vue
â”‚   â”‚   â”œâ”€â”€ GalaxyInstanceSelector.vue
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ layouts/          # Astro layouts
â”‚   â”‚   â””â”€â”€ BaseLayout.astro
â”‚   â”œâ”€â”€ models/           # TypeScript models
â”‚   â”‚   â””â”€â”€ workflow.ts
â”‚   â”œâ”€â”€ pages/            # Astro pages (file-based routing)
â”‚   â”‚   â”œâ”€â”€ index.astro
â”‚   â”‚   â”œâ”€â”€ about.astro
â”‚   â”‚   â”œâ”€â”€ collection/[slug].astro
â”‚   â”‚   â””â”€â”€ workflow/[id].astro
â”‚   â”œâ”€â”€ stores/           # Nanostores for state management
â”‚   â”‚   â””â”€â”€ workflowStore.ts
â”‚   â”œâ”€â”€ utils/            # Utility functions
â”‚   â”‚   â”œâ”€â”€ manifest.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ env.d.ts
â”œâ”€â”€ astro.config.mjs      # Astro configuration
â”œâ”€â”€ tailwind.config.ts    # Tailwind CSS configuration
â””â”€â”€ tsconfig.json         # TypeScript configuration
```

## ğŸ§© Key Technologies

- **Astro 5.2**: Static site generator with islands architecture
- **Vue 3**: Interactive components using Vue islands
- **Tailwind CSS**: Utility-first CSS framework
- **Nanostores**: Lightweight state management
- **TypeScript**: Type-safe development
- **Fuse.js**: Fuzzy search
- **Marked**: Markdown rendering
- **Mermaid**: Diagram rendering
- **Playwright**: E2E testing

## ğŸ—ï¸ Architecture

This site uses Astro's islands architecture, where:

- Pages are pre-rendered at build time (SSG)
- Interactive Vue components are hydrated on the client only where needed (`client:load`)
- State management is handled by Nanostores (lighter than Pinia)
- Workflow data is loaded from `workflow_manifest.json` generated by the Python scripts in the parent directory

## ğŸ“ Generating Workflow Manifest

The workflow manifest must be generated before building the site:

```bash
# From the repository root
python scripts/workflow_manifest.py
```

This creates `website-astro/public/workflow_manifest.json` with metadata for all workflows.

## ğŸ¨ Styling

The site uses a custom Galaxy color scheme defined in `tailwind.config.ts`:

- **ebony-clay**: Dark navy (primary dark)
- **bay-of-many**: Medium blue (primary)
- **hokey-pokey**: Gold accent
- **chicago**: Gray (secondary)

## ğŸ”„ Migration from Nuxt

This site was migrated from Nuxt 3 to Astro for:

- Better static site generation performance
- Reduced JavaScript bundle size
- Simpler architecture for a content-heavy site
- Islands architecture for selective hydration

Key changes:

- Replaced Nuxt UI components with plain Tailwind
- Replaced Pinia with Nanostores
- Replaced Nuxt pages with Astro pages
- Vue components remain mostly unchanged (used as islands)

## ğŸ“„ License

See the parent repository for license information.
