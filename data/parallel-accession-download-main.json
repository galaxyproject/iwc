{
    "name": "main",
    "subclass": "Galaxy",
    "publish": true,
    "primaryDescriptorPath": "/parallel-accession-download.ga",
    "testParameterFiles": [
        "/parallel-accession-download-tests.yml"
    ],
    "authors": [
        {
            "name": "Marius van den Beek",
            "orcid": "0000-0002-9676-7032"
        },
        {
            "name": "IWC",
            "url": "https://github.com/galaxyproject/iwc"
        }
    ],
    "definition": {
        "a_galaxy_workflow": "true",
        "annotation": "Downloads fastq files for sequencing run accessions provided in a text file using fasterq-dump. Creates one job per listed run accession.",
        "comments": [],
        "creator": [
            {
                "class": "Person",
                "identifier": "https://orcid.org/0000-0002-9676-7032",
                "name": "Marius van den Beek"
            },
            {
                "class": "Organization",
                "name": "IWC",
                "url": "https://github.com/galaxyproject/iwc"
            }
        ],
        "format-version": "0.1",
        "license": "MIT",
        "release": "0.1.14",
        "name": "Parallel Accession Download",
        "steps": {
            "0": {
                "annotation": "Text file containing run accessions (starting with SRR, ERR or DRR), one per line.",
                "content_id": null,
                "errors": null,
                "id": 0,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Text file containing run accessions (starting with SRR, ERR or DRR), one per line.",
                        "name": "Run accessions"
                    }
                ],
                "label": "Run accessions",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 0,
                    "top": 0
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"format\": [\"txt\"], \"tag\": null}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "e9e5605e-29e1-4f90-9693-0e40a2ddfd8f",
                "when": null,
                "workflow_outputs": []
            },
            "1": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/split_file_to_collection/split_file_to_collection/0.5.2",
                "errors": null,
                "id": 1,
                "input_connections": {
                    "split_parms|input": {
                        "id": 0,
                        "output_name": "output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Split file",
                        "name": "split_parms"
                    }
                ],
                "label": "Split accessions to collection",
                "name": "Split file",
                "outputs": [
                    {
                        "name": "list_output_txt",
                        "type": "input"
                    }
                ],
                "position": {
                    "left": 279.51666259765625,
                    "top": 86.01666259765625
                },
                "post_job_actions": {
                    "HideDatasetActionlist_output_txt": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "list_output_txt"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/split_file_to_collection/split_file_to_collection/0.5.2",
                "tool_shed_repository": {
                    "changeset_revision": "2dae863c8f42",
                    "name": "split_file_to_collection",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"split_parms\": {\"select_ftype\": \"txt\", \"__current_case__\": 5, \"input\": {\"__class__\": \"ConnectedValue\"}, \"select_mode\": {\"mode\": \"chunk\", \"__current_case__\": 0, \"chunksize\": \"1\"}, \"newfilenames\": \"split_file\", \"select_allocate\": {\"allocate\": \"byrow\", \"__current_case__\": 2}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.5.2",
                "type": "tool",
                "uuid": "f8d776ff-e1ba-4bde-9b4b-392d825fd2b7",
                "when": null,
                "workflow_outputs": []
            },
            "2": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.1.1+galaxy0",
                "errors": null,
                "id": 2,
                "input_connections": {
                    "input|file_list": {
                        "id": 1,
                        "output_name": "list_output_txt"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Faster Download and Extract Reads in FASTQ",
                        "name": "input"
                    }
                ],
                "label": "fasterq-dump",
                "name": "Faster Download and Extract Reads in FASTQ",
                "outputs": [
                    {
                        "name": "list_paired",
                        "type": "input"
                    },
                    {
                        "name": "output_collection",
                        "type": "input"
                    },
                    {
                        "name": "output_collection_other",
                        "type": "input"
                    },
                    {
                        "name": "log",
                        "type": "txt"
                    }
                ],
                "position": {
                    "left": 570.9250183105469,
                    "top": 62.9749755859375
                },
                "post_job_actions": {
                    "HideDatasetActionlist_paired": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "list_paired"
                    },
                    "HideDatasetActionlog": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "log"
                    },
                    "HideDatasetActionoutput_collection": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "output_collection"
                    },
                    "HideDatasetActionoutput_collection_other": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "output_collection_other"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.1.1+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "516a54ddf218",
                    "name": "sra_tools",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adv\": {\"seq_defline\": \"@$sn/$ri\", \"minlen\": null, \"split\": \"--split-3\", \"skip_technical\": true}, \"input\": {\"input_select\": \"file_list\", \"__current_case__\": 2, \"file_list\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "3.1.1+galaxy0",
                "type": "tool",
                "uuid": "4d328e7b-df7d-4d3e-a60f-1ea12925f317",
                "when": null,
                "workflow_outputs": []
            },
            "3": {
                "annotation": "",
                "content_id": "__APPLY_RULES__",
                "errors": null,
                "id": 3,
                "input_connections": {
                    "input": {
                        "id": 2,
                        "output_name": "list_paired"
                    }
                },
                "inputs": [],
                "label": "flatten paired output",
                "name": "Apply rules",
                "outputs": [
                    {
                        "name": "output",
                        "type": "input"
                    }
                ],
                "position": {
                    "left": 898.0000305175781,
                    "top": 71.9749755859375
                },
                "post_job_actions": {
                    "TagDatasetActionoutput": {
                        "action_arguments": {
                            "tags": "name:PE"
                        },
                        "action_type": "TagDatasetAction",
                        "output_name": "output"
                    }
                },
                "tool_id": "__APPLY_RULES__",
                "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"rules\": {\"mapping\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"columns\": [1], \"connectable\": true, \"editing\": false, \"is_workflow\": false, \"type\": \"list_identifiers\"}, {\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"columns\": [2], \"connectable\": true, \"is_workflow\": false, \"type\": \"paired_identifier\"}], \"rules\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_metadata\", \"value\": \"identifier1\", \"warn\": null}, {\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_metadata\", \"value\": \"identifier2\", \"warn\": null}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.1.0",
                "type": "tool",
                "uuid": "924d2152-5640-40cd-bec3-0ced45469d84",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Paired End Reads",
                        "output_name": "output",
                        "uuid": "b431f0a1-391e-45e1-b739-27dd0fc83087"
                    }
                ]
            },
            "4": {
                "annotation": "",
                "content_id": "__APPLY_RULES__",
                "errors": null,
                "id": 4,
                "input_connections": {
                    "input": {
                        "id": 2,
                        "output_name": "output_collection"
                    }
                },
                "inputs": [],
                "label": "flatten single end output",
                "name": "Apply rules",
                "outputs": [
                    {
                        "name": "output",
                        "type": "input"
                    }
                ],
                "position": {
                    "left": 905.0499572753906,
                    "top": 215.0250244140625
                },
                "post_job_actions": {
                    "TagDatasetActionoutput": {
                        "action_arguments": {
                            "tags": "name:SE"
                        },
                        "action_type": "TagDatasetAction",
                        "output_name": "output"
                    }
                },
                "tool_id": "__APPLY_RULES__",
                "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"rules\": {\"mapping\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"columns\": [1], \"connectable\": true, \"editing\": false, \"is_workflow\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_metadata\", \"value\": \"identifier1\", \"warn\": null}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.1.0",
                "type": "tool",
                "uuid": "946d9610-c363-4915-b93a-f074169ef812",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Single End Reads",
                        "output_name": "output",
                        "uuid": "e2bf276c-0956-473e-a778-b3b3df7351f5"
                    }
                ]
            }
        },
        "tags": [],
        "uuid": "15c3229d-8786-457f-a020-7aa64c0cf6e8",
        "version": 10
    },
    "workflow_job_input": {
        "Run accessions": {
            "class": "File",
            "path": "todo_test_data_path.ext"
        }
    },
    "readme": "# Parallel Accession Download\n\nDownloads fastq files for sequencing run accessions provided in a text file\nusing fasterq-dump. Creates one job per listed run accession, and is therefore\nmuch faster and more robust to errors when many accessions need to be\ndownloaded.\n",
    "changelog": "# Changelog\n\n## [0.1.14] - 2024-05-27\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/bgruening/split_file_to_collection/split_file_to_collection/0.5.1` was updated to `toolshed.g2.bx.psu.edu/repos/bgruening/split_file_to_collection/split_file_to_collection/0.5.2`\n- `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.1.0+galaxy1` was updated to `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.1.1+galaxy0`\n\n## [0.1.13] - 2024-04-22\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.1.0+galaxy0` was updated to `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.1.0+galaxy1`\n\n## [0.1.12] - 2024-04-16\n\n### Changed\n\n- Remove unnecessary param_value_from_file step and directly pass file with identifiers to fasterqdump\n\n## [0.1.11] - 2024-04-08\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.10+galaxy0` was updated to `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.1.0+galaxy0`\n\n## [0.1.10] - 2024-03-11\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.8+galaxy1` was updated to `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.10+galaxy0`\n\n## [0.1.9] - 2023-11-27\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/bgruening/split_file_to_collection/split_file_to_collection/0.5.0` was updated to `toolshed.g2.bx.psu.edu/repos/bgruening/split_file_to_collection/split_file_to_collection/0.5.1`\n\n## [0.1.8] - 2023-11-20\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.8+galaxy0` was updated to `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.8+galaxy1`\n\n## [0.1.7] - 2023-11-10\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.5+galaxy3` was updated to `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.8+galaxy0`\n\n## [0.1.6] - 2023-09-27\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.5+galaxy1` was updated to `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.5+galaxy3`\n\n## [0.1.5] - 2023-09-12\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.5+galaxy0` was updated to `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.5+galaxy1`\n\n## [0.1.4] - 2023-02-17\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/2.11.0+galaxy1` was updated to `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/3.0.5+galaxy0`\n\n## [0.1.3] - 2022-02-04\n\n### Automatic update\n- `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/2.11.0+galaxy0` was updated to `toolshed.g2.bx.psu.edu/repos/iuc/sra_tools/fasterq_dump/2.11.0+galaxy1`\n\n## [0.1.2] - 2021-12-13\n\n### Added\n- Added GitHub Actions workflow. No functional changes.\n\n## [0.1.1] - 2021-07-23\n\n### Added\n\nAdded RO-Crate metadata file. No functional changes.\n\n## [0.1] - 2021-06-23\n\n### Added\n\n- Initial version of Parallel Accession Download workflow.\n",
    "diagrams": "# Workflow diagrams\n\n## Parallel Accession Download\n\n```mermaid\ngraph LR\n0[\"\u2139\ufe0f Run accessions\"]@{ shape: doc }\n1[\"Split accessions to collection\"]@{ shape: process }\n0 --> 1\n2[\"fasterq-dump\"]@{ shape: process }\n1 --> 2\n3[\"flatten paired output\"]@{ shape: process }\n2 --> 3\n4[\"flatten single end output\"]@{ shape: process }\n2 --> 4\n```\n",
    "diagram_svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 420\" role=\"img\" aria-label=\"Parallel accession download workflow diagram\">\n  <title>Parallel Accession Download</title>\n  <desc>Downloads FASTQ files from SRA run accessions: splits accession list into individual items, runs fasterq-dump in parallel, and organizes output into paired-end and single-end read collections</desc>\n\n  <defs>\n    <pattern id=\"grid\" width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\">\n      <path d=\"M 20 0 L 0 0 0 20\" fill=\"none\" stroke=\"#c5d5e4\" stroke-width=\"0.5\"/>\n    </pattern>\n    <pattern id=\"grid-major\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\">\n      <rect width=\"100\" height=\"100\" fill=\"url(#grid)\"/>\n      <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#b0c4d8\" stroke-width=\"1\"/>\n    </pattern>\n    <style>\n      .connection { stroke: #25537b; stroke-width: 4; fill: none; stroke-linecap: round; }\n      .connection-qc { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; stroke-dasharray: 5 3; }\n      .connection-secondary { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; }\n      .node-card { filter: drop-shadow(1px 2px 3px rgba(0,0,0,0.15)); }\n    </style>\n  </defs>\n\n  <!-- Background -->\n  <rect width=\"1000\" height=\"420\" fill=\"#f8f9fa\"/>\n  <rect width=\"1000\" height=\"420\" fill=\"url(#grid-major)\"/>\n\n  <!-- Title bar -->\n  <rect x=\"0\" y=\"0\" width=\"1000\" height=\"45\" fill=\"#25537b\"/>\n  <text x=\"20\" y=\"28\" font-family=\"system-ui, sans-serif\" font-size=\"16\" font-weight=\"600\" fill=\"white\">Parallel Accession Download</text>\n  <text x=\"295\" y=\"28\" font-family=\"system-ui, sans-serif\" font-size=\"12\" fill=\"rgba(255,255,255,0.7)\">SRA/ENA FASTQ Retrieval from Run Accessions</text>\n\n  <!-- ==================== CONNECTIONS ==================== -->\n\n  <!-- Run Accessions \u2192 Split File -->\n  <path class=\"connection\" d=\"M 200 155 C 250 155, 260 155, 300 155\"/>\n\n  <!-- Split File \u2192 fasterq-dump -->\n  <path class=\"connection\" d=\"M 500 155 C 540 155, 550 155, 580 155\"/>\n\n  <!-- fasterq-dump \u2192 Flatten PE -->\n  <path class=\"connection\" d=\"M 780 135 C 810 135, 820 120, 850 120\"/>\n\n  <!-- fasterq-dump \u2192 Flatten SE -->\n  <path class=\"connection\" d=\"M 780 175 C 810 175, 820 230, 850 230\"/>\n\n  <!-- Flatten PE \u2192 PE Reads output -->\n  <path class=\"connection\" d=\"M 850 145 C 850 215, 730 280, 730 310\"/>\n\n  <!-- Flatten SE \u2192 SE Reads output -->\n  <path class=\"connection\" d=\"M 850 255 C 850 280, 870 295, 870 310\"/>\n\n  <!-- ==================== NODES ==================== -->\n\n  <!-- NODE: Run Accessions (Input - Gold) -->\n  <g class=\"node-card\" transform=\"translate(20, 110)\">\n    <rect width=\"180\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#ffd700\" stroke-width=\"1.5\"/>\n    <rect width=\"180\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"24\" width=\"180\" height=\"4\" fill=\"#ffd700\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(44,49,67,0.6)\">1:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"#2C3143\">Run Accessions</text>\n    <text x=\"90\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Text file (one per line)</text>\n    <text x=\"90\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">SRR / ERR / DRR IDs</text>\n    <circle cx=\"180\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#ffd700\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- NODE: Split File (Processing - Blue) -->\n  <g class=\"node-card\" transform=\"translate(300, 110)\">\n    <rect width=\"200\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"200\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">2:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">Split File</text>\n    <text x=\"100\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Split to collection</text>\n    <text x=\"100\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">One accession per item</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- NODE: fasterq-dump (Processing - Blue, key step) -->\n  <g class=\"node-card\" transform=\"translate(580, 90)\">\n    <rect width=\"200\" height=\"120\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n    <rect width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"200\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">3:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"700\" fill=\"white\">fasterq-dump</text>\n    <text x=\"100\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"#495057\">Download FASTQ from SRA</text>\n    <text x=\"100\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Parallel per-accession</text>\n    <line x1=\"10\" y1=\"85\" x2=\"190\" y2=\"85\" stroke=\"#25537b\" stroke-width=\"1\" stroke-dasharray=\"2 2\"/>\n    <text x=\"15\" y=\"100\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\">PE reads (list:paired)</text>\n    <text x=\"15\" y=\"115\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\">SE reads (list)</text>\n    <circle cx=\"0\" cy=\"65\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"45\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n    <circle cx=\"200\" cy=\"85\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n  </g>\n\n  <!-- NODE: Flatten PE (Processing - Blue) -->\n  <g class=\"node-card\" transform=\"translate(850, 90)\">\n    <rect width=\"130\" height=\"55\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"130\" height=\"22\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"18\" width=\"130\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"16\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"rgba(255,255,255,0.7)\">4:</text>\n    <text x=\"26\" y=\"16\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\">Flatten PE</text>\n    <text x=\"65\" y=\"42\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Reorganize collection</text>\n    <circle cx=\"0\" cy=\"30\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"0\" cy=\"55\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n  </g>\n\n  <!-- NODE: Flatten SE (Processing - Blue) -->\n  <g class=\"node-card\" transform=\"translate(850, 200)\">\n    <rect width=\"130\" height=\"55\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"130\" height=\"22\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"18\" width=\"130\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"16\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"rgba(255,255,255,0.7)\">5:</text>\n    <text x=\"26\" y=\"16\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\">Flatten SE</text>\n    <text x=\"65\" y=\"42\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Reorganize collection</text>\n    <circle cx=\"0\" cy=\"30\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"0\" cy=\"55\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n  </g>\n\n  <!-- NODE: Paired End Reads (Output - Orange) -->\n  <g class=\"node-card\" transform=\"translate(660, 310)\">\n    <rect width=\"140\" height=\"55\" rx=\"4\" fill=\"white\" stroke=\"#f97316\" stroke-width=\"1.5\"/>\n    <rect width=\"140\" height=\"20\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"16\" width=\"140\" height=\"4\" fill=\"#f97316\"/>\n    <text x=\"70\" y=\"14\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\">PE Reads</text>\n    <text x=\"70\" y=\"36\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"8\" fill=\"#868e96\">list:paired FASTQ</text>\n    <text x=\"70\" y=\"48\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"8\" fill=\"#868e96\">Paired-end reads</text>\n    <circle cx=\"70\" cy=\"0\" r=\"5\" fill=\"white\" stroke=\"#f97316\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- NODE: Single End Reads (Output - Orange) -->\n  <g class=\"node-card\" transform=\"translate(830, 310)\">\n    <rect width=\"130\" height=\"55\" rx=\"4\" fill=\"white\" stroke=\"#f97316\" stroke-width=\"1.5\"/>\n    <rect width=\"130\" height=\"20\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"16\" width=\"130\" height=\"4\" fill=\"#f97316\"/>\n    <text x=\"65\" y=\"14\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\">SE Reads</text>\n    <text x=\"65\" y=\"36\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"8\" fill=\"#868e96\">list FASTQ</text>\n    <text x=\"65\" y=\"48\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"8\" fill=\"#868e96\">Single-end reads</text>\n    <circle cx=\"40\" cy=\"0\" r=\"5\" fill=\"white\" stroke=\"#f97316\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Legend -->\n  <g transform=\"translate(200, 395)\">\n    <text x=\"0\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"#495057\">Legend:</text>\n    <rect x=\"60\" y=\"-10\" width=\"14\" height=\"14\" rx=\"2\" fill=\"white\" stroke=\"#ffd700\" stroke-width=\"1.5\"/>\n    <text x=\"80\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#6c757d\">Input</text>\n    <line x1=\"120\" y1=\"-4\" x2=\"160\" y2=\"-4\" stroke=\"#25537b\" stroke-width=\"4\" stroke-linecap=\"round\"/>\n    <text x=\"168\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#6c757d\">Data flow</text>\n    <rect x=\"240\" y=\"-10\" width=\"14\" height=\"14\" rx=\"2\" fill=\"white\" stroke=\"#f97316\" stroke-width=\"1.5\"/>\n    <text x=\"260\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#6c757d\">Output</text>\n  </g>\n\n</svg>",
    "updated": "2024-05-27T00:00:00",
    "trsID": "#workflow/github.com/iwc-workflows/parallel-accession-download/main",
    "iwcID": "parallel-accession-download-main",
    "dockstore_id": 16789,
    "categories": [],
    "collections": [
        "Data Fetching"
    ],
    "doi": "10.5281/zenodo.15078771",
    "tests": [
        {
            "doc": "Test download of single end accession",
            "job": {
                "Run accessions": {
                    "class": "File",
                    "hashes": [
                        {
                            "hash_function": "SHA-1",
                            "hash_value": "82f7d1a023352b8d99bdf262ccbc0c87723b754b"
                        }
                    ],
                    "location": "https://raw.githubusercontent.com/galaxyproject/iwc/main/workflows/data-fetching/parallel-accession-download/test-data/input_accession_single_end.txt",
                    "filetype": "txt"
                }
            },
            "outputs": {
                "Single End Reads": {
                    "element_tests": {
                        "SRR044777": {
                            "file": "test-data/SRR044777_head.fastq",
                            "decompress": true,
                            "compare": "contains"
                        }
                    }
                }
            }
        },
        {
            "doc": "Test download of single and paired end accession",
            "job": {
                "Run accessions": {
                    "class": "File",
                    "hashes": [
                        {
                            "hash_function": "SHA-1",
                            "hash_value": "cc855f075b8473f89364415d7f30fada8182a40a"
                        }
                    ],
                    "location": "https://raw.githubusercontent.com/galaxyproject/iwc/main/workflows/data-fetching/parallel-accession-download/test-data/input_accession_paired_end.txt",
                    "filetype": "txt"
                }
            },
            "outputs": {
                "Paired End Reads": {
                    "element_tests": {
                        "SRR11953971": {
                            "elements": {
                                "forward": {
                                    "file": "test-data/SRR11953971_1_head.fastq",
                                    "decompress": true,
                                    "compare": "contains"
                                },
                                "reverse": {
                                    "file": "test-data/SRR11953971_2_head.fastq",
                                    "decompress": true,
                                    "compare": "contains"
                                }
                            }
                        }
                    }
                }
            }
        }
    ]
}