{
    "name": "main",
    "subclass": "Galaxy",
    "publish": true,
    "primaryDescriptorPath": "/iwc-clinicalmp-database-generation.ga",
    "testParameterFiles": [
        "/iwc-clinicalmp-database-generation-tests.yml"
    ],
    "authors": [
        {
            "name": "Subina Mehta",
            "orcid": "0000-0001-9818-0537"
        }
    ],
    "definition": {
        "a_galaxy_workflow": "true",
        "annotation": "The workflow begins with the Database Generation process. The Galaxy-P team has developed a workflow that collects protein sequences from known disease-causing microorganisms to build a comprehensive database. This extensive database is then refined into a smaller, more relevant dataset using the Metanovo tool.",
        "comments": [],
        "creator": [
            {
                "class": "Organization",
                "identifier": "0000-0001-9818-0537",
                "name": "Subina Mehta"
            }
        ],
        "format-version": "0.1",
        "license": "CC-BY-4.0",
        "name": "Generate a Clinical Metaproteomics Database",
        "release": "0.1",
        "report": {
            "markdown": "\n# Workflow Execution Report\n\n## Workflow Inputs\n```galaxy\ninvocation_inputs()\n```\n\n## Workflow Outputs\n```galaxy\ninvocation_outputs()\n```\n\n## Workflow\n```galaxy\nworkflow_display()\n```\n"
        },
        "steps": {
            "0": {
                "annotation": "Human SwissProt Protein Database",
                "content_id": null,
                "errors": null,
                "id": 0,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Human SwissProt Protein Database",
                        "name": "Human SwissProt Protein Database"
                    }
                ],
                "label": "Human SwissProt Protein Database",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 0,
                    "top": 207.8446261703461
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"tag\": null}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "bb037df4-ef56-42ad-8b3e-93425bc7bdfa",
                "when": null,
                "workflow_outputs": []
            },
            "1": {
                "annotation": "Tandem Mass Spectrometry (MS/MS) datasets",
                "content_id": null,
                "errors": null,
                "id": 1,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Tandem Mass Spectrometry (MS/MS) datasets",
                        "name": "Tandem Mass Spectrometry (MS/MS) datasets"
                    }
                ],
                "label": "Tandem Mass Spectrometry (MS/MS) datasets",
                "name": "Input dataset collection",
                "outputs": [],
                "position": {
                    "left": 260.96875,
                    "top": 0
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\"}",
                "tool_version": null,
                "type": "data_collection_input",
                "uuid": "d6bb6e3e-ebf6-4c65-bcf7-ea9527cf8653",
                "when": null,
                "workflow_outputs": []
            },
            "2": {
                "annotation": "Species UniProt Protein Database",
                "content_id": null,
                "errors": null,
                "id": 2,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Species UniProt Protein Database",
                        "name": "Species UniProt Protein Database"
                    }
                ],
                "label": "Species UniProt Protein Database",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 2.4375,
                    "top": 373.22882080078125
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"tag\": null}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "b4b90dcd-9228-4aad-b51d-2f08b2d4cc0d",
                "when": null,
                "workflow_outputs": []
            },
            "3": {
                "annotation": "Contaminants cRAP Protein Database",
                "content_id": null,
                "errors": null,
                "id": 3,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Contaminants cRAP Protein Database",
                        "name": "Contaminants cRAP Protein Database"
                    }
                ],
                "label": "Contaminants cRAP Protein Database",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 14.40625,
                    "top": 471.45147705078125
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"tag\": null}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "ca7de659-6e60-4bd5-aa4c-a88f2860e8c9",
                "when": null,
                "workflow_outputs": []
            },
            "4": {
                "annotation": "Merging FASTA files",
                "content_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/fasta_merge_files_and_filter_unique_sequences/fasta_merge_files_and_filter_unique_sequences/1.2.0",
                "errors": null,
                "id": 4,
                "input_connections": {
                    "batchmode|input_fastas_0|input_fasta": {
                        "id": 0,
                        "output_name": "output"
                    },
                    "batchmode|input_fastas_1|input_fasta": {
                        "id": 2,
                        "output_name": "output"
                    },
                    "batchmode|input_fastas_2|input_fasta": {
                        "id": 3,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": "Human UniProt Microbial Proteins cRAP for MetaNovo",
                "name": "FASTA Merge Files and Filter Unique Sequences",
                "outputs": [
                    {
                        "name": "output",
                        "type": "fasta"
                    }
                ],
                "position": {
                    "left": 369.32421875,
                    "top": 137.68359736327898
                },
                "post_job_actions": {
                    "RenameDatasetActionoutput": {
                        "action_arguments": {
                            "newname": "Human UniProt Microbial Proteins cRAP for MetaNovo"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "output"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/fasta_merge_files_and_filter_unique_sequences/fasta_merge_files_and_filter_unique_sequences/1.2.0",
                "tool_shed_repository": {
                    "changeset_revision": "f546e7278f04",
                    "name": "fasta_merge_files_and_filter_unique_sequences",
                    "owner": "galaxyp",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"accession_parser\": \"^>([^ ]+).*$\", \"batchmode\": {\"processmode\": \"individual\", \"__current_case__\": 0, \"input_fastas\": [{\"__index__\": 0, \"input_fasta\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"input_fasta\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 2, \"input_fasta\": {\"__class__\": \"ConnectedValue\"}}]}, \"uniqueness_criterion\": \"sequence\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.2.0",
                "type": "tool",
                "uuid": "4c1b21ac-9ceb-49be-9c48-771a3fda8db4",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Human UniProt Microbial Proteins cRAP for MetaNovo",
                        "output_name": "output",
                        "uuid": "fbc778a5-f931-4b0c-b641-7782abfb4351"
                    }
                ]
            },
            "5": {
                "annotation": "Generating Customized Database",
                "content_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/metanovo/metanovo/1.9.4+galaxy4",
                "errors": null,
                "id": 5,
                "input_connections": {
                    "input_fasta": {
                        "id": 4,
                        "output_name": "output"
                    },
                    "input_type|input_mgf_collection": {
                        "id": 1,
                        "output_name": "output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool MetaNovo",
                        "name": "input_type"
                    }
                ],
                "label": "Metanovo",
                "name": "MetaNovo",
                "outputs": [
                    {
                        "name": "output_fasta",
                        "type": "fasta"
                    },
                    {
                        "name": "output_csv",
                        "type": "csv"
                    }
                ],
                "position": {
                    "left": 651.57421875,
                    "top": 90.94140986327898
                },
                "post_job_actions": {
                    "RenameDatasetActionoutput_csv": {
                        "action_arguments": {
                            "newname": "Metanovo Compact CSV database"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "output_csv"
                    },
                    "RenameDatasetActionoutput_fasta": {
                        "action_arguments": {
                            "newname": "Metanovo Compact database"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "output_fasta"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/metanovo/metanovo/1.9.4+galaxy4",
                "tool_shed_repository": {
                    "changeset_revision": "d6dcd3173bdf",
                    "name": "metanovo",
                    "owner": "galaxyp",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"directag\": {\"directag_tic_cutoff\": \"85\", \"directag_max_peak_count\": \"400\", \"directag_intensity_classes\": \"3\", \"directag_adjust_precursor\": false, \"directag_min_adjustment\": \"-2.5\", \"directag_max_adjustment\": \"2.5\", \"directag_adjustment_step\": \"0.1\", \"directag_charge_states\": \"3\", \"directag_ms_charge_state\": false, \"directag_duplicate_spectra\": true, \"directag_deisotoping\": \"0\", \"directag_isotope_tolerance\": \"0.25\", \"directag_complement_tolerance\": \"0.5\", \"directag_tag_length\": \"4\", \"directag_max_var_mods\": \"2\", \"directag_max_tag_count\": \"5\", \"directag_intensity_weight\": \"1.0\", \"directag_fidelity_weight\": \"1.0\", \"directag_complement_weight\": \"1.0\"}, \"fraction_analysis\": {\"protein_fraction_mw_confidence\": \"95.0\"}, \"gene_annotation\": {\"useGeneMapping\": true, \"updateGeneMapping\": true}, \"import_filters\": {\"import_peptide_length_min\": \"8\", \"import_peptide_length_max\": \"50\", \"import_precursor_mz_ppm\": \"0\", \"exclude_unknown_ptms\": true}, \"input_fasta\": {\"__class__\": \"ConnectedValue\"}, \"input_type\": {\"type\": \"collection\", \"__current_case__\": 1, \"input_mgf_collection\": {\"__class__\": \"ConnectedValue\"}}, \"metanovo_parameters\": {\"mn_specificity\": \"specific\", \"mn_enzymes\": \"Trypsin, no P rule\", \"mn_max_missed_cleavages\": \"2\"}, \"processing_control\": {\"CHUNKSIZE\": \"100000\"}, \"protein_inference\": {\"simplify_groups\": true, \"simplify_score\": true, \"simplify_enzymaticity\": true, \"simplify_evidence\": true, \"simplify_uncharacterized\": true}, \"ptm_localization\": {\"ptm_score\": \"1\", \"score_neutral_losses\": false, \"ptm_sequence_matching_type\": \"1\", \"ptm_alignment\": true}, \"sequence_matching\": {\"sequence_index_type\": \"0\", \"sequence_matching_type\": \"2\", \"sequence_matching_x\": \"0.25\"}, \"spectrum_annotation\": {\"annotation_level\": \"0.75\", \"annotation_high_resolution\": true}, \"spectrum_matching_parameters\": {\"prec_tol\": \"10.0\", \"prec_ppm\": \"1\", \"frag_tol\": \"0.01\", \"frag_ppm\": \"0\", \"digestion\": \"0\", \"enzyme\": [\"Trypsin (no P rule)\"], \"specificity\": \"0\", \"mc\": \"2\", \"fixed_mods\": [\"Carbamidomethylation of C\", \"TMT 10-plex of K\", \"TMT 10-plex of peptide N-term\"], \"variable_mods\": [\"Oxidation of M\"], \"min_charge\": \"2\", \"max_charge\": \"5\", \"fi\": \"b\", \"ri\": \"y\", \"min_isotope\": \"0\", \"max_isotope\": \"1\"}, \"validation_levels\": {\"psm_fdr\": \"1\", \"peptide_fdr\": \"1\", \"protein_fdr\": \"1\", \"group_psms\": true, \"group_peptides\": true, \"merge_subgroups\": true}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.9.4+galaxy4",
                "type": "tool",
                "uuid": "07d51088-eb68-4ffd-b505-7228a21de93c",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Metanovo Compact database",
                        "output_name": "output_fasta",
                        "uuid": "02940034-f0fe-4151-acd0-c6982e77b717"
                    },
                    {
                        "label": "Metanovo Compact CSV database",
                        "output_name": "output_csv",
                        "uuid": "d7208cb6-a907-4a8b-b8b7-cf44c103d14a"
                    }
                ]
            },
            "6": {
                "annotation": "Merge all FASTA",
                "content_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/fasta_merge_files_and_filter_unique_sequences/fasta_merge_files_and_filter_unique_sequences/1.2.0",
                "errors": null,
                "id": 6,
                "input_connections": {
                    "batchmode|input_fastas_0|input_fasta": {
                        "id": 0,
                        "output_name": "output"
                    },
                    "batchmode|input_fastas_1|input_fasta": {
                        "id": 5,
                        "output_name": "output_fasta"
                    },
                    "batchmode|input_fastas_2|input_fasta": {
                        "id": 3,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": "Merge all FASTA",
                "name": "FASTA Merge Files and Filter Unique Sequences",
                "outputs": [
                    {
                        "name": "output",
                        "type": "fasta"
                    }
                ],
                "position": {
                    "left": 924.9069441945012,
                    "top": 322.62533209947645
                },
                "post_job_actions": {
                    "RenameDatasetActionoutput": {
                        "action_arguments": {
                            "newname": "Human UniProt Microbial Proteins from MetaNovo cRAP"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "output"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/fasta_merge_files_and_filter_unique_sequences/fasta_merge_files_and_filter_unique_sequences/1.2.0",
                "tool_shed_repository": {
                    "changeset_revision": "f546e7278f04",
                    "name": "fasta_merge_files_and_filter_unique_sequences",
                    "owner": "galaxyp",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"fasta\", \"accession_parser\": \"^>([^ ]+).*$\", \"batchmode\": {\"processmode\": \"individual\", \"__current_case__\": 0, \"input_fastas\": [{\"__index__\": 0, \"input_fasta\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"input_fasta\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 2, \"input_fasta\": {\"__class__\": \"ConnectedValue\"}}]}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"uniqueness_criterion\": \"sequence\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.2.0",
                "type": "tool",
                "uuid": "3880c712-4f3c-4edc-bda0-ee348ab1a2c4",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Human UniProt Microbial Proteins from MetaNovo cRAP",
                        "output_name": "output",
                        "uuid": "e3f490ef-1307-4892-bab1-6085cf8194ae"
                    }
                ]
            }
        },
        "tags": [
            "name:clinicalMP"
        ],
        "uuid": "758f86d1-b81e-438d-9666-bc7dc31b4627",
        "version": 10
    },
    "workflow_job_input": {
        "Human SwissProt Protein Database": {
            "class": "File",
            "path": "todo_test_data_path.ext"
        },
        "Tandem Mass Spectrometry (MS/MS) datasets": {
            "class": "Collection",
            "collection_type": "list",
            "elements": [
                {
                    "class": "File",
                    "identifier": "todo_element_name",
                    "path": "todo_test_data_path.ext"
                }
            ]
        },
        "Species UniProt Protein Database": {
            "class": "File",
            "path": "todo_test_data_path.ext"
        },
        "Contaminants cRAP Protein Database": {
            "class": "File",
            "path": "todo_test_data_path.ext"
        }
    },
    "readme": "# Clinical Metaproteomics 1: Database Generation\nMetaproteomics involves the large-scale identification and analysis of all proteins expressed by microbiota. However, analyzing clinical samples using metaproteomics is complicated by the presence of abundant human (host) proteins, which can obscure the detection of less abundant microbial proteins.\n\nTo overcome this challenge, we developed a metaproteomics workflow using tandem mass spectrometry (MS/MS) and bioinformatics tools on the Galaxy platform. This workflow enables the characterization of metaproteomes in clinical samples.\n\nThe first step in this workflow is the Database Generation process. The Galaxy-P team has created a workflow that compiles a large database by downloading protein sequences of known disease-causing microorganisms. From this extensive database, a compact, relevant database is then created using the Metanovo tool.\nA GTN has been developed for this workflow. [https://training.galaxyproject.org/training-material/topics/proteomics/tutorials/clinical-mp-1-database-generation/tutorial.html](https://training.galaxyproject.org/training-material/topics/proteomics/tutorials/clinical-mp-1-database-generation/tutorial.html)\n\n## Inputs dataset\n\n### Search Databases (FASTA) from [Zenodo](https://zenodo.org/records/14181725)\n- `HUMAN SwissProt Protein_Database.fasta`\n- `Species UniProt Protein Database FASTA.fasta`\n- `Contaminants (cRAP) Protein Database.fasta`\n\n### MSMS files download from [Zenodo](https://zenodo.org/records/14181725)\n- `PTRC_Skubitz_Plex2_F10_9Aug19_Rage_Rep-19-06-08.mgf`\n- `PTRC_Skubitz_Plex2_F11_9Aug19_Rage_Rep-19-06-08.mgf`\n- `PTRC_Skubitz_Plex2_F13_9Aug19_Rage_Rep-19-06-08.mgf`\n- `PTRC_Skubitz_Plex2_F15_9Aug19_Rage_Rep-19-06-08.mgf`\n\n## Input Values\nFor Metanovo \n- Peptide Length\n- Variable modifications\n- Labeled element\n\n## Processing\n- Merge all the resultant FASTA files\n",
    "changelog": "# Changelog\n\n## [0.1] - 2024-11-18\nFirst release.\n",
    "diagrams": "# Workflow diagrams\n\n## Generate a Clinical Metaproteomics Database\n\n```mermaid\ngraph LR\n0[\"\u2139\ufe0f Human SwissProt Protein Database\"]@{ shape: doc }\n1[\"\u2139\ufe0f Tandem Mass Spectrometry (MS/MS) datasets\"]@{ shape: docs }\n2[\"\u2139\ufe0f Species UniProt Protein Database\"]@{ shape: doc }\n3[\"\u2139\ufe0f Contaminants cRAP Protein Database\"]@{ shape: doc }\n4[\"Human UniProt Microbial Proteins cRAP for MetaNovo\"]@{ shape: process }\n0 --> 4\n2 --> 4\n3 --> 4\n5[\"Metanovo\"]@{ shape: process }\n4 --> 5\n1 --> 5\n6[\"Merge all FASTA\"]@{ shape: process }\n0 --> 6\n5 --> 6\n3 --> 6\n```\n",
    "diagram_svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 920 420\" role=\"img\" aria-label=\"Clinical Metaproteomics Database Generation workflow diagram\">\n  <title>Generate a Clinical Metaproteomics Database</title>\n  <desc>Database generation workflow for clinical metaproteomics: merge human, species, and contaminant protein databases, refine with MetaNovo using MS/MS data, and produce a compact search database</desc>\n  <defs>\n    <pattern id=\"grid\" width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\">\n      <path d=\"M 20 0 L 0 0 0 20\" fill=\"none\" stroke=\"#c5d5e4\" stroke-width=\"0.5\"/>\n    </pattern>\n    <pattern id=\"grid-major\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\">\n      <rect width=\"100\" height=\"100\" fill=\"url(#grid)\"/>\n      <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#b0c4d8\" stroke-width=\"1\"/>\n    </pattern>\n    <style>\n      .connection { stroke: #25537b; stroke-width: 4; fill: none; stroke-linecap: round; }\n      .connection-qc { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; stroke-dasharray: 5 3; }\n      .connection-secondary { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; }\n      .node-card { filter: drop-shadow(1px 2px 3px rgba(0,0,0,0.15)); }\n    </style>\n  </defs>\n  <rect width=\"920\" height=\"420\" fill=\"#f8f9fa\"/>\n  <rect width=\"920\" height=\"420\" fill=\"url(#grid-major)\"/>\n  <rect x=\"0\" y=\"0\" width=\"920\" height=\"45\" fill=\"#25537b\"/>\n  <text x=\"20\" y=\"28\" font-family=\"system-ui, sans-serif\" font-size=\"15\" font-weight=\"600\" fill=\"white\">Generate a Clinical Metaproteomics Database</text>\n  <text x=\"900\" y=\"28\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\" text-anchor=\"end\">clinicalMP</text>\n\n  <!-- CONNECTIONS -->\n  <!-- Human SwissProt -> FASTA Merge (for MetaNovo) -->\n  <path class=\"connection\" d=\"M 180 100 C 220 100, 250 115, 280 115\"/>\n  <!-- Species UniProt -> FASTA Merge (for MetaNovo) -->\n  <path class=\"connection\" d=\"M 180 190 C 220 190, 250 130, 280 130\"/>\n  <!-- Contaminants -> FASTA Merge (for MetaNovo) -->\n  <path class=\"connection\" d=\"M 180 280 C 220 280, 250 145, 280 145\"/>\n  <!-- FASTA Merge -> MetaNovo -->\n  <path class=\"connection\" d=\"M 480 130 C 510 130, 520 130, 540 130\"/>\n  <!-- MS/MS -> MetaNovo -->\n  <path class=\"connection\" d=\"M 180 100 C 340 100, 500 90, 540 115\"/>\n  <!-- MetaNovo -> Final Merge -->\n  <path class=\"connection\" d=\"M 740 130 C 760 130, 770 200, 540 200\"/>\n  <!-- Human SwissProt -> Final Merge -->\n  <path class=\"connection-secondary\" d=\"M 180 110 C 250 110, 510 185, 540 185\"/>\n  <!-- Contaminants -> Final Merge -->\n  <path class=\"connection-secondary\" d=\"M 180 280 C 360 280, 510 215, 540 215\"/>\n\n  <!-- INPUT: Human SwissProt -->\n  <g class=\"node-card\" transform=\"translate(20,65)\">\n    <rect width=\"160\" height=\"70\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"14\" width=\"160\" height=\"14\" fill=\"#ffd700\"/>\n    <text x=\"80\" y=\"18\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"#2C3143\" text-anchor=\"middle\">Human SwissProt DB</text>\n    <text x=\"80\" y=\"50\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\" text-anchor=\"middle\">Protein database</text>\n    <circle cx=\"160\" cy=\"35\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- INPUT: MS/MS Data -->\n  <g class=\"node-card\" transform=\"translate(20,150)\">\n    <rect width=\"160\" height=\"70\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"14\" width=\"160\" height=\"14\" fill=\"#ffd700\"/>\n    <text x=\"80\" y=\"18\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"#2C3143\" text-anchor=\"middle\">MS/MS + Species DB</text>\n    <text x=\"80\" y=\"50\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\" text-anchor=\"middle\">Spectra + UniProt</text>\n    <circle cx=\"160\" cy=\"35\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- INPUT: Contaminants -->\n  <g class=\"node-card\" transform=\"translate(20,245)\">\n    <rect width=\"160\" height=\"70\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"14\" width=\"160\" height=\"14\" fill=\"#ffd700\"/>\n    <text x=\"80\" y=\"18\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"#2C3143\" text-anchor=\"middle\">Contaminants cRAP</text>\n    <text x=\"80\" y=\"50\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\" text-anchor=\"middle\">Protein database</text>\n    <circle cx=\"160\" cy=\"35\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- PROCESSING: FASTA Merge (for MetaNovo) -->\n  <g class=\"node-card\" transform=\"translate(280,95)\">\n    <rect width=\"200\" height=\"72\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"14\" width=\"200\" height=\"14\" fill=\"#25537b\"/>\n    <text x=\"100\" y=\"18\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\" text-anchor=\"middle\">FASTA Merge</text>\n    <text x=\"100\" y=\"48\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\" text-anchor=\"middle\">Merge Human + Species</text>\n    <text x=\"100\" y=\"61\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\" text-anchor=\"middle\">+ cRAP for MetaNovo</text>\n    <circle cx=\"0\" cy=\"36\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"36\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- PROCESSING: MetaNovo -->\n  <g class=\"node-card\" transform=\"translate(540,95)\">\n    <rect width=\"200\" height=\"72\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"14\" width=\"200\" height=\"14\" fill=\"#25537b\"/>\n    <text x=\"100\" y=\"18\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\" text-anchor=\"middle\">MetaNovo</text>\n    <text x=\"100\" y=\"48\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\" text-anchor=\"middle\">Refine database using</text>\n    <text x=\"100\" y=\"61\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\" text-anchor=\"middle\">MS/MS spectral evidence</text>\n    <circle cx=\"0\" cy=\"36\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"36\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- PROCESSING: Final FASTA Merge -->\n  <g class=\"node-card\" transform=\"translate(540,175)\">\n    <rect width=\"200\" height=\"72\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"14\" width=\"200\" height=\"14\" fill=\"#25537b\"/>\n    <text x=\"100\" y=\"18\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\" text-anchor=\"middle\">Final FASTA Merge</text>\n    <text x=\"100\" y=\"48\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\" text-anchor=\"middle\">Human + MetaNovo output</text>\n    <text x=\"100\" y=\"61\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\" text-anchor=\"middle\">+ cRAP combined</text>\n    <circle cx=\"0\" cy=\"36\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"36\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- OUTPUT: Compact DB -->\n  <g class=\"node-card\" transform=\"translate(790,95)\">\n    <rect width=\"120\" height=\"50\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"120\" height=\"24\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"12\" width=\"120\" height=\"12\" fill=\"#f97316\"/>\n    <text x=\"60\" y=\"16\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\" text-anchor=\"middle\">Compact DB</text>\n    <text x=\"60\" y=\"40\" font-family=\"system-ui, sans-serif\" font-size=\"8\" fill=\"#495057\" text-anchor=\"middle\">MetaNovo FASTA</text>\n    <circle cx=\"0\" cy=\"25\" r=\"6\" fill=\"#f97316\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- OUTPUT: Final DB -->\n  <g class=\"node-card\" transform=\"translate(790,195)\">\n    <rect width=\"120\" height=\"50\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"120\" height=\"24\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"12\" width=\"120\" height=\"12\" fill=\"#f97316\"/>\n    <text x=\"60\" y=\"16\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\" text-anchor=\"middle\">Search DB</text>\n    <text x=\"60\" y=\"40\" font-family=\"system-ui, sans-serif\" font-size=\"8\" fill=\"#495057\" text-anchor=\"middle\">merged FASTA</text>\n    <circle cx=\"0\" cy=\"25\" r=\"6\" fill=\"#f97316\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- LEGEND -->\n  <g transform=\"translate(20,370)\">\n    <rect width=\"880\" height=\"36\" rx=\"6\" fill=\"white\" fill-opacity=\"0.85\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect x=\"15\" y=\"10\" width=\"16\" height=\"16\" rx=\"3\" fill=\"#ffd700\"/>\n    <text x=\"38\" y=\"23\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Input</text>\n    <line x1=\"90\" y1=\"18\" x2=\"130\" y2=\"18\" stroke=\"#25537b\" stroke-width=\"4\" stroke-linecap=\"round\"/>\n    <text x=\"138\" y=\"23\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Data flow</text>\n    <line x1=\"210\" y1=\"18\" x2=\"250\" y2=\"18\" stroke=\"#25537b\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-dasharray=\"5 3\"/>\n    <text x=\"258\" y=\"23\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">QC flow</text>\n    <rect x=\"330\" y=\"10\" width=\"16\" height=\"16\" rx=\"3\" fill=\"#f97316\"/>\n    <text x=\"353\" y=\"23\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Output</text>\n    <rect x=\"410\" y=\"10\" width=\"16\" height=\"16\" rx=\"3\" fill=\"#10b981\"/>\n    <text x=\"433\" y=\"23\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Report / QC</text>\n    <rect x=\"520\" y=\"10\" width=\"16\" height=\"16\" rx=\"3\" fill=\"#25537b\"/>\n    <text x=\"543\" y=\"23\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Processing</text>\n  </g>\n</svg>",
    "updated": "2024-11-18T00:00:00",
    "trsID": "#workflow/github.com/iwc-workflows/clinicalmp-database-generation/main",
    "iwcID": "clinicalmp-database-generation-main",
    "dockstore_id": 29491,
    "categories": [],
    "collections": [
        "Proteomics",
        "Metaproteomics"
    ],
    "doi": "10.5281/zenodo.15078858",
    "tests": [
        {
            "doc": "Test outline for iwc-clinicalmp-database-generation",
            "job": {
                "Human SwissProt Protein Database": {
                    "class": "File",
                    "location": "https://zenodo.org/records/14181725/files/HUMAN-SwissProt-Protein-Database.fasta?download=1",
                    "filetype": "fasta",
                    "hashes": [
                        {
                            "hash_function": "SHA-1",
                            "hash_value": "79c3abb625d59ad68874ad09b66b25c4131b187f"
                        }
                    ]
                },
                "Species UniProt Protein Database": {
                    "class": "File",
                    "location": "https://zenodo.org/records/14181725/files/Species_UniProt_FASTA.fasta?download=1",
                    "filetype": "fasta",
                    "hashes": [
                        {
                            "hash_function": "SHA-1",
                            "hash_value": "a9eb443bc36eee24fdc124ddad0aee51b17acce7"
                        }
                    ]
                },
                "Contaminants cRAP Protein Database": {
                    "class": "File",
                    "location": "https://zenodo.org/records/14181725/files/Contaminants(cRAP)-Protein-Database.fasta?download=1",
                    "filetype": "fasta",
                    "hashes": [
                        {
                            "hash_function": "SHA-1",
                            "hash_value": "be5d772342f1e8d6f79cfe07ffcdfaf7bae85654"
                        }
                    ]
                },
                "Tandem Mass Spectrometry (MS/MS) datasets": {
                    "class": "Collection",
                    "collection_type": "list",
                    "elements": [
                        {
                            "class": "File",
                            "identifier": "PTRC_Skubitz_Plex2_F15_9Aug19_Rage_Rep-19-06-08.mgf",
                            "location": "https://zenodo.org/records/14181725/files/PTRC_Skubitz_Plex2_F15_9Aug19_Rage_Rep-19-06-08.mgf?download=1",
                            "hashes": [
                                {
                                    "hash_function": "SHA-1",
                                    "hash_value": "74b0db7ef696b05fa115190ffd0c854b8c420aca"
                                }
                            ],
                            "filetype": "auto"
                        },
                        {
                            "class": "File",
                            "identifier": "PTRC_Skubitz_Plex2_F13_9Aug19_Rage_Rep-19-06-08.mgf",
                            "location": "https://zenodo.org/records/14181725/files/PTRC_Skubitz_Plex2_F13_9Aug19_Rage_Rep-19-06-08.mgf?download=1",
                            "hashes": [
                                {
                                    "hash_function": "SHA-1",
                                    "hash_value": "6320f5feb043422ddff8285f0496e4d9a016287c"
                                }
                            ],
                            "filetype": "auto"
                        },
                        {
                            "class": "File",
                            "identifier": "PTRC_Skubitz_Plex2_F11_9Aug19_Rage_Rep-19-06-08.mgf",
                            "location": "https://zenodo.org/records/14181725/files/PTRC_Skubitz_Plex2_F11_9Aug19_Rage_Rep-19-06-08.mgf?download=1",
                            "hashes": [
                                {
                                    "hash_function": "SHA-1",
                                    "hash_value": "63d72e72e02c7c10fbb3248bfeed1d77c2ffc897"
                                }
                            ],
                            "filetype": "auto"
                        },
                        {
                            "class": "File",
                            "identifier": "PTRC_Skubitz_Plex2_F10_9Aug19_Rage_Rep-19-06-08.mgf",
                            "location": "https://zenodo.org/records/14181725/files/PTRC_Skubitz_Plex2_F10_9Aug19_Rage_Rep-19-06-08.mgf?download=1",
                            "hashes": [
                                {
                                    "hash_function": "SHA-1",
                                    "hash_value": "7d8d9cfaf29b048929ff2f1f14b0ea474cae02c0"
                                }
                            ],
                            "filetype": "auto"
                        }
                    ]
                }
            },
            "outputs": {
                "Human UniProt Microbial Proteins cRAP for MetaNovo": {
                    "asserts": [
                        {
                            "that": "has_text",
                            "text": ">sp|"
                        }
                    ]
                },
                "Metanovo Compact database": {
                    "asserts": [
                        {
                            "that": "has_text",
                            "text": ">sp|"
                        }
                    ]
                },
                "Metanovo Compact CSV database": {
                    "asserts": [
                        {
                            "that": "has_text",
                            "text": "index"
                        }
                    ]
                },
                "Human UniProt Microbial Proteins from MetaNovo cRAP": {
                    "asserts": [
                        {
                            "that": "has_text",
                            "text": ">sp|"
                        }
                    ]
                }
            }
        }
    ]
}