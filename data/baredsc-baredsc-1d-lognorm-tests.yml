- doc: Test outline for baredSC_1d
  job:
    Gene name: 0.5_0_0_0.5_x
    Maximum number of Gaussians to study: '4'
    Maximum value in logNorm: '2.5'
    Tabular with raw expression values:
      class: File
      filetype: tabular
      location: https://raw.githubusercontent.com/galaxyproject/iwc/main/workflows/scRNAseq/baredsc/test-data/nih3t3_generated_2d_2.txt
  outputs:
    baredsc_neff:
      element_tests:
        split_file_000000.tabular:
          asserts:
            has_line_matching:
              expression: 80[0-9][0-9].[0-9]*
            has_n_lines:
              n: 1
        split_file_000001.tabular:
          asserts:
            has_line_matching:
              expression: 13[0-9][0-9].[0-9]*
            has_n_lines:
              n: 1
        split_file_000002.tabular:
          asserts:
            has_line_matching:
              expression: 2[0-9][0-9].[0-9]*
            has_n_lines:
              n: 1
        split_file_000003.tabular:
          asserts:
            has_line_matching:
              expression: '[7-9][0-9][0-9].[0-9]*'
            has_n_lines:
              n: 1
    baredsc_numpy:
      element_tests:
        split_file_000000.tabular:
          asserts:
            has_size:
              delta: 100000
              value: 1257919
        split_file_000001.tabular:
          asserts:
            has_size:
              delta: 100000
              value: 1601519
        split_file_000002.tabular:
          asserts:
            has_size:
              delta: 200000
              value: 2180423
        split_file_000003.tabular:
          asserts:
            has_size:
              delta: 2000000
              value: 28234812
    baredsc_qc_plots:
      element_tests:
        split_file_000000.tabular:
          element_tests:
            convergence:
              asserts:
                has_size:
                  delta: 1000
                  value: 20304
            corner:
              asserts:
                has_size:
                  delta: 6000
                  value: 63603
            p:
              asserts:
                has_size:
                  delta: 4000
                  value: 45302
        split_file_000001.tabular:
          element_tests:
            convergence:
              asserts:
                has_size:
                  delta: 2000
                  value: 27704
            corner:
              asserts:
                has_size:
                  delta: 30000
                  value: 387365
            p:
              asserts:
                has_size:
                  delta: 90000
                  value: 97623
        split_file_000002.tabular:
          element_tests:
            convergence:
              asserts:
                has_size:
                  delta: 3000
                  value: 32463
            corner:
              asserts:
                has_size:
                  delta: 100000
                  value: 1103840
            p:
              asserts:
                has_size:
                  delta: 10000
                  value: 159797
        split_file_000003.tabular:
          element_tests:
            convergence:
              asserts:
                has_size:
                  delta: 3000
                  value: 31343
            corner:
              asserts:
                has_size:
                  delta: 200000
                  value: 2139411
            p:
              asserts:
                has_size:
                  delta: 10000
                  value: 175774
    combined_other_outputs:
      element_tests:
        individuals:
          asserts:
            has_size:
              delta: 10000
              value: 108407
        means:
          asserts:
            has_line_matching:
              expression: 6.[0-9]*e-01
            has_n_lines:
              delta: 4000
              n: 99998
        posterior_andco:
          asserts:
            has_size:
              delta: 10000
              value: 197980
        posterior_individuals:
          asserts:
            has_size:
              delta: 10000
              value: 105262
        posterior_per_cell:
          asserts:
            has_line_matching:
              expression: "mu\tsd"
            has_n_lines:
              n: 2362
        with_posterior:
          asserts:
            has_size:
              delta: 20000
              value: 234303
    combined_pdf:
      asserts:
        has_line:
          line: "x\tlow\tmean\thigh\tmedian"
        has_text:
          text: "0.0125\t"
    combined_plot:
      compare: sim_size
      delta_frac: 0.1
      path: test-data/combined_1d_plot.png
