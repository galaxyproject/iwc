{
    "name": "main",
    "subclass": "Galaxy",
    "publish": true,
    "primaryDescriptorPath": "/Taxonomy-Profiling-and-Visualization-with-Krona.ga",
    "testParameterFiles": [
        "/Taxonomy-Profiling-and-Visualization-with-Krona-tests.yml"
    ],
    "authors": [
        {
            "name": "Engy Nasr",
            "orcid": "0000-0001-9047-4215",
            "url": "https://orcid.org/0000-0001-9047-4215"
        },
        {
            "name": "B\u00e9r\u00e9nice Batut",
            "orcid": "0000-0001-9852-1987",
            "url": "https://orcid.org/0000-0001-9852-1987"
        },
        {
            "name": "Paul Zierep",
            "orcid": "0000-0003-2982-388X",
            "url": "https://orcid.org/0000-0003-2982-388X"
        }
    ],
    "definition": {
        "a_galaxy_workflow": "true",
        "annotation": "Microbiome - Taxonomy Profiling",
        "comments": [
            {
                "child_steps": [
                    4
                ],
                "color": "red",
                "data": {
                    "title": "Taxonomy Visualisation"
                },
                "id": 1,
                "position": [
                    685,
                    167.31666564941406
                ],
                "size": [
                    236,
                    191
                ],
                "type": "frame"
            },
            {
                "child_steps": [
                    2,
                    3,
                    1
                ],
                "color": "red",
                "data": {
                    "title": "Taxonomy Profiling"
                },
                "id": 0,
                "position": [
                    4.800000000000011,
                    165.01666564941405
                ],
                "size": [
                    663.2,
                    295.6
                ],
                "type": "frame"
            }
        ],
        "creator": [
            {
                "class": "Person",
                "identifier": "0000-0001-9047-4215",
                "name": "Engy Nasr",
                "url": "https://orcid.org/0000-0001-9047-4215"
            },
            {
                "class": "Person",
                "identifier": "0000-0001-9852-1987",
                "name": "B\u00e9r\u00e9nice Batut",
                "url": "https://orcid.org/0000-0001-9852-1987"
            },
            {
                "class": "Person",
                "identifier": "0000-0003-2982-388X",
                "name": "Paul Zierep"
            }
        ],
        "format-version": "0.1",
        "license": "MIT",
        "release": "0.1",
        "name": "Taxonomy Profiling and Visualization with Krona",
        "report": {
            "markdown": "# Taxonomy Profiling and Visualisation with Krona Workflow Report\n\nIn this workflow you can identify your microbial community, but identifying all possible Taxon found in your samples, from the kingdom level down to the species level. In the application of the pathogen detection, this workflow gives an overview of the possible bacterial found in samples and what might be a possible suspect for pathogenicity.\n\nThe workflow uses Kraken2 tool and allow the user to choose any Kraken2 database or other added ones depending on the user application or the input samples. All Kraken2 tool databases are available in Galaxy. More description about these databases can be found [here](https://benlangmead.github.io/aws-indexes/k2). Other databases can be also added to the tool, just contact us anytime for that. We recommend using StandardPF database.\n\nVisualization is done using Krona Pie Chart, and you can replace it with any other tool. e.g. Phinch interactive tool, which is also available in Galaxy\n\n## Workflow Inputs:\n\nThe per-processing workflow main output (Collection of all samples reads after quality retaining and hosts filtering)\n\n## Workflow Outputs are:\n\n### Taxonomy Tabular Report\n\nThe report shows the abundance of every taxon from the kingdom level down to the species level\n\n```galaxy\nhistory_dataset_display(output=\"converted_kraken_report\")\n```\n\n### Taxonomy Profiling Visualization with Krona\nAn interactive Pie chart showing the different identified taxons along with their percentages, which is one of the ways to visualize the previous taxonomy tabular\n\n```galaxy\nhistory_dataset_as_image(output=\"krona_pie_chart\")\n```\n"
        },
        "steps": {
            "0": {
                "annotation": "Output collection from the Nanopore Preprocessing workflow",
                "content_id": null,
                "errors": null,
                "id": 0,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Output collection from the Nanopore Preprocessing workflow",
                        "name": "collection_of_preprocessed_samples"
                    }
                ],
                "label": "collection_of_preprocessed_samples",
                "name": "Input dataset collection",
                "outputs": [],
                "position": {
                    "left": 0,
                    "top": 0
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\"}",
                "tool_version": null,
                "type": "data_collection_input",
                "uuid": "c4a14ff1-1f0c-4cb5-aefe-b56f0a84404e",
                "when": null,
                "workflow_outputs": []
            },
            "1": {
                "annotation": "kraken_database_for_user_to_choose",
                "content_id": null,
                "errors": null,
                "id": 1,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "kraken_database_for_user_to_choose",
                        "name": "kraken_database"
                    }
                ],
                "label": "kraken_database",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 24.79997558593749,
                    "top": 276.7833526611328
                },
                "tool_id": null,
                "tool_state": "{\"restrictOnConnections\": true, \"parameter_type\": \"text\", \"optional\": false}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "cc59191c-1bc9-4007-b88c-8765ff2dfefd",
                "when": null,
                "workflow_outputs": []
            },
            "2": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/kraken2/kraken2/2.1.1+galaxy1",
                "errors": null,
                "id": 2,
                "input_connections": {
                    "kraken2_database": {
                        "id": 1,
                        "output_name": "output"
                    },
                    "single_paired|input_sequences": {
                        "id": 0,
                        "output_name": "output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Kraken2",
                        "name": "single_paired"
                    }
                ],
                "label": null,
                "name": "Kraken2",
                "outputs": [
                    {
                        "name": "report_output",
                        "type": "tabular"
                    },
                    {
                        "name": "output",
                        "type": "tabular"
                    }
                ],
                "position": {
                    "left": 231.99998779296874,
                    "top": 205.00002746582032
                },
                "post_job_actions": {
                    "RenameDatasetActionoutput": {
                        "action_arguments": {
                            "newname": "kraken2_with_pluspf_database_output"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "output"
                    },
                    "RenameDatasetActionreport_output": {
                        "action_arguments": {
                            "newname": "kraken2_with_pluspf_database_output_report"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "report_output"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/kraken2/kraken2/2.1.1+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "20e2f64aa1fe",
                    "name": "kraken2",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"confidence\": \"0.1\", \"kraken2_database\": {\"__class__\": \"ConnectedValue\"}, \"min_base_quality\": \"0\", \"minimum_hit_groups\": \"2\", \"quick\": false, \"report\": {\"create_report\": true, \"use_mpa_style\": false, \"report_zero_counts\": false, \"report_minimizer_data\": false}, \"single_paired\": {\"single_paired_selector\": \"no\", \"__current_case__\": 2, \"input_sequences\": {\"__class__\": \"ConnectedValue\"}}, \"split_reads\": false, \"use_names\": false, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.1.1+galaxy1",
                "type": "tool",
                "uuid": "ddb4e42b-6381-411e-9328-1c7959ecda47",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "kraken2_with_pluspf_database_output",
                        "output_name": "output",
                        "uuid": "26f9041f-d8a4-4f64-8a53-404d5c7e2f61"
                    },
                    {
                        "label": "kraken2_with_pluspf_database_output_report",
                        "output_name": "report_output",
                        "uuid": "f2ddd05b-66a0-4cea-9da6-ed107eecbe1b"
                    }
                ]
            },
            "3": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/krakentools_kreport2krona/krakentools_kreport2krona/1.2+galaxy1",
                "errors": null,
                "id": 3,
                "input_connections": {
                    "report": {
                        "id": 2,
                        "output_name": "report_output"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Krakentools: Convert kraken report file",
                "outputs": [
                    {
                        "name": "output",
                        "type": "tabular"
                    }
                ],
                "position": {
                    "left": 447.9999877929688,
                    "top": 205.31667785644532
                },
                "post_job_actions": {
                    "RenameDatasetActionoutput": {
                        "action_arguments": {
                            "newname": "converted_kraken_report"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "output"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/krakentools_kreport2krona/krakentools_kreport2krona/1.2+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "2deaada69b14",
                    "name": "krakentools_kreport2krona",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"intermediate_ranks\": false, \"report\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.2+galaxy1",
                "type": "tool",
                "uuid": "7464e3a0-2253-4fe5-832f-ea155a660b08",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "converted_kraken_report",
                        "output_name": "output",
                        "uuid": "c490ab8d-1b1d-4914-aa51-a62a967a4018"
                    }
                ]
            },
            "4": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/crs4/taxonomy_krona_chart/taxonomy_krona_chart/2.7.1+galaxy0",
                "errors": null,
                "id": 4,
                "input_connections": {
                    "type_of_data|input": {
                        "id": 3,
                        "output_name": "output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Krona pie chart",
                        "name": "type_of_data"
                    }
                ],
                "label": null,
                "name": "Krona pie chart",
                "outputs": [
                    {
                        "name": "output",
                        "type": "html"
                    }
                ],
                "position": {
                    "left": 701,
                    "top": 212.31666564941406
                },
                "post_job_actions": {
                    "RenameDatasetActionoutput": {
                        "action_arguments": {
                            "newname": "krona_pie_chart"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "output"
                    },
                    "TagDatasetActionoutput": {
                        "action_arguments": {
                            "tags": "taxonomy_profiling_visualisation_krona_pie_chart"
                        },
                        "action_type": "TagDatasetAction",
                        "output_name": "output"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/crs4/taxonomy_krona_chart/taxonomy_krona_chart/2.7.1+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "e9005d1f3cfd",
                    "name": "taxonomy_krona_chart",
                    "owner": "crs4",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"combine_inputs\": false, \"root_name\": \"Root\", \"type_of_data\": {\"type_of_data_selector\": \"text\", \"__current_case__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.7.1+galaxy0",
                "type": "tool",
                "uuid": "8b130a6a-6fb3-4498-ac19-0d2df97c09e1",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "krona_pie_chart",
                        "output_name": "output",
                        "uuid": "dcc857c6-f579-4c74-84ec-bb6ce3794a56"
                    }
                ]
            }
        },
        "tags": [
            "name:Collection",
            "name:microGalaxy",
            "name:PathoGFAIR",
            "name:IWC"
        ],
        "uuid": "a55428c8-9934-4941-93c4-3920b4ba3366",
        "version": 58
    },
    "workflow_job_input": {
        "collection_of_preprocessed_samples": {
            "class": "Collection",
            "collection_type": "list",
            "elements": [
                {
                    "class": "File",
                    "identifier": "todo_element_name",
                    "path": "todo_test_data_path.ext"
                }
            ]
        },
        "kraken_database": "todo_param_value"
    },
    "readme": "# Taxonomy Profiling and Visualisation with Krona\n\nIn this workflow, we identify the different organisms found in our samples by assigning taxonomy levels to the reads starting from the kingdom level down to the species level and visualise the result.\n\nIt\u2019s important to check what might be the species of a possible pathogen to be found, it gets us closer to the investigation as well as discovering possible multiple pathogenetic infections if any existed.\n\nFor taxonomy profiling Kraken2 tool is used along with one of its standard databases available on Galaxy, you can freely choose between Kraken2 different databases based on your input datasets. For visualisation multiple tools can be used, Krona pie chart (as default in this workflow), Phinch interactive tool, Pavian, etc.\n\n## Input Datasets\n- Collection of Pre-Processed Sequenced reads of all samples, ready for further analysis with the other workflows, in a `fastqsanger` or `fastqsanger.gz` format, the output of **Nanopore Preprocessing** workflow.\n\n## Output Datasets\n- Taxonomy profiling Tabular file, visualisation figures and interactive pie charts.\n\nIf you're unsure how to use this workflows, or if you want to see it in action with test datasets, it is included in our detailed training material for foodborne pathogen detection and tracking. You can find step-by-step instructions and practical examples in the following [GTN tutorial](https://training.galaxyproject.org/training-material/topics/microbiome/tutorials/pathogen-detection-from-nanopore-foodborne-data/tutorial.html)\n",
    "changelog": "# Changelog\n\n## [0.1] - 2024-04-25\n\nFirst release.\n",
    "diagrams": "# Workflow diagrams\n\n## Taxonomy Profiling and Visualization with Krona\n\n```mermaid\ngraph LR\n0[\"\u2139\ufe0f collection_of_preprocessed_samples\"]@{ shape: docs }\n1[\"\u2139\ufe0f kraken_database\"]@{ shape: lean-l }\n2[\"Kraken2\"]@{ shape: process }\n1 --> 2\n0 --> 2\n3[\"Krakentools: Convert kraken report file\"]@{ shape: process }\n2 --> 3\n4[\"Krona pie chart\"]@{ shape: process }\n3 --> 4\n```\n",
    "diagram_svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 820 380\" role=\"img\" aria-label=\"Taxonomy Profiling and Visualization with Krona workflow diagram\">\n  <title>Taxonomy Profiling and Visualization with Krona</title>\n  <desc>Microbiome taxonomy profiling using Kraken2 for classification, Krakentools for report conversion, and Krona for interactive pie chart visualization of community composition</desc>\n  <defs>\n    <pattern id=\"grid\" width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\">\n      <path d=\"M 20 0 L 0 0 0 20\" fill=\"none\" stroke=\"#c5d5e4\" stroke-width=\"0.5\"/>\n    </pattern>\n    <pattern id=\"grid-major\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\">\n      <rect width=\"100\" height=\"100\" fill=\"url(#grid)\"/>\n      <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#b0c4d8\" stroke-width=\"1\"/>\n    </pattern>\n    <style>\n      .connection { stroke: #25537b; stroke-width: 4; fill: none; stroke-linecap: round; }\n      .connection-qc { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; stroke-dasharray: 5 3; }\n      .connection-secondary { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; }\n      .node-card { filter: drop-shadow(1px 2px 3px rgba(0,0,0,0.15)); }\n    </style>\n  </defs>\n  <rect width=\"820\" height=\"380\" fill=\"#f8f9fa\"/>\n  <rect width=\"820\" height=\"380\" fill=\"url(#grid-major)\"/>\n  <rect x=\"0\" y=\"0\" width=\"820\" height=\"45\" fill=\"#25537b\"/>\n  <text x=\"20\" y=\"28\" font-family=\"system-ui, sans-serif\" font-size=\"16\" font-weight=\"600\" fill=\"white\">Taxonomy Profiling and Visualization with Krona</text>\n\n  <!-- CONNECTIONS -->\n  <!-- Reads -> Kraken2 -->\n  <path d=\"M 180 115 C 225 115, 235 120, 280 120\" class=\"connection\"/>\n  <!-- Database -> Kraken2 -->\n  <path d=\"M 180 205 C 225 205, 235 140, 280 140\" class=\"connection\"/>\n  <!-- Kraken2 -> Krakentools -->\n  <path d=\"M 480 130 C 530 130, 520 130, 560 130\" class=\"connection\"/>\n  <!-- Kraken2 -> Taxonomy output -->\n  <path d=\"M 480 120 C 510 120, 500 80, 560 80\" class=\"connection\"/>\n  <!-- Krakentools -> Krona -->\n  <path d=\"M 760 130 C 790 130, 560 250, 600 250\" class=\"connection\"/>\n\n  <!-- INPUT NODES -->\n  <g class=\"node-card\" transform=\"translate(0,70)\">\n    <rect x=\"0\" y=\"0\" width=\"180\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect x=\"0\" y=\"0\" width=\"180\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"14\" width=\"180\" height=\"14\" fill=\"#ffd700\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"#2C3143\">Preprocessed Samples</text>\n    <text x=\"10\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Collection of reads after</text>\n    <text x=\"10\" y=\"66\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">QC and host filtering</text>\n    <circle cx=\"180\" cy=\"45\" r=\"6\" fill=\"#ffd700\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <g class=\"node-card\" transform=\"translate(0,160)\">\n    <rect x=\"0\" y=\"0\" width=\"180\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect x=\"0\" y=\"0\" width=\"180\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"14\" width=\"180\" height=\"14\" fill=\"#ffd700\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"#2C3143\">Kraken Database</text>\n    <text x=\"10\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Taxonomy classification</text>\n    <text x=\"10\" y=\"66\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">database (e.g. StandardPF)</text>\n    <circle cx=\"180\" cy=\"45\" r=\"6\" fill=\"#ffd700\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- PROCESSING NODES -->\n  <!-- Kraken2 -->\n  <g class=\"node-card\" transform=\"translate(280,85)\">\n    <rect x=\"0\" y=\"0\" width=\"200\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect x=\"0\" y=\"0\" width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"14\" width=\"200\" height=\"14\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">Kraken2</text>\n    <text x=\"10\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Classify reads by taxonomy</text>\n    <text x=\"10\" y=\"66\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">kingdom to species level</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Krakentools -->\n  <g class=\"node-card\" transform=\"translate(560,85)\">\n    <rect x=\"0\" y=\"0\" width=\"200\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect x=\"0\" y=\"0\" width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"14\" width=\"200\" height=\"14\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">Krakentools Convert</text>\n    <text x=\"10\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Convert Kraken report</text>\n    <text x=\"10\" y=\"66\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">for Krona visualization</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Krona -->\n  <g class=\"node-card\" transform=\"translate(560,210)\">\n    <rect x=\"0\" y=\"0\" width=\"200\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect x=\"0\" y=\"0\" width=\"200\" height=\"28\" rx=\"4\" fill=\"#10b981\"/>\n    <rect x=\"0\" y=\"14\" width=\"200\" height=\"14\" fill=\"#10b981\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">Krona Pie Chart</text>\n    <text x=\"10\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Interactive taxonomy</text>\n    <text x=\"10\" y=\"66\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">visualization HTML</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"#10b981\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- OUTPUT NODES -->\n  <g transform=\"translate(560,60)\">\n    <rect x=\"0\" y=\"0\" width=\"150\" height=\"30\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\" class=\"node-card\"/>\n    <rect x=\"0\" y=\"0\" width=\"150\" height=\"18\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"9\" width=\"150\" height=\"9\" fill=\"#f97316\"/>\n    <text x=\"8\" y=\"13\" font-family=\"system-ui, sans-serif\" font-size=\"9\" font-weight=\"600\" fill=\"white\">Taxonomy Report</text>\n    <circle cx=\"0\" cy=\"15\" r=\"5\" fill=\"#f97316\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <g transform=\"translate(560,310)\">\n    <rect x=\"0\" y=\"0\" width=\"150\" height=\"30\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\" class=\"node-card\"/>\n    <rect x=\"0\" y=\"0\" width=\"150\" height=\"18\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"9\" width=\"150\" height=\"9\" fill=\"#f97316\"/>\n    <text x=\"8\" y=\"13\" font-family=\"system-ui, sans-serif\" font-size=\"9\" font-weight=\"600\" fill=\"white\">Krona Pie Chart (HTML)</text>\n    <circle cx=\"0\" cy=\"15\" r=\"5\" fill=\"#f97316\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Legend -->\n  <g transform=\"translate(20,340)\">\n    <rect x=\"0\" y=\"0\" width=\"780\" height=\"35\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\" opacity=\"0.9\"/>\n    <rect x=\"15\" y=\"10\" width=\"16\" height=\"12\" rx=\"2\" fill=\"#ffd700\"/>\n    <text x=\"37\" y=\"20\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Input</text>\n    <line x1=\"80\" y1=\"16\" x2=\"120\" y2=\"16\" stroke=\"#25537b\" stroke-width=\"3\"/>\n    <text x=\"127\" y=\"20\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Data flow</text>\n    <line x1=\"195\" y1=\"16\" x2=\"235\" y2=\"16\" stroke=\"#25537b\" stroke-width=\"3\" stroke-dasharray=\"5 3\"/>\n    <text x=\"242\" y=\"20\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">QC/secondary</text>\n    <rect x=\"335\" y=\"10\" width=\"16\" height=\"12\" rx=\"2\" fill=\"#f97316\"/>\n    <text x=\"357\" y=\"20\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Output</text>\n    <rect x=\"410\" y=\"10\" width=\"16\" height=\"12\" rx=\"2\" fill=\"#10b981\"/>\n    <text x=\"432\" y=\"20\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Report/Visualization</text>\n  </g>\n</svg>",
    "updated": "2024-04-25T00:00:00",
    "trsID": "#workflow/github.com/iwc-workflows/taxonomy-profiling-and-visualization-with-krona/main",
    "iwcID": "taxonomy-profiling-and-visualization-with-krona-main",
    "dockstore_id": 27333,
    "categories": [],
    "collections": [
        "Microbiome"
    ],
    "doi": "10.5281/zenodo.12744308",
    "tests": [
        {
            "doc": "Test outline for Taxonomy-Profiling-and-Visualization-with-Krona",
            "job": {
                "collection_of_preprocessed_samples": {
                    "class": "Collection",
                    "collection_type": "list",
                    "elements": [
                        {
                            "class": "File",
                            "identifier": "nanopore_preprocessed_collection_of_all_samples_Spike3bBarcode10",
                            "location": "https://zenodo.org/record/12190648/files/nanopore_preprocessed_collection_of_all_samples_Spike3bBarcode10.fastq.gz",
                            "filetype": "fastqsanger.gz",
                            "hashes": [
                                {
                                    "hash_function": "SHA-1",
                                    "hash_value": "bd6e7a3eb3c8e8fbb2e0f0508fab39dd09f289e9"
                                }
                            ]
                        },
                        {
                            "class": "File",
                            "identifier": "nanopore_preprocessed_collection_of_all_samples_Spike3bBarcode12",
                            "location": "https://zenodo.org/record/12190648/files/nanopore_preprocessed_collection_of_all_samples_Spike3bBarcode12.fastq.gz",
                            "filetype": "fastqsanger.gz",
                            "hashes": [
                                {
                                    "hash_function": "SHA-1",
                                    "hash_value": "225b4650e7358c2b76cef6067884742d1bec374e"
                                }
                            ]
                        }
                    ]
                },
                "kraken_database": "k2_minusb_20210517"
            },
            "outputs": {
                "converted_kraken_report": {
                    "attributes": {},
                    "element_tests": {
                        "nanopore_preprocessed_collection_of_all_samples_Spike3bBarcode12": {
                            "path": "test-data/converted_kraken_report_collection_of_all_samples_Spike3bBarcode12.tabular"
                        }
                    }
                }
            }
        }
    ]
}