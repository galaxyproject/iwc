{
    "name": "main",
    "subclass": "Galaxy",
    "publish": true,
    "primaryDescriptorPath": "/Preprocessing-and-Clustering-of-single-cell-RNA-seq-data-with-Scanpy.ga",
    "testParameterFiles": [
        "/Preprocessing-and-Clustering-of-single-cell-RNA-seq-data-with-Scanpy-tests.yml"
    ],
    "authors": [
        {
            "name": "Pavankumar Videm",
            "orcid": "0000-0002-5192-126X"
        },
        {
            "name": "Hans-Rudolf Hotz",
            "orcid": "0000-0002-2799-424X"
        },
        {
            "name": "Mehmet Tekman",
            "orcid": "0000-0002-4181-2676"
        },
        {
            "name": "B\u00e9r\u00e9nice Batut",
            "orcid": "0000-0001-9852-1987"
        }
    ],
    "definition": {
        "a_galaxy_workflow": "true",
        "annotation": "End-to-end analysis of single-cell RNA-seq data using the Scanpy/AnnData ecosystem. Imports count matrices, applies quality control filtering of low-quality cells and genes, normalizes and scales data, performs dimension reduction (PCA), and identifies cell clusters using the Louvain algorithm. Generates publication-ready visualizations including UMAP plots colored by clusters and marker genes.",
        "comments": [],
        "creator": [
            {
                "class": "Person",
                "identifier": "0000-0002-5192-126X",
                "name": "Pavankumar Videm"
            },
            {
                "class": "Person",
                "identifier": "0000-0002-2799-424X",
                "name": "Hans-Rudolf Hotz"
            },
            {
                "class": "Person",
                "identifier": "0000-0002-4181-2676",
                "name": "Mehmet Tekman"
            },
            {
                "class": "Person",
                "identifier": "0000-0001-9852-1987",
                "name": "B\u00e9r\u00e9nice Batut"
            }
        ],
        "format-version": "0.1",
        "license": "CC-BY-4.0",
        "release": "0.1",
        "name": "Single-Cell RNA-seq Analysis: Scanpy Preprocessing and Clustering",
        "report": {
            "markdown": "\n# Workflow Execution Report\n\n## Workflow Inputs\n```galaxy\ninvocation_inputs()\n```\n\n## Workflow Outputs\n```galaxy\ninvocation_outputs()\n```\n\n## Workflow\n```galaxy\nworkflow_display()\n```\n"
        },
        "steps": {
            "0": {
                "annotation": "use a small number. Generally 3-5. If not set, a default of 3 is used.",
                "content_id": null,
                "errors": null,
                "id": 0,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "use a small number. Generally 3-5. If not set, a default of 3 is used.",
                        "name": "Minimum number of cells expressed"
                    }
                ],
                "label": "Minimum number of cells expressed",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 665.7492402230988,
                    "top": 1083.0068800199208
                },
                "tool_id": null,
                "tool_state": "{\"parameter_type\": \"integer\", \"optional\": true}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "03449fcf-0a59-49a3-bf5f-530006292f70",
                "when": null,
                "workflow_outputs": []
            },
            "1": {
                "annotation": "A cell barcodes file with a single barcode in each line. The barcodes should correspond to the cells in the matrix file",
                "content_id": null,
                "errors": null,
                "id": 1,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "A cell barcodes file with a single barcode in each line. The barcodes should correspond to the cells in the matrix file",
                        "name": "Barcodes"
                    }
                ],
                "label": "Barcodes",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 300,
                    "top": 1410.8299913463652
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"tag\": null}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "51e797e4-a9e9-496a-92c0-e45f4c9ebd5d",
                "when": null,
                "workflow_outputs": []
            },
            "2": {
                "annotation": "A genes/features tabular file with gene ids and gene symbols",
                "content_id": null,
                "errors": null,
                "id": 2,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "A genes/features tabular file with gene ids and gene symbols",
                        "name": "Genes"
                    }
                ],
                "label": "Genes",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 300,
                    "top": 1510.8299913463652
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"format\": [\"tabular\"], \"tag\": null}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "614e3951-97a8-4b9a-8052-5e900febcc9f",
                "when": null,
                "workflow_outputs": []
            },
            "3": {
                "annotation": "A single-cell count matrix file in Matrix Market Exchange format",
                "content_id": null,
                "errors": null,
                "id": 3,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "A single-cell count matrix file in Matrix Market Exchange format",
                        "name": "Matrix"
                    }
                ],
                "label": "Matrix",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 300.99998815229196,
                    "top": 1611.8299931134695
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"format\": [\"mtx\"], \"tag\": null}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "e08d9bbd-0761-47dd-b87a-9a0aff2b963b",
                "when": null,
                "workflow_outputs": []
            },
            "4": {
                "annotation": "v2 genes.tsv file contains two columns with Gene ID and Gene Name.\nv3 features.tsv file contains three columns Feature ID, Feature Name,\nFeature Type",
                "content_id": null,
                "errors": null,
                "id": 4,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "v2 genes.tsv file contains two columns with Gene ID and Gene Name.\nv3 features.tsv file contains three columns Feature ID, Feature Name,\nFeature Type",
                        "name": "Input is from Cell Ranger v2 or earlier versions"
                    }
                ],
                "label": "Input is from Cell Ranger v2 or earlier versions",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 0,
                    "top": 1702.8299913463652
                },
                "tool_id": null,
                "tool_state": "{\"parameter_type\": \"boolean\", \"optional\": false}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "f9e8fb8a-1886-4934-8213-d41b2e5250ce",
                "when": null,
                "workflow_outputs": []
            },
            "5": {
                "annotation": "For eg MT- or M-",
                "content_id": null,
                "errors": null,
                "id": 5,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "For eg MT- or M-",
                        "name": "Mitochondrial genes start with pattern"
                    }
                ],
                "label": "Mitochondrial genes start with pattern",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 1185.4053609341802,
                    "top": 1477.0762060510267
                },
                "tool_id": null,
                "tool_state": "{\"default\": \"MT-\", \"parameter_type\": \"text\", \"optional\": true}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "101b9500-34a5-44f6-b8e5-9760c907833a",
                "when": null,
                "workflow_outputs": []
            },
            "6": {
                "annotation": "Minimum number of genes expressed per cell. If not set, a default of 200 is used.",
                "content_id": null,
                "errors": null,
                "id": 6,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Minimum number of genes expressed per cell. If not set, a default of 200 is used.",
                        "name": "Minimum number of genes expressed"
                    }
                ],
                "label": "Minimum number of genes expressed",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 1519.8162409468177,
                    "top": 1625.5901525196762
                },
                "tool_id": null,
                "tool_state": "{\"parameter_type\": \"integer\", \"optional\": true}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "b3038a05-80e7-4211-9818-2f1a33bd7844",
                "when": null,
                "workflow_outputs": []
            },
            "7": {
                "annotation": "Maximum number of genes expressed per cell. If not set, a default of 2500 is used.",
                "content_id": null,
                "errors": null,
                "id": 7,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Maximum number of genes expressed per cell. If not set, a default of 2500 is used.",
                        "name": "Maximum number of genes expressed"
                    }
                ],
                "label": "Maximum number of genes expressed",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 1683.345743008954,
                    "top": 2017.656345078871
                },
                "tool_id": null,
                "tool_state": "{\"parameter_type\": \"integer\", \"optional\": true}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "2ba40bf4-c7a6-41a6-b877-3145e8f050de",
                "when": null,
                "workflow_outputs": []
            },
            "8": {
                "annotation": "Size of the local neighborhood. If not set a default of 15 is used.",
                "content_id": null,
                "errors": null,
                "id": 8,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Size of the local neighborhood. If not set a default of 15 is used.",
                        "name": "Number of neighbours for computing neighborhood graph"
                    }
                ],
                "label": "Number of neighbours for computing neighborhood graph",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 4510.956333770236,
                    "top": 805.636987791653
                },
                "tool_id": null,
                "tool_state": "{\"parameter_type\": \"integer\", \"optional\": true}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "0a1a9943-7f98-465a-a7e2-fc8925e474de",
                "when": null,
                "workflow_outputs": []
            },
            "9": {
                "annotation": "This parameter can be estimated from an Elbow plot of PC loadings.",
                "content_id": null,
                "errors": null,
                "id": 9,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "This parameter can be estimated from an Elbow plot of PC loadings.",
                        "name": "Number of PCs to use for computing neighborhood graph"
                    }
                ],
                "label": "Number of PCs to use for computing neighborhood graph",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 4502.422260098537,
                    "top": 1010.9182333917911
                },
                "tool_id": null,
                "tool_state": "{\"default\": 10, \"parameter_type\": \"integer\", \"optional\": true}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "2ed9ac9a-b45e-403b-9b6b-ecdbdaf419c1",
                "when": null,
                "workflow_outputs": []
            },
            "10": {
                "annotation": "Louvain clustering resolution. Higher resolution means finding more and smaller clusters. If not set, a default value of 1.0 is used.",
                "content_id": null,
                "errors": null,
                "id": 10,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Louvain clustering resolution. Higher resolution means finding more and smaller clusters. If not set, a default value of 1.0 is used.",
                        "name": "Louvain resolution"
                    }
                ],
                "label": "Louvain resolution",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 5100.6155568749255,
                    "top": 451.4393039466668
                },
                "tool_id": null,
                "tool_state": "{\"parameter_type\": \"float\", \"optional\": true}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "bdea5eae-6fd8-4a83-b2c1-b407f35fec3a",
                "when": null,
                "workflow_outputs": []
            },
            "11": {
                "annotation": "You must have run the workflow at least once, to know the number of clusters and the cell types inferred.",
                "content_id": null,
                "errors": null,
                "id": 11,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "You must have run the workflow at least once, to know the number of clusters and the cell types inferred.",
                        "name": "Manually annotate celltypes?"
                    }
                ],
                "label": "Manually annotate celltypes?",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 5884.356987738044,
                    "top": 1484.705188730196
                },
                "tool_id": null,
                "tool_state": "{\"parameter_type\": \"boolean\", \"optional\": false}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "d63b7d2c-f23b-4c55-86c6-4d7ef72fae37",
                "when": null,
                "workflow_outputs": []
            },
            "12": {
                "annotation": "Provide a comma-separated list of cell types to annotate the louvain clusters.",
                "content_id": null,
                "errors": null,
                "id": 12,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Provide a comma-separated list of cell types to annotate the louvain clusters.",
                        "name": "Annotate louvain clusters with these cell types"
                    }
                ],
                "label": "Annotate louvain clusters with these cell types",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 5890.2226608717665,
                    "top": 1622.225384627387
                },
                "tool_id": null,
                "tool_state": "{\"parameter_type\": \"text\", \"optional\": true}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "dc4bbd2f-7594-41c6-bba2-b06e7c8ffaec",
                "when": null,
                "workflow_outputs": []
            },
            "13": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "errors": null,
                "id": 13,
                "input_connections": {
                    "style_cond|type_cond|pick_from_0|value": {
                        "id": 0,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Pick parameter value",
                "outputs": [
                    {
                        "name": "integer_param",
                        "type": "expression.json"
                    }
                ],
                "position": {
                    "left": 931.8168037645809,
                    "top": 980.8745203767638
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "tool_shed_repository": {
                    "changeset_revision": "b19e21af9c52",
                    "name": "pick_value",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"integer\", \"__current_case__\": 1, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"value\": \"3\"}]}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.2.0",
                "type": "tool",
                "uuid": "55976e73-1347-4480-871b-867f72b1c34a",
                "when": null,
                "workflow_outputs": []
            },
            "14": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_import/anndata_import/0.10.9+galaxy0",
                "errors": null,
                "id": 14,
                "input_connections": {
                    "in|matrix": {
                        "id": 3,
                        "output_name": "output"
                    },
                    "in|tenx|barcodes": {
                        "id": 1,
                        "output_name": "output"
                    },
                    "in|tenx|genes": {
                        "id": 2,
                        "output_name": "output"
                    },
                    "when": {
                        "id": 4,
                        "output_name": "output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Import Anndata",
                        "name": "in"
                    }
                ],
                "label": "Anndata from 10x v2 or earlier",
                "name": "Import Anndata",
                "outputs": [
                    {
                        "name": "anndata",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 630,
                    "top": 1672.8299913463652
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata": {
                        "action_arguments": {
                            "newname": "Input 3k PBMC"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_import/anndata_import/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "d330b3082107",
                    "name": "anndata_import",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"in\": {\"adata_format\": \"mtx\", \"__current_case__\": 3, \"matrix\": {\"__class__\": \"ConnectedValue\"}, \"tenx\": {\"use\": \"legacy_10x\", \"__current_case__\": 1, \"genes\": {\"__class__\": \"ConnectedValue\"}, \"barcodes\": {\"__class__\": \"ConnectedValue\"}, \"var_names\": \"gene_symbols\", \"make_unique\": true, \"gex_only\": true}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "2623e77b-49bc-4571-b5b5-46680544ab25",
                "when": "$(inputs.when)",
                "workflow_outputs": []
            },
            "15": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/map_param_value/map_param_value/0.2.0",
                "errors": null,
                "id": 15,
                "input_connections": {
                    "input_param_type|input_param": {
                        "id": 4,
                        "output_name": "output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Map parameter value",
                        "name": "input_param_type"
                    }
                ],
                "label": "Map and switch the input CellRager version",
                "name": "Map parameter value",
                "outputs": [
                    {
                        "name": "output_param_boolean",
                        "type": "expression.json"
                    }
                ],
                "position": {
                    "left": 310,
                    "top": 1852.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/map_param_value/map_param_value/0.2.0",
                "tool_shed_repository": {
                    "changeset_revision": "5ac8a4bf7a8d",
                    "name": "map_param_value",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"input_param_type\": {\"type\": \"boolean\", \"__current_case__\": 3, \"input_param\": {\"__class__\": \"ConnectedValue\"}, \"mappings\": [{\"__index__\": 0, \"from\": true, \"to\": \"False\"}, {\"__index__\": 1, \"from\": false, \"to\": \"True\"}]}, \"output_param_type\": \"boolean\", \"unmapped\": {\"on_unmapped\": \"input\", \"__current_case__\": 0}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.2.0",
                "type": "tool",
                "uuid": "8513eb66-b971-41ab-8aa4-03d0d15895ec",
                "when": null,
                "workflow_outputs": []
            },
            "16": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "errors": null,
                "id": 16,
                "input_connections": {
                    "style_cond|type_cond|pick_from_0|value": {
                        "id": 6,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Pick parameter value",
                "outputs": [
                    {
                        "name": "integer_param",
                        "type": "expression.json"
                    }
                ],
                "position": {
                    "left": 1774.49879800967,
                    "top": 1737.570900245479
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "tool_shed_repository": {
                    "changeset_revision": "b19e21af9c52",
                    "name": "pick_value",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"integer\", \"__current_case__\": 1, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"value\": \"200\"}]}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.2.0",
                "type": "tool",
                "uuid": "86f34174-c9b5-4d0b-a77a-134b269349b0",
                "when": null,
                "workflow_outputs": []
            },
            "17": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "errors": null,
                "id": 17,
                "input_connections": {
                    "style_cond|type_cond|pick_from_0|value": {
                        "id": 7,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Pick parameter value",
                "outputs": [
                    {
                        "name": "integer_param",
                        "type": "expression.json"
                    }
                ],
                "position": {
                    "left": 2002.5144505736228,
                    "top": 1996.1826325715392
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "tool_shed_repository": {
                    "changeset_revision": "b19e21af9c52",
                    "name": "pick_value",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"integer\", \"__current_case__\": 1, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"value\": \"2500\"}]}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.2.0",
                "type": "tool",
                "uuid": "1312edfc-99ce-4d09-9bc8-8da090a5d391",
                "when": null,
                "workflow_outputs": []
            },
            "18": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "errors": null,
                "id": 18,
                "input_connections": {
                    "style_cond|type_cond|pick_from_0|value": {
                        "id": 8,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Pick parameter value",
                "outputs": [
                    {
                        "name": "integer_param",
                        "type": "expression.json"
                    }
                ],
                "position": {
                    "left": 4812.018833670425,
                    "top": 679.5206660447487
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "tool_shed_repository": {
                    "changeset_revision": "b19e21af9c52",
                    "name": "pick_value",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"integer\", \"__current_case__\": 1, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"value\": null}]}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.2.0",
                "type": "tool",
                "uuid": "4834bd08-b69c-4388-8774-f5335c748a79",
                "when": null,
                "workflow_outputs": []
            },
            "19": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "errors": null,
                "id": 19,
                "input_connections": {
                    "style_cond|type_cond|pick_from_0|value": {
                        "id": 10,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Pick parameter value",
                "outputs": [
                    {
                        "name": "float_param",
                        "type": "expression.json"
                    }
                ],
                "position": {
                    "left": 5411.291777668312,
                    "top": 416.9706212794444
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "tool_shed_repository": {
                    "changeset_revision": "b19e21af9c52",
                    "name": "pick_value",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"float\", \"__current_case__\": 2, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"value\": \"1.0\"}]}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.2.0",
                "type": "tool",
                "uuid": "c8b040bb-a2e1-4e3b-8240-2bd7abf581e6",
                "when": null,
                "workflow_outputs": []
            },
            "20": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_import/anndata_import/0.10.9+galaxy0",
                "errors": null,
                "id": 20,
                "input_connections": {
                    "in|matrix": {
                        "id": 3,
                        "output_name": "output"
                    },
                    "in|tenx|barcodes": {
                        "id": 1,
                        "output_name": "output"
                    },
                    "in|tenx|features": {
                        "id": 2,
                        "output_name": "output"
                    },
                    "when": {
                        "id": 15,
                        "output_name": "output_param_boolean"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Import Anndata",
                        "name": "in"
                    }
                ],
                "label": "Anndata from 10x V3 or later",
                "name": "Import Anndata",
                "outputs": [
                    {
                        "name": "anndata",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 630,
                    "top": 1350.8299913463652
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata": {
                        "action_arguments": {
                            "newname": "Input 3k PBMC"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_import/anndata_import/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "d330b3082107",
                    "name": "anndata_import",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"in\": {\"adata_format\": \"mtx\", \"__current_case__\": 3, \"matrix\": {\"__class__\": \"ConnectedValue\"}, \"tenx\": {\"use\": \"v3_10x\", \"__current_case__\": 2, \"features\": {\"__class__\": \"ConnectedValue\"}, \"barcodes\": {\"__class__\": \"ConnectedValue\"}, \"var_names\": \"gene_symbols\", \"make_unique\": true, \"gex_only\": true}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "7ef2904a-415f-45f6-98cd-a15af9fdb880",
                "when": "$(inputs.when)",
                "workflow_outputs": []
            },
            "21": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "errors": null,
                "id": 21,
                "input_connections": {
                    "style_cond|type_cond|pick_from_0|value": {
                        "id": 20,
                        "output_name": "anndata"
                    },
                    "style_cond|type_cond|pick_from_1|value": {
                        "id": 14,
                        "output_name": "anndata"
                    }
                },
                "inputs": [],
                "label": "Choose the Anndata",
                "name": "Pick parameter value",
                "outputs": [
                    {
                        "name": "data_param",
                        "type": "input"
                    }
                ],
                "position": {
                    "left": 910,
                    "top": 1780.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "tool_shed_repository": {
                    "changeset_revision": "b19e21af9c52",
                    "name": "pick_value",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"data\", \"__current_case__\": 4, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"value\": {\"__class__\": \"ConnectedValue\"}}]}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.2.0",
                "type": "tool",
                "uuid": "03d6b72c-5f66-48c9-965d-f9422c5c7291",
                "when": null,
                "workflow_outputs": []
            },
            "22": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_filter/scanpy_filter/1.10.2+galaxy0",
                "errors": null,
                "id": 22,
                "input_connections": {
                    "adata": {
                        "id": 21,
                        "output_name": "data_param"
                    },
                    "method|filter|min_cells": {
                        "id": 13,
                        "output_name": "integer_param"
                    }
                },
                "inputs": [],
                "label": "Filter genes by cells expressed",
                "name": "Scanpy filter",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 1202.0003527723472,
                    "top": 1161.8299913463652
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata_out": {
                        "action_arguments": {
                            "newname": "3k PBMC"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata_out"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_filter/scanpy_filter/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "8cb783c81905",
                    "name": "scanpy_filter",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.filter_genes\", \"__current_case__\": 1, \"filter\": {\"filter\": \"min_cells\", \"__current_case__\": 2, \"min_cells\": {\"__class__\": \"ConnectedValue\"}}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "e46b9c19-fe18-4b68-9cac-ec31027f548a",
                "when": null,
                "workflow_outputs": []
            },
            "23": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_inspect/anndata_inspect/0.10.9+galaxy0",
                "errors": null,
                "id": 23,
                "input_connections": {
                    "input": {
                        "id": 21,
                        "output_name": "data_param"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Inspect AnnData",
                "outputs": [
                    {
                        "name": "general",
                        "type": "txt"
                    }
                ],
                "position": {
                    "left": 1210,
                    "top": 1852.8299913463652
                },
                "post_job_actions": {
                    "RenameDatasetActiongeneral": {
                        "action_arguments": {
                            "newname": "Initial Anndata General Info"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "general"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_inspect/anndata_inspect/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0bf7fddf90c7",
                    "name": "anndata_inspect",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"h5ad\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"inspect\": {\"info\": \"general\", \"__current_case__\": 0}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "0433e8be-743b-4186-9ab0-37c3bf238c3f",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Initial Anndata General Info",
                        "output_name": "general",
                        "uuid": "d0ecbc55-7639-4470-8854-d1a7d24715f2"
                    }
                ]
            },
            "24": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_manipulate/anndata_manipulate/0.10.9+galaxy0",
                "errors": null,
                "id": 24,
                "input_connections": {
                    "input": {
                        "id": 22,
                        "output_name": "anndata_out"
                    },
                    "manipulate|gene_flags_0|startswith": {
                        "id": 5,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": "Flag Mitochondrial genes",
                "name": "Manipulate AnnData",
                "outputs": [
                    {
                        "name": "anndata",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 1482.000448709542,
                    "top": 1089.8299913463652
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata": {
                        "action_arguments": {
                            "newname": "3k PBMC with mito annotation"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_manipulate/anndata_manipulate/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "7e8c677a7b71",
                    "name": "anndata_manipulate",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"manipulate\": {\"function\": \"flag_genes\", \"__current_case__\": 5, \"gene_flags\": [{\"__index__\": 0, \"startswith\": {\"__class__\": \"ConnectedValue\"}, \"col_name\": \"mito\"}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "d802d24a-1cc5-4e95-82f2-8d84fc2c49e1",
                "when": null,
                "workflow_outputs": []
            },
            "25": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.10.2+galaxy1",
                "errors": null,
                "id": 25,
                "input_connections": {
                    "adata": {
                        "id": 24,
                        "output_name": "anndata"
                    }
                },
                "inputs": [],
                "label": "Calculate quality metrics",
                "name": "Scanpy Inspect and manipulate",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 1762.0004970088444,
                    "top": 1160.8299913463652
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata_out": {
                        "action_arguments": {
                            "newname": "3k PBMC with mito annotation and qc metrics"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata_out"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.10.2+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "d86cb2ce311b",
                    "name": "scanpy_inspect",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"method\": {\"method\": \"pp.calculate_qc_metrics\", \"__current_case__\": 0, \"expr_type\": \"counts\", \"var_type\": \"genes\", \"qc_vars\": \"mito\", \"percent_top\": \"\", \"layer\": \"\", \"use_raw\": false, \"log1p\": true}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy1",
                "type": "tool",
                "uuid": "6a1b0ee7-070c-4464-b8e0-68f14da607b2",
                "when": null,
                "workflow_outputs": []
            },
            "26": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 26,
                "input_connections": {
                    "adata": {
                        "id": 25,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Scatter plot n_genes vs pct_mito",
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 2051.9999683720544,
                    "top": 900.8299737231888
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.scatter\", \"__current_case__\": 0, \"type\": {\"type\": \"xy\", \"__current_case__\": 0, \"x\": \"n_genes_by_counts\", \"y\": \"pct_counts_mito\", \"log\": false, \"color\": \"\", \"layers\": {\"use_layers\": \"false\", \"__current_case__\": 1}}, \"use_raw\": false, \"sort_order\": true, \"groups\": \"\", \"plot\": {\"components\": [], \"projection\": \"2d\", \"legend_loc\": \"none\", \"legend_fontsize\": null, \"legend_fontweight\": \"normal\", \"color_map\": null, \"palette\": null, \"frameon\": true, \"size\": null, \"title\": \"\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "8cd94050-8147-45a7-8c16-274bdc987a35",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Scatter plot of n_genes vs pct_mito",
                        "output_name": "out_png",
                        "uuid": "b4a00acb-37ed-4e8d-b2fa-aecf3eb0688b"
                    }
                ]
            },
            "27": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 27,
                "input_connections": {
                    "adata": {
                        "id": 25,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Scatter plot n_counts vs n_genes",
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 2049.9999683720544,
                    "top": 1089.8299737231887
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.scatter\", \"__current_case__\": 0, \"type\": {\"type\": \"xy\", \"__current_case__\": 0, \"x\": \"total_counts\", \"y\": \"n_genes_by_counts\", \"log\": false, \"color\": \"\", \"layers\": {\"use_layers\": \"false\", \"__current_case__\": 1}}, \"use_raw\": false, \"sort_order\": true, \"groups\": \"\", \"plot\": {\"components\": [], \"projection\": \"2d\", \"legend_loc\": \"none\", \"legend_fontsize\": null, \"legend_fontweight\": \"normal\", \"color_map\": null, \"palette\": null, \"frameon\": true, \"size\": null, \"title\": \"\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "748883c6-9abf-464b-8dad-746f9d7ae9af",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Scatter plot of plot n_counts vs n_genes",
                        "output_name": "out_png",
                        "uuid": "03555fcf-9885-41b4-bba5-c6daa06b7913"
                    }
                ]
            },
            "28": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 28,
                "input_connections": {
                    "adata": {
                        "id": 25,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Violin plot n_genes, n_counts, pct_mito",
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 2055.9999683720544,
                    "top": 1283.8299737231887
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.violin\", \"__current_case__\": 4, \"key_variables\": {\"type\": \"custom\", \"__current_case__\": 2, \"keys\": \"n_genes_by_counts, total_counts, pct_counts_mito\"}, \"groupby\": \"\", \"log\": false, \"use_raw\": false, \"violin_plot\": {\"stripplot\": {\"stripplot\": \"True\", \"__current_case__\": 0, \"jitter\": {\"jitter\": \"True\", \"__current_case__\": 0, \"size\": \"1.0\"}}, \"multi_panel\": {\"multi_panel\": \"True\", \"__current_case__\": 1}}, \"xlabel\": \"\", \"rotation\": null, \"seaborn_violinplot\": {\"bw_method\": \"scott\", \"bw_adjust\": \"1.0\", \"orient\": null, \"linewidth\": \"0.0\", \"color\": null, \"saturation\": \"0.75\"}, \"layer\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "dbea9c99-c513-45bb-be11-f1e995ea29cc",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Violin plot n_genes, n_counts, pct_mito",
                        "output_name": "out_png",
                        "uuid": "d0e14eb2-ab45-4f1c-bf1a-4a70349036cc"
                    }
                ]
            },
            "29": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_filter/scanpy_filter/1.10.2+galaxy0",
                "errors": null,
                "id": 29,
                "input_connections": {
                    "adata": {
                        "id": 25,
                        "output_name": "anndata_out"
                    },
                    "method|filter|min_genes": {
                        "id": 16,
                        "output_name": "integer_param"
                    }
                },
                "inputs": [],
                "label": "Filter cells by min genes expressed",
                "name": "Scanpy filter",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 2053.6916490875606,
                    "top": 1538.8173034887368
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_filter/scanpy_filter/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "8cb783c81905",
                    "name": "scanpy_filter",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.filter_cells\", \"__current_case__\": 0, \"filter\": {\"filter\": \"min_genes\", \"__current_case__\": 2, \"min_genes\": {\"__class__\": \"ConnectedValue\"}}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "d7762c6b-85db-478f-b6b5-bf582802f06e",
                "when": null,
                "workflow_outputs": []
            },
            "30": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_filter/scanpy_filter/1.10.2+galaxy0",
                "errors": null,
                "id": 30,
                "input_connections": {
                    "adata": {
                        "id": 29,
                        "output_name": "anndata_out"
                    },
                    "method|filter|max_genes": {
                        "id": 17,
                        "output_name": "integer_param"
                    }
                },
                "inputs": [],
                "label": "Filter cells by max genes expressed",
                "name": "Scanpy filter",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 2332.000472347359,
                    "top": 1583.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_filter/scanpy_filter/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "8cb783c81905",
                    "name": "scanpy_filter",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.filter_cells\", \"__current_case__\": 0, \"filter\": {\"filter\": \"max_genes\", \"__current_case__\": 3, \"max_genes\": {\"__class__\": \"ConnectedValue\"}}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "a3195b4d-445b-497f-88c8-96bf1edf3a48",
                "when": null,
                "workflow_outputs": []
            },
            "31": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_manipulate/anndata_manipulate/0.10.9+galaxy0",
                "errors": null,
                "id": 31,
                "input_connections": {
                    "input": {
                        "id": 30,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Filter cells by percentage of mito genes",
                "name": "Manipulate AnnData",
                "outputs": [
                    {
                        "name": "anndata",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 2612.0003041107857,
                    "top": 1608.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_manipulate/anndata_manipulate/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "7e8c677a7b71",
                    "name": "anndata_manipulate",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"h5ad\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"manipulate\": {\"function\": \"filter\", \"__current_case__\": 10, \"var_obs\": \"obs\", \"filter\": {\"filter\": \"key\", \"__current_case__\": 0, \"key\": \"pct_counts_mito\", \"filter_key\": {\"type\": \"number\", \"__current_case__\": 0, \"filter\": \"less\", \"value\": \"5.0\"}}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "212223c0-de42-4572-8259-f313a131582f",
                "when": null,
                "workflow_outputs": []
            },
            "32": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_normalize/scanpy_normalize/1.10.2+galaxy0",
                "errors": null,
                "id": 32,
                "input_connections": {
                    "adata": {
                        "id": 31,
                        "output_name": "anndata"
                    }
                },
                "inputs": [],
                "label": "Normalize by target sum",
                "name": "Scanpy normalize",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 2892.0001358742124,
                    "top": 1619.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_normalize/scanpy_normalize/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "56c0d4acef02",
                    "name": "scanpy_normalize",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"method\": {\"method\": \"pp.normalize_total\", \"__current_case__\": 0, \"target_sum\": \"10000.0\", \"exclude_highly_expressed\": {\"exclude_highly_expressed\": \"False\", \"__current_case__\": 1}, \"key_added\": \"norm\", \"layer\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "aa33e80c-8534-48db-9ef7-486e2eab7bdf",
                "when": null,
                "workflow_outputs": []
            },
            "33": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.10.2+galaxy1",
                "errors": null,
                "id": 33,
                "input_connections": {
                    "adata": {
                        "id": 32,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Logarithmize",
                "name": "Scanpy Inspect and manipulate",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 3172.0002924414525,
                    "top": 1619.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.10.2+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "d86cb2ce311b",
                    "name": "scanpy_inspect",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"method\": {\"method\": \"pp.log1p\", \"__current_case__\": 6, \"base\": null, \"layer\": \"\", \"obsm\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy1",
                "type": "tool",
                "uuid": "78f29e9d-025c-430c-9945-f5d0e9ee18a5",
                "when": null,
                "workflow_outputs": []
            },
            "34": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_manipulate/anndata_manipulate/0.10.9+galaxy0",
                "errors": null,
                "id": 34,
                "input_connections": {
                    "input": {
                        "id": 33,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Freeze raw attribute",
                "name": "Manipulate AnnData",
                "outputs": [
                    {
                        "name": "anndata",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 3452.0004490086926,
                    "top": 1608.8299913463652
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata": {
                        "action_arguments": {
                            "newname": "3k PBMC after QC filtering and normalization"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_manipulate/anndata_manipulate/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "7e8c677a7b71",
                    "name": "anndata_manipulate",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"h5ad\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"manipulate\": {\"function\": \"save_raw\", \"__current_case__\": 11}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "904d4bae-945b-43eb-8151-18b9132f722f",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Anndata with raw attribute",
                        "output_name": "anndata",
                        "uuid": "bdc0eabb-af2f-4ae5-a72b-97041681db60"
                    }
                ]
            },
            "35": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_filter/scanpy_filter/1.10.2+galaxy0",
                "errors": null,
                "id": 35,
                "input_connections": {
                    "adata": {
                        "id": 34,
                        "output_name": "anndata"
                    }
                },
                "inputs": [],
                "label": "Annotate highly variable genes",
                "name": "Scanpy filter",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 3732.0002807721194,
                    "top": 1619.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_filter/scanpy_filter/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "8cb783c81905",
                    "name": "scanpy_filter",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"method\": {\"method\": \"pp.highly_variable_genes\", \"__current_case__\": 3, \"flavor\": {\"flavor\": \"seurat\", \"__current_case__\": 0, \"min_mean\": \"0.0125\", \"max_mean\": \"3.0\", \"min_disp\": \"0.5\", \"max_disp\": null}, \"n_bins\": \"20\", \"subset\": false, \"layer\": \"\", \"batch_key\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "f618a000-196f-473c-b8ca-dd8620e1f347",
                "when": null,
                "workflow_outputs": []
            },
            "36": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_manipulate/anndata_manipulate/0.10.9+galaxy0",
                "errors": null,
                "id": 36,
                "input_connections": {
                    "input": {
                        "id": 35,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Manipulate AnnData",
                "outputs": [
                    {
                        "name": "anndata",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 4012.0004373393595,
                    "top": 1619.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_manipulate/anndata_manipulate/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "7e8c677a7b71",
                    "name": "anndata_manipulate",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"h5ad\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"manipulate\": {\"function\": \"filter\", \"__current_case__\": 10, \"var_obs\": \"var\", \"filter\": {\"filter\": \"key\", \"__current_case__\": 0, \"key\": \"highly_variable\", \"filter_key\": {\"type\": \"boolean\", \"__current_case__\": 2, \"value\": true}}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "4cce267f-b856-4350-aa6f-227830b3746a",
                "when": null,
                "workflow_outputs": []
            },
            "37": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 37,
                "input_connections": {
                    "adata": {
                        "id": 35,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Plot highly variable",
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 4012.0004373393595,
                    "top": 1772.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"format\": \"png\", \"method\": {\"method\": \"pl.highly_variable_genes\", \"__current_case__\": 9, \"log\": false, \"highly_variable_genes\": true}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "b74ac6fe-664f-4751-aa40-e584c4846be3",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Plot highly variable",
                        "output_name": "out_png",
                        "uuid": "62b14303-41ac-46b2-a6f4-70bf14e19d68"
                    }
                ]
            },
            "38": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_remove_confounders/scanpy_remove_confounders/1.10.2+galaxy0",
                "errors": null,
                "id": 38,
                "input_connections": {
                    "adata": {
                        "id": 36,
                        "output_name": "anndata"
                    }
                },
                "inputs": [],
                "label": "Regress out",
                "name": "Scanpy remove confounders",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 4292.0005939065995,
                    "top": 1619.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_remove_confounders/scanpy_remove_confounders/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "9fb627495ec2",
                    "name": "scanpy_remove_confounders",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"method\": {\"method\": \"pp.regress_out\", \"__current_case__\": 0, \"layer\": \"\", \"keys\": \"total_counts, pct_counts_mito\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "4440363b-aea1-4eed-9f33-8b2a0f354903",
                "when": null,
                "workflow_outputs": []
            },
            "39": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.10.2+galaxy1",
                "errors": null,
                "id": 39,
                "input_connections": {
                    "adata": {
                        "id": 38,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Scale data",
                "name": "Scanpy Inspect and manipulate",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 4572.000425670027,
                    "top": 1619.8299913463652
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata_out": {
                        "action_arguments": {
                            "newname": "3k PBMC with only HVG, after scaling"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata_out"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.10.2+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "d86cb2ce311b",
                    "name": "scanpy_inspect",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"method\": {\"method\": \"pp.scale\", \"__current_case__\": 7, \"zero_center\": true, \"max_value\": \"10.0\", \"layer\": \"\", \"obsm\": \"\", \"mask_obs\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy1",
                "type": "tool",
                "uuid": "e4e1ea88-eb3a-47b3-bd3d-797e7a99f956",
                "when": null,
                "workflow_outputs": []
            },
            "40": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_cluster_reduce_dimension/scanpy_cluster_reduce_dimension/1.10.2+galaxy0",
                "errors": null,
                "id": 40,
                "input_connections": {
                    "adata": {
                        "id": 39,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Compute PCA",
                "name": "Scanpy cluster, embed",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 4852.000582237267,
                    "top": 1619.8299913463652
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata_out": {
                        "action_arguments": {
                            "newname": "3k PBMC with only HVG, after scaling and PCA"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata_out"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_cluster_reduce_dimension/scanpy_cluster_reduce_dimension/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "38db3fef7aad",
                    "name": "scanpy_cluster_reduce_dimension",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.pca\", \"__current_case__\": 2, \"n_comps\": \"50\", \"layer\": \"\", \"dtype\": \"float32\", \"pca\": {\"chunked\": \"False\", \"__current_case__\": 1, \"zero_center\": true, \"svd_solver\": null, \"random_state\": \"0\"}, \"mask_var\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "ae913706-975b-4b63-8432-313b325a4306",
                "when": null,
                "workflow_outputs": []
            },
            "41": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.10.2+galaxy1",
                "errors": null,
                "id": 41,
                "input_connections": {
                    "adata": {
                        "id": 40,
                        "output_name": "anndata_out"
                    },
                    "method|n_neighbors": {
                        "id": 18,
                        "output_name": "integer_param"
                    },
                    "method|n_pcs": {
                        "id": 9,
                        "output_name": "output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Scanpy Inspect and manipulate",
                        "name": "method"
                    },
                    {
                        "description": "runtime parameter for tool Scanpy Inspect and manipulate",
                        "name": "method"
                    }
                ],
                "label": "Compute Neighborhood graph",
                "name": "Scanpy Inspect and manipulate",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 5132.000738804507,
                    "top": 735.8299913463653
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata_out": {
                        "action_arguments": {
                            "newname": "3k PBMC with only HVG, after scaling, PCA and KNN graph"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata_out"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.10.2+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "d86cb2ce311b",
                    "name": "scanpy_inspect",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.neighbors\", \"__current_case__\": 1, \"n_neighbors\": {\"__class__\": \"ConnectedValue\"}, \"n_pcs\": {\"__class__\": \"ConnectedValue\"}, \"use_rep\": \"\", \"knn\": true, \"pp_neighbors_method\": \"umap\", \"metric\": \"euclidean\", \"random_state\": \"0\", \"key_added\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy1",
                "type": "tool",
                "uuid": "005d6af1-ad00-4ef6-8fcd-e5df4569ba34",
                "when": null,
                "workflow_outputs": []
            },
            "42": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 42,
                "input_connections": {
                    "adata": {
                        "id": 40,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 5135.543225031574,
                    "top": 1477.1861932178354
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"format\": \"png\", \"method\": {\"method\": \"pl.pca_loadings\", \"__current_case__\": 12, \"components\": \"1,2,3\", \"include_lowest\": true, \"n_points\": null}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "e074111c-968e-444a-827d-9928727e9792",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Plot genes according to contributions to PCs",
                        "output_name": "out_png",
                        "uuid": "c4213c40-ba33-49bd-bb51-b5694b53a629"
                    }
                ]
            },
            "43": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 43,
                "input_connections": {
                    "adata": {
                        "id": 40,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 5137.895983849266,
                    "top": 1677.4128884822696
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.pca_overview\", \"__current_case__\": 14, \"color\": \"\", \"use_raw\": false, \"sort_order\": true, \"groups\": \"\", \"plot\": {\"components\": [{\"__index__\": 0, \"axis1\": \"1\", \"axis2\": \"2\"}, {\"__index__\": 1, \"axis1\": \"2\", \"axis2\": \"3\"}], \"projection\": \"2d\", \"legend_loc\": \"right margin\", \"legend_fontsize\": null, \"legend_fontweight\": \"normal\", \"size\": null, \"color_map\": null, \"palette\": null, \"frameon\": true, \"ncols\": \"2\", \"wspace\": \"0.1\", \"hspace\": \"0.25\", \"title\": \"\"}, \"add_outline\": false, \"outline_color_border\": null, \"outline_color_gap\": null, \"outline_width_border\": \"0.3\", \"outline_width_gap\": \"0.05\", \"matplotlib_pyplot_scatter\": {\"alpha\": null, \"vmin\": null, \"vmax\": null, \"linewidths\": \"0.0\", \"edgecolors\": null}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "4884a876-9340-4e66-843f-f1849df0f52b",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Plot PCA over view with genes",
                        "output_name": "out_png",
                        "uuid": "869246fa-71b6-44c6-a9b0-142ce2c83a0b"
                    }
                ]
            },
            "44": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 44,
                "input_connections": {
                    "adata": {
                        "id": 40,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 5135.543225031574,
                    "top": 1852.530082426005
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.pca_variance_ratio\", \"__current_case__\": 13, \"n_pcs\": \"50\", \"log\": true}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "bb708b36-d4d4-424e-8262-4a792dd2098f",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Elbow plot of PCs and variance",
                        "output_name": "out_png",
                        "uuid": "a0152a66-2dc5-4745-804f-b1d5f275348d"
                    }
                ]
            },
            "45": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_cluster_reduce_dimension/scanpy_cluster_reduce_dimension/1.10.2+galaxy0",
                "errors": null,
                "id": 45,
                "input_connections": {
                    "adata": {
                        "id": 41,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Embed using UMAP",
                "name": "Scanpy cluster, embed",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 5412.000895371747,
                    "top": 807.8299913463653
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata_out": {
                        "action_arguments": {
                            "newname": "3k PBMC with only HVG, after scaling, PCA, KNN graph, UMAP"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata_out"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_cluster_reduce_dimension/scanpy_cluster_reduce_dimension/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "38db3fef7aad",
                    "name": "scanpy_cluster_reduce_dimension",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"method\": {\"method\": \"tl.umap\", \"__current_case__\": 5, \"min_dist\": \"0.5\", \"spread\": \"1.0\", \"n_components\": \"2\", \"maxiter\": null, \"alpha\": \"1.0\", \"gamma\": \"1.0\", \"negative_sample_rate\": \"5\", \"init_pos\": \"spectral\", \"random_state\": \"0\", \"neighbors_key\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "881f04b7-3d5f-4012-97e8-d29dce958211",
                "when": null,
                "workflow_outputs": []
            },
            "46": {
                "annotation": "Higher resolution means finding more and smaller clusters.",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_cluster_reduce_dimension/scanpy_cluster_reduce_dimension/1.10.2+galaxy0",
                "errors": null,
                "id": 46,
                "input_connections": {
                    "adata": {
                        "id": 45,
                        "output_name": "anndata_out"
                    },
                    "method|flavor|resolution": {
                        "id": 19,
                        "output_name": "float_param"
                    }
                },
                "inputs": [],
                "label": "Louvain clustering",
                "name": "Scanpy cluster, embed",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 5692.001389734953,
                    "top": 652.8299913463653
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata_out": {
                        "action_arguments": {
                            "newname": "3k PBMC with only HVG, after scaling, PCA, KNN graph, UMAP, clustering"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata_out"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_cluster_reduce_dimension/scanpy_cluster_reduce_dimension/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "38db3fef7aad",
                    "name": "scanpy_cluster_reduce_dimension",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"tl.louvain\", \"__current_case__\": 0, \"flavor\": {\"flavor\": \"vtraag\", \"__current_case__\": 0, \"resolution\": {\"__class__\": \"ConnectedValue\"}}, \"random_state\": \"0\", \"key_added\": \"louvain\", \"directed\": true, \"use_weights\": false, \"neighbors_key\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "06f497ab-c22e-4f6d-962b-2fc43f99ad90",
                "when": null,
                "workflow_outputs": []
            },
            "47": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 47,
                "input_connections": {
                    "adata": {
                        "id": 46,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "UMAP of louvain",
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 5972.00122149838,
                    "top": 690.8299913463653
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.umap\", \"__current_case__\": 16, \"color\": \"louvain\", \"use_raw\": false, \"edges\": {\"edges\": \"False\", \"__current_case__\": 1}, \"arrows\": false, \"sort_order\": true, \"groups\": \"\", \"plot\": {\"components\": [], \"projection\": \"2d\", \"legend_loc\": \"right margin\", \"legend_fontsize\": null, \"legend_fontweight\": \"normal\", \"size\": null, \"color_map\": null, \"palette\": null, \"frameon\": true, \"ncols\": \"2\", \"wspace\": \"0.1\", \"hspace\": \"0.25\", \"title\": \"\"}, \"add_outline\": false, \"outline_color_border\": null, \"outline_color_gap\": null, \"outline_width_border\": \"0.3\", \"outline_width_gap\": \"0.05\", \"matplotlib_pyplot_scatter\": {\"alpha\": null, \"vmin\": null, \"vmax\": null, \"linewidths\": \"0.0\", \"edgecolors\": \"face\"}, \"layer\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "6c2fe5ab-0d77-45cd-bc95-52c40ebea722",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "UMAP of louvain",
                        "output_name": "out_png",
                        "uuid": "7bdb4206-ce50-4252-9161-9c0f60810e6b"
                    }
                ]
            },
            "48": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.10.2+galaxy1",
                "errors": null,
                "id": 48,
                "input_connections": {
                    "adata": {
                        "id": 46,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Rank genes by Wilcoxon test",
                "name": "Scanpy Inspect and manipulate",
                "outputs": [
                    {
                        "name": "anndata_out",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 5980,
                    "top": 842.8299913463653
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata_out": {
                        "action_arguments": {
                            "newname": "3k PBMC with only HVG, after scaling, PCA, KNN graph, UMAP, clustering, marker genes with Wilcoxon test"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata_out"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.10.2+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "d86cb2ce311b",
                    "name": "scanpy_inspect",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"method\": {\"method\": \"tl.rank_genes_groups\", \"__current_case__\": 4, \"get_df\": {\"get_df_select\": \"False\", \"__current_case__\": 0}, \"groupby\": \"louvain\", \"use_raw\": true, \"groups\": \"\", \"layer\": \"\", \"ref\": {\"rest\": \"rest\", \"__current_case__\": 0}, \"n_genes\": \"100\", \"tl_rank_genes_groups_method\": {\"method\": \"wilcoxon\", \"__current_case__\": 1, \"corr_method\": \"benjamini-hochberg\", \"tie_correct\": false}, \"key_added\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy1",
                "type": "tool",
                "uuid": "636ce34b-e448-4108-8c36-08bb9552f3d9",
                "when": null,
                "workflow_outputs": []
            },
            "49": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_inspect/anndata_inspect/0.10.9+galaxy0",
                "errors": null,
                "id": 49,
                "input_connections": {
                    "input": {
                        "id": 48,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Inspect AnnData",
                "outputs": [
                    {
                        "name": "uns_rank_genes_groups_names",
                        "type": "tabular"
                    },
                    {
                        "name": "uns_rank_genes_groups_scores",
                        "type": "tabular"
                    },
                    {
                        "name": "uns_rank_genes_groups_logfoldchanges",
                        "type": "tabular"
                    },
                    {
                        "name": "uns_rank_genes_groups_pvals",
                        "type": "tabular"
                    },
                    {
                        "name": "uns_rank_genes_groups_pvals_adj",
                        "type": "tabular"
                    }
                ],
                "position": {
                    "left": 6252.001715861586,
                    "top": 344.8299913463653
                },
                "post_job_actions": {
                    "RenameDatasetActionuns_rank_genes_groups_names": {
                        "action_arguments": {
                            "newname": "Ranked genes with Wilcoxon test"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "uns_rank_genes_groups_names"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_inspect/anndata_inspect/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0bf7fddf90c7",
                    "name": "anndata_inspect",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"h5ad\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"inspect\": {\"info\": \"uns\", \"__current_case__\": 5, \"uns_info\": \"rank_genes_groups\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "4755a9d9-1cda-4ade-8b1b-4514835fd3d1",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Ranked genes with Wilcoxon test",
                        "output_name": "uns_rank_genes_groups_names",
                        "uuid": "f1ead4ac-9308-47bb-92e6-47da581c08d3"
                    }
                ]
            },
            "50": {
                "annotation": "Here I inspected the louviain clusters...",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_inspect/anndata_inspect/0.10.9+galaxy0",
                "errors": null,
                "id": 50,
                "input_connections": {
                    "input": {
                        "id": 48,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "Inspect clusters",
                "name": "Inspect AnnData",
                "outputs": [
                    {
                        "name": "obs",
                        "type": "tabular"
                    }
                ],
                "position": {
                    "left": 6252.001715861586,
                    "top": 843.8299913463653
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_inspect/anndata_inspect/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0bf7fddf90c7",
                    "name": "anndata_inspect",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"h5ad\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"inspect\": {\"info\": \"obs\", \"__current_case__\": 3}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "6767734f-9e0b-4650-8c28-9d4b547f2614",
                "when": null,
                "workflow_outputs": []
            },
            "51": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 51,
                "input_connections": {
                    "adata": {
                        "id": 48,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 6252.001715861586,
                    "top": 1149.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"format\": \"png\", \"method\": {\"method\": \"pl.rank_genes_groups\", \"__current_case__\": 24, \"groups\": \"\", \"n_genes\": \"20\", \"gene_symbols\": \"\", \"fontsize\": \"8\", \"ncols\": \"3\", \"sharey\": false}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "a2316a70-98ff-4108-a42a-99700fefbb5d",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Plot Rank gene groups",
                        "output_name": "out_png",
                        "uuid": "8d0bc61a-7cd1-4516-9064-3483bd868f6c"
                    }
                ]
            },
            "52": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_manipulate/anndata_manipulate/0.10.9+galaxy0",
                "errors": null,
                "id": 52,
                "input_connections": {
                    "input": {
                        "id": 48,
                        "output_name": "anndata_out"
                    },
                    "manipulate|categories": {
                        "id": 12,
                        "output_name": "output"
                    },
                    "when": {
                        "id": 11,
                        "output_name": "output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Manipulate AnnData",
                        "name": "manipulate"
                    }
                ],
                "label": null,
                "name": "Manipulate AnnData",
                "outputs": [
                    {
                        "name": "anndata",
                        "type": "h5ad"
                    }
                ],
                "position": {
                    "left": 6250,
                    "top": 1602.8299913463652
                },
                "post_job_actions": {
                    "RenameDatasetActionanndata": {
                        "action_arguments": {
                            "newname": "Anndata with Celltype Annotation"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "anndata"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_manipulate/anndata_manipulate/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "7e8c677a7b71",
                    "name": "anndata_manipulate",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"manipulate\": {\"function\": \"rename_categories\", \"__current_case__\": 3, \"key\": \"louvain\", \"categories\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "6ac832fd-39f6-4e07-b386-56001eacc343",
                "when": "$(inputs.when)",
                "workflow_outputs": [
                    {
                        "label": "Anndata with Celltype Annotation",
                        "output_name": "anndata",
                        "uuid": "5d3b148b-6611-4187-a87f-0e8c13312f52"
                    }
                ]
            },
            "53": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_inspect/anndata_inspect/0.10.9+galaxy0",
                "errors": null,
                "id": 53,
                "input_connections": {
                    "input": {
                        "id": 48,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": "General information about the final Anndata object",
                "name": "Inspect AnnData",
                "outputs": [
                    {
                        "name": "general",
                        "type": "txt"
                    }
                ],
                "position": {
                    "left": 7277.957184864016,
                    "top": 877.9894353996245
                },
                "post_job_actions": {
                    "RenameDatasetActiongeneral": {
                        "action_arguments": {
                            "newname": "Final Anndata General Info"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "general"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/anndata_inspect/anndata_inspect/0.10.9+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0bf7fddf90c7",
                    "name": "anndata_inspect",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"inspect\": {\"info\": \"general\", \"__current_case__\": 0}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.10.9+galaxy0",
                "type": "tool",
                "uuid": "3086e8de-bf0a-4229-9a38-2889c129c20d",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "General information about the final Anndata object",
                        "output_name": "general",
                        "uuid": "c52fdbb0-794b-430b-8358-731c150d647e"
                    }
                ]
            },
            "54": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/9.3+galaxy1",
                "errors": null,
                "id": 54,
                "input_connections": {
                    "infile": {
                        "id": 49,
                        "output_name": "uns_rank_genes_groups_names"
                    }
                },
                "inputs": [],
                "label": "Select top ranked genes",
                "name": "Text reformatting",
                "outputs": [
                    {
                        "name": "outfile",
                        "type": "input"
                    }
                ],
                "position": {
                    "left": 6552.001547625013,
                    "top": 365.8299913463653
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/9.3+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "86755160afbf",
                    "name": "text_processing",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"code\": \"NR==2{gsub(/\\\\t/,\\\",\\\",$0); print}\", \"infile\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "9.3+galaxy1",
                "type": "tool",
                "uuid": "da886056-c68e-480f-bab8-586f5209dd9b",
                "when": null,
                "workflow_outputs": []
            },
            "55": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/9.3+galaxy1",
                "errors": null,
                "id": 55,
                "input_connections": {
                    "infile": {
                        "id": 49,
                        "output_name": "uns_rank_genes_groups_names"
                    }
                },
                "inputs": [],
                "label": "Count number of clusters",
                "name": "Text reformatting",
                "outputs": [
                    {
                        "name": "outfile",
                        "type": "input"
                    }
                ],
                "position": {
                    "left": 6561.265841513936,
                    "top": 537.2187315680474
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/9.3+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "86755160afbf",
                    "name": "text_processing",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"code\": \"{print NF}\", \"infile\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "9.3+galaxy1",
                "type": "tool",
                "uuid": "5f979ec3-a30c-4990-aa58-6a512df2b078",
                "when": null,
                "workflow_outputs": []
            },
            "56": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/9.3+galaxy1",
                "errors": null,
                "id": 56,
                "input_connections": {
                    "infile": {
                        "id": 49,
                        "output_name": "uns_rank_genes_groups_names"
                    }
                },
                "inputs": [],
                "label": "Select top ranked genes with louvain",
                "name": "Text reformatting",
                "outputs": [
                    {
                        "name": "outfile",
                        "type": "input"
                    }
                ],
                "position": {
                    "left": 6552.001547625013,
                    "top": 1040.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/9.3+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "86755160afbf",
                    "name": "text_processing",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"code\": \"NR==2{gsub(/\\\\t/,\\\",\\\",$0); print \\\"louvain,\\\"$0}\", \"infile\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "9.3+galaxy1",
                "type": "tool",
                "uuid": "5d39d890-01fd-43ae-a0a2-eecbbbeeb9a9",
                "when": null,
                "workflow_outputs": []
            },
            "57": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.8+galaxy0",
                "errors": null,
                "id": 57,
                "input_connections": {
                    "in_file": {
                        "id": 50,
                        "output_name": "obs"
                    }
                },
                "inputs": [],
                "label": "Count number of cells per cluster",
                "name": "Datamash",
                "outputs": [
                    {
                        "name": "out_file",
                        "type": "input"
                    }
                ],
                "position": {
                    "left": 6498.868219233225,
                    "top": 767.2452219288871
                },
                "post_job_actions": {
                    "RenameDatasetActionout_file": {
                        "action_arguments": {
                            "newname": "Number of cells per cluster"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "out_file"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.8+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "4c07ddedc198",
                    "name": "datamash_ops",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"grouping\": \"15\", \"header_in\": true, \"header_out\": false, \"ignore_case\": false, \"in_file\": {\"__class__\": \"ConnectedValue\"}, \"narm\": false, \"need_sort\": true, \"operations\": [{\"__index__\": 0, \"op_name\": \"count\", \"op_column\": \"1\"}], \"print_full_line\": false, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.8+galaxy0",
                "type": "tool",
                "uuid": "6d4cf180-725d-4a2a-9512-be939a1af8c8",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Number of cells per cluster",
                        "output_name": "out_file",
                        "uuid": "6b711421-aec9-47ae-b987-2c13aa9c2e8e"
                    }
                ]
            },
            "58": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "errors": null,
                "id": 58,
                "input_connections": {
                    "style_cond|type_cond|pick_from_0|value": {
                        "id": 52,
                        "output_name": "anndata"
                    },
                    "style_cond|type_cond|pick_from_1|value": {
                        "id": 48,
                        "output_name": "anndata_out"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Pick parameter value",
                "outputs": [
                    {
                        "name": "data_param",
                        "type": "input"
                    }
                ],
                "position": {
                    "left": 6570,
                    "top": 1202.8299913463652
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pick_value/pick_value/0.2.0",
                "tool_shed_repository": {
                    "changeset_revision": "b19e21af9c52",
                    "name": "pick_value",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"data\", \"__current_case__\": 4, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"value\": {\"__class__\": \"ConnectedValue\"}}]}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.2.0",
                "type": "tool",
                "uuid": "06b51d40-f84e-4ac6-a92b-547be86ded38",
                "when": null,
                "workflow_outputs": []
            },
            "59": {
                "annotation": "",
                "content_id": "param_value_from_file",
                "errors": null,
                "id": 59,
                "input_connections": {
                    "input1": {
                        "id": 54,
                        "output_name": "outfile"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Parse parameter value",
                "outputs": [
                    {
                        "name": "text_param",
                        "type": "expression.json"
                    }
                ],
                "position": {
                    "left": 6832.00137938844,
                    "top": 344.8299913463653
                },
                "post_job_actions": {},
                "tool_id": "param_value_from_file",
                "tool_state": "{\"input1\": {\"__class__\": \"ConnectedValue\"}, \"param_type\": \"text\", \"remove_newlines\": true, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.1.0",
                "type": "tool",
                "uuid": "27559b56-2e68-43b5-8533-a4ca05e900de",
                "when": null,
                "workflow_outputs": []
            },
            "60": {
                "annotation": "",
                "content_id": "param_value_from_file",
                "errors": null,
                "id": 60,
                "input_connections": {
                    "input1": {
                        "id": 55,
                        "output_name": "outfile"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Parse parameter value",
                "outputs": [
                    {
                        "name": "integer_param",
                        "type": "expression.json"
                    }
                ],
                "position": {
                    "left": 6916.044358370236,
                    "top": 613.875261824484
                },
                "post_job_actions": {},
                "tool_id": "param_value_from_file",
                "tool_state": "{\"input1\": {\"__class__\": \"ConnectedValue\"}, \"param_type\": \"integer\", \"remove_newlines\": true, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.1.0",
                "type": "tool",
                "uuid": "a5518c7a-2900-43c3-b299-b2b20291d195",
                "when": null,
                "workflow_outputs": []
            },
            "61": {
                "annotation": "",
                "content_id": "param_value_from_file",
                "errors": null,
                "id": 61,
                "input_connections": {
                    "input1": {
                        "id": 56,
                        "output_name": "outfile"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Parse parameter value",
                "outputs": [
                    {
                        "name": "text_param",
                        "type": "expression.json"
                    }
                ],
                "position": {
                    "left": 6832.00137938844,
                    "top": 1019.8299913463653
                },
                "post_job_actions": {},
                "tool_id": "param_value_from_file",
                "tool_state": "{\"input1\": {\"__class__\": \"ConnectedValue\"}, \"param_type\": \"text\", \"remove_newlines\": true, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.1.0",
                "type": "tool",
                "uuid": "e175404d-4379-4bfa-aed7-79d001fce5ea",
                "when": null,
                "workflow_outputs": []
            },
            "62": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 62,
                "input_connections": {
                    "adata": {
                        "id": 58,
                        "output_name": "data_param"
                    },
                    "when": {
                        "id": 11,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 7284.276436074986,
                    "top": 1669.7494225002392
                },
                "post_job_actions": {
                    "RenameDatasetActionout_png": {
                        "action_arguments": {
                            "newname": "UMAP with annotated cell types"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "out_png"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.umap\", \"__current_case__\": 16, \"color\": \"louvain\", \"use_raw\": true, \"edges\": {\"edges\": \"False\", \"__current_case__\": 1}, \"arrows\": false, \"sort_order\": true, \"groups\": \"\", \"plot\": {\"components\": [], \"projection\": \"2d\", \"legend_loc\": \"on data\", \"legend_fontsize\": null, \"legend_fontweight\": \"normal\", \"size\": null, \"color_map\": null, \"palette\": null, \"frameon\": true, \"ncols\": \"4\", \"wspace\": \"0.1\", \"hspace\": \"0.25\", \"title\": \"\"}, \"add_outline\": false, \"outline_color_border\": null, \"outline_color_gap\": null, \"outline_width_border\": \"0.3\", \"outline_width_gap\": \"0.05\", \"matplotlib_pyplot_scatter\": {\"alpha\": null, \"vmin\": null, \"vmax\": null, \"linewidths\": \"0.0\", \"edgecolors\": \"face\"}, \"layer\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "90fc9851-6092-46b7-a5ec-c3f5b49345c9",
                "when": "$(inputs.when)",
                "workflow_outputs": [
                    {
                        "label": "UMAP with annotated cell types",
                        "output_name": "out_png",
                        "uuid": "82e1dab8-bae6-4bc9-b4cb-cc0d8b6c3417"
                    }
                ]
            },
            "63": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 63,
                "input_connections": {
                    "adata": {
                        "id": 48,
                        "output_name": "anndata_out"
                    },
                    "method|key_variables|keys": {
                        "id": 59,
                        "output_name": "text_param"
                    }
                },
                "inputs": [],
                "label": "Violin plot of top genes on clusters",
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 7274.993354573022,
                    "top": 339.6802685334286
                },
                "post_job_actions": {
                    "RenameDatasetActionout_png": {
                        "action_arguments": {
                            "newname": "Violin plot of top genes on clusters"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "out_png"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.violin\", \"__current_case__\": 4, \"key_variables\": {\"type\": \"custom\", \"__current_case__\": 2, \"keys\": {\"__class__\": \"ConnectedValue\"}}, \"groupby\": \"louvain\", \"log\": false, \"use_raw\": false, \"violin_plot\": {\"stripplot\": {\"stripplot\": \"True\", \"__current_case__\": 0, \"jitter\": {\"jitter\": \"True\", \"__current_case__\": 0, \"size\": \"1.0\"}}, \"multi_panel\": {\"multi_panel\": \"None\", \"__current_case__\": 0}}, \"xlabel\": \"\", \"rotation\": null, \"seaborn_violinplot\": {\"bw_method\": \"scott\", \"bw_adjust\": \"1.0\", \"orient\": null, \"linewidth\": \"0.0\", \"color\": \"AliceBlue\", \"saturation\": \"0.75\"}, \"layer\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "8030a8a4-0fb2-41b4-b7b6-a3fee0e1348c",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Violin plot of top genes on clusters",
                        "output_name": "out_png",
                        "uuid": "281eb7a4-767a-4b0c-b451-ded5693065bb"
                    }
                ]
            },
            "64": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 64,
                "input_connections": {
                    "adata": {
                        "id": 48,
                        "output_name": "anndata_out"
                    },
                    "method|figsize|height": {
                        "id": 60,
                        "output_name": "integer_param"
                    },
                    "method|figsize|width": {
                        "id": 60,
                        "output_name": "integer_param"
                    },
                    "method|num_categories": {
                        "id": 60,
                        "output_name": "integer_param"
                    },
                    "method|var_names|var_names": {
                        "id": 59,
                        "output_name": "text_param"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Scanpy plot",
                        "name": "method"
                    }
                ],
                "label": "Stacked violin of top genes on clusters",
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 7278.7873569974545,
                    "top": 0
                },
                "post_job_actions": {
                    "RenameDatasetActionout_png": {
                        "action_arguments": {
                            "newname": "Stacked violin of top genes on clusters"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "out_png"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.stacked_violin\", \"__current_case__\": 5, \"var_names\": {\"type\": \"custom\", \"__current_case__\": 1, \"var_names\": {\"__class__\": \"ConnectedValue\"}}, \"groupby\": \"louvain\", \"num_categories\": {\"__class__\": \"ConnectedValue\"}, \"gene_symbols\": \"\", \"log\": false, \"use_raw\": true, \"dendrogram\": false, \"var_group_positions\": [], \"var_group_rotation\": null, \"figsize\": {\"custom\": \"yes\", \"__current_case__\": 0, \"width\": {\"__class__\": \"ConnectedValue\"}, \"height\": {\"__class__\": \"ConnectedValue\"}}, \"layer\": \"\", \"swap_axes\": true, \"violin_plot\": {\"stripplot\": {\"stripplot\": \"False\", \"__current_case__\": 1}, \"density_norm\": \"area\"}, \"row_palette\": null, \"standard_scale\": \"None\", \"seaborn_violinplot\": {\"bw_method\": \"scott\", \"bw_adjust\": \"1.0\", \"orient\": null, \"linewidth\": \"0.0\", \"color\": null, \"saturation\": \"0.75\"}, \"yticklabels\": false, \"vmin\": null, \"vmax\": null, \"vcenter\": null}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "9386a889-5f57-4c24-b804-d1018a2c4d24",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Stacked violin of top genes on clusters",
                        "output_name": "out_png",
                        "uuid": "803ac216-4803-4e88-a1f1-9b3a8597ada0"
                    }
                ]
            },
            "65": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 65,
                "input_connections": {
                    "adata": {
                        "id": 58,
                        "output_name": "data_param"
                    },
                    "method|num_categories": {
                        "id": 60,
                        "output_name": "integer_param"
                    },
                    "method|var_names|var_names": {
                        "id": 59,
                        "output_name": "text_param"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Scanpy plot",
                        "name": "method"
                    }
                ],
                "label": "Dotplot of top genes on clusters",
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 7283.8412597064325,
                    "top": 547.1373222113621
                },
                "post_job_actions": {
                    "RenameDatasetActionout_png": {
                        "action_arguments": {
                            "newname": "Dotplot of top genes on clusters"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "out_png"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.dotplot\", \"__current_case__\": 2, \"var_names\": {\"type\": \"custom\", \"__current_case__\": 1, \"var_names\": {\"__class__\": \"ConnectedValue\"}}, \"groupby\": \"louvain\", \"num_categories\": {\"__class__\": \"ConnectedValue\"}, \"gene_symbols\": \"\", \"log\": false, \"use_raw\": true, \"dendrogram\": true, \"var_group_positions\": [], \"var_group_rotation\": null, \"figsize\": {\"custom\": \"no\", \"__current_case__\": 1}, \"layer\": \"\", \"color_map\": \"viridis\", \"dot_max\": null, \"dot_min\": null, \"standard_scale\": \"None\", \"expression_cutoff\": \"0.0\", \"mean_only_expressed\": false, \"matplotlib_pyplot_scatter\": {\"alpha\": null, \"vmin\": null, \"vmax\": null, \"linewidths\": \"0.0\", \"edgecolors\": \"face\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "7234b677-3502-42bb-a1ca-7c62a6118a52",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Dotplot of top genes on clusters",
                        "output_name": "out_png",
                        "uuid": "5ee15bc7-6913-48bf-8a1e-38b6e009b452"
                    }
                ]
            },
            "66": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 66,
                "input_connections": {
                    "adata": {
                        "id": 48,
                        "output_name": "anndata_out"
                    },
                    "method|figsize|height": {
                        "id": 60,
                        "output_name": "integer_param"
                    },
                    "method|figsize|width": {
                        "id": 60,
                        "output_name": "integer_param"
                    }
                },
                "inputs": [],
                "label": "Heatmap of 20 genes",
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 7279.9117328730135,
                    "top": 1420.1202714194746
                },
                "post_job_actions": {
                    "RenameDatasetActionout_png": {
                        "action_arguments": {
                            "newname": "Heatmap of top 20 highly ranked genes"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "out_png"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.rank_genes_groups_heatmap\", \"__current_case__\": 27, \"var_names\": {\"type\": \"all\", \"__current_case__\": 0}, \"groups\": \"\", \"n_genes\": \"20\", \"key\": \"\", \"min_logfoldchange\": null, \"log\": false, \"use_raw\": true, \"dendrogram\": true, \"var_group_positions\": [], \"var_group_rotation\": null, \"figsize\": {\"custom\": \"yes\", \"__current_case__\": 0, \"width\": {\"__class__\": \"ConnectedValue\"}, \"height\": {\"__class__\": \"ConnectedValue\"}}, \"layer\": \"\", \"gene_symbols\": \"\", \"swap_axes\": false, \"show_gene_labels\": false, \"standard_scale\": \"None\", \"matplotlib_pyplot_imshow\": {\"cmap\": \"viridis\", \"interpolation\": \"None\", \"alpha\": null, \"vmin\": null, \"vmax\": null, \"origin\": \"upper\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "92ad3339-6642-4452-a993-aade06db8c56",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Heatmap of top 20 highly ranked genes",
                        "output_name": "out_png",
                        "uuid": "2e246f95-55da-43b6-9c8e-7d21ed139794"
                    }
                ]
            },
            "67": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "errors": null,
                "id": 67,
                "input_connections": {
                    "adata": {
                        "id": 48,
                        "output_name": "anndata_out"
                    },
                    "method|color": {
                        "id": 61,
                        "output_name": "text_param"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Scanpy plot",
                        "name": "method"
                    }
                ],
                "label": "UMAP of louvain and top ranked genes",
                "name": "Scanpy plot",
                "outputs": [
                    {
                        "name": "out_png",
                        "type": "png"
                    }
                ],
                "position": {
                    "left": 7280.869257089268,
                    "top": 1146.0872774690602
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.10.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "0185bd174ea0",
                    "name": "scanpy_plot",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.umap\", \"__current_case__\": 16, \"color\": {\"__class__\": \"ConnectedValue\"}, \"use_raw\": true, \"edges\": {\"edges\": \"False\", \"__current_case__\": 1}, \"arrows\": false, \"sort_order\": true, \"groups\": \"\", \"plot\": {\"components\": [], \"projection\": \"2d\", \"legend_loc\": \"right margin\", \"legend_fontsize\": null, \"legend_fontweight\": \"normal\", \"size\": null, \"color_map\": null, \"palette\": null, \"frameon\": true, \"ncols\": \"2\", \"wspace\": \"0.1\", \"hspace\": \"0.25\", \"title\": \"\"}, \"add_outline\": false, \"outline_color_border\": null, \"outline_color_gap\": null, \"outline_width_border\": \"0.3\", \"outline_width_gap\": \"0.05\", \"matplotlib_pyplot_scatter\": {\"alpha\": null, \"vmin\": null, \"vmax\": null, \"linewidths\": \"0.0\", \"edgecolors\": null}, \"layer\": \"\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.10.2+galaxy0",
                "type": "tool",
                "uuid": "f54debde-f7a9-4615-8a81-6a4406ebcc02",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "UMAP of louvain and top ranked genes",
                        "output_name": "out_png",
                        "uuid": "fabdf65a-483a-4295-a0e4-f7e582614091"
                    }
                ]
            }
        },
        "tags": [
            "name:scRNA-seq",
            "name:single-cell"
        ],
        "uuid": "d6b2d1bb-6aaf-47cc-8956-5ae80b775de5",
        "version": 40
    },
    "readme": "# Single-Cell RNA-seq Analysis: Scanpy Preprocessing and Clustering\n\nThis workflow follows Scanpy legacy workflow [clustering 3k PBMCs](https://scanpy.readthedocs.io/en/stable/tutorials/basics/clustering-2017.html). For more details on concepts and parameters, please refer to the equivalent Galaxy-based [tutorial](https://training.galaxyproject.org/training-material/topics/single-cell/tutorials/scrna-scanpy-pbmc3k/tutorial.html).\n\n## Inputs\n\n### Input datasets\n- This workflow needs 3 files as input\n    - A single-cell count matrix file in Matrix Market Exchange format\n    - A cell barcodes file with a single barcode in each line. The barcodes should correspond to the cells in the matrix file\n    - A genes/features tabular file with gene ids and gene names.\n        - Cell Ranger v2 or earlier version call this file as `genes.tsv` and contains two columns:\n            - Gene ID (Ensembl gene ID or other identifiers)\n            - Gene Name (common gene name or symbol)\n        - Cell Ranger v2 or earlier version call this file as `features.tsv` and contains three columns:\n            - Feature ID (Ensembl gene ID or other identifiers)\n            - Feature Name (common gene name or symbol)\n            - Feature Type (e.g., Gene Expression, Antibody Capture, CRISPR Guide Capture, etc.)\n### Input parameters\n- The following parameters should be configured according to the data.\n    - Minimum number of cells expressed per gene. The workflow default is 3.\n    - Minimum number of genes expressed per cell. The workflow default is 200.\n    - Maximum number of genes expressed per cell. The workflow default is 2500.\n    - Size of the local neighborhood. Number of neighbours for computing neighborhood graph. The default is 15.\n    - Size of the local neighborhood (aka resolution) in louvain algorithm. The default is 1.\n\n## Processing\n\n- The workflow creates an **Anndata** object from the given input files.\n- Quality control performed. Cells are filtered by number of genes expressed, cells with high mitochondial content are removed.\n- Then counts are normlized and scaled\n- PCA is used for dimensionality reduction and 50 PCs are computed. Various plots are generated to inspect the PCA and PCA loadings that helps in chodeterminingnumber of  PCs to keep for further analysis.\n- Clustering is performed by computing a neighbourhood graph, and then using **louvain** algorithm. neighborhood graph is embeded into UMAP and plotted.\n- Marker genes are identified using **Wilcoxon rank sum test**. Marker genes expressions are visualized in various plots.\n- Optionally, louvain clusters can be annotated with cell types based on the marker genes.\n\n## Outputs\n\n- Final output is an Anndata object with annotations of louvain clusters.\n- Some informative plots from QC to the end results\n",
    "changelog": "## [0.1] - 2024-10-09\n\nFirst release.\n",
    "diagrams": "# Workflow diagrams\n\n## Single-Cell RNA-seq Analysis: Scanpy Preprocessing and Clustering\n\n```mermaid\ngraph LR\n0[\"\u2139\ufe0f Minimum number of cells expressed\"]@{ shape: lean-l }\n1[\"\u2139\ufe0f Barcodes\"]@{ shape: doc }\n2[\"\u2139\ufe0f Genes\"]@{ shape: doc }\n3[\"\u2139\ufe0f Matrix\"]@{ shape: doc }\n4[\"\u2139\ufe0f Input is from Cell Ranger v2 or earlier versions\"]@{ shape: lean-l }\n5[\"\u2139\ufe0f Mitochondrial genes start with pattern\"]@{ shape: lean-l }\n6[\"\u2139\ufe0f Minimum number of genes expressed\"]@{ shape: lean-l }\n7[\"\u2139\ufe0f Maximum number of genes expressed\"]@{ shape: lean-l }\n8[\"\u2139\ufe0f Number of neighbours for computing neighborhood graph\"]@{ shape: lean-l }\n9[\"\u2139\ufe0f Number of PCs to use for computing neighborhood graph\"]@{ shape: lean-l }\n10[\"\u2139\ufe0f Louvain resolution\"]@{ shape: lean-l }\n11[\"\u2139\ufe0f Manually annotate celltypes?\"]@{ shape: lean-l }\n12[\"\u2139\ufe0f Annotate louvain clusters with these cell types\"]@{ shape: lean-l }\n13[\"Pick parameter value\"]@{ shape: process }\n0 --> 13\n14[\"Anndata from 10x v2 or earlier\"]@{ shape: process }\n3 --> 14\n1 --> 14\n2 --> 14\n4 --> 14\n15[\"Map and switch the input CellRager version\"]@{ shape: process }\n4 --> 15\n16[\"Pick parameter value\"]@{ shape: process }\n6 --> 16\n17[\"Pick parameter value\"]@{ shape: process }\n7 --> 17\n18[\"Pick parameter value\"]@{ shape: process }\n8 --> 18\n19[\"Pick parameter value\"]@{ shape: process }\n10 --> 19\n20[\"Anndata from 10x V3 or later\"]@{ shape: process }\n3 --> 20\n1 --> 20\n2 --> 20\n15 --> 20\n21[\"Choose the Anndata\"]@{ shape: process }\n20 --> 21\n14 --> 21\n22[\"Filter genes by cells expressed\"]@{ shape: process }\n21 --> 22\n13 --> 22\n23[\"Inspect AnnData\"]@{ shape: process }\n21 --> 23\n24[\"Flag Mitochondrial genes\"]@{ shape: process }\n22 --> 24\n5 --> 24\n25[\"Calculate quality metrics\"]@{ shape: process }\n24 --> 25\n26[\"Scatter plot n_genes vs pct_mito\"]@{ shape: process }\n25 --> 26\n27[\"Scatter plot n_counts vs n_genes\"]@{ shape: process }\n25 --> 27\n28[\"Violin plot n_genes, n_counts, pct_mito\"]@{ shape: process }\n25 --> 28\n29[\"Filter cells by min genes expressed\"]@{ shape: process }\n25 --> 29\n16 --> 29\n30[\"Filter cells by max genes expressed\"]@{ shape: process }\n29 --> 30\n17 --> 30\n31[\"Filter cells by percentage of mito genes\"]@{ shape: process }\n30 --> 31\n32[\"Normalize by target sum\"]@{ shape: process }\n31 --> 32\n33[\"Logarithmize\"]@{ shape: process }\n32 --> 33\n34[\"Freeze raw attribute\"]@{ shape: process }\n33 --> 34\n35[\"Annotate highly variable genes\"]@{ shape: process }\n34 --> 35\n36[\"Manipulate AnnData\"]@{ shape: process }\n35 --> 36\n37[\"Plot highly variable\"]@{ shape: process }\n35 --> 37\n38[\"Regress out\"]@{ shape: process }\n36 --> 38\n39[\"Scale data\"]@{ shape: process }\n38 --> 39\n40[\"Compute PCA\"]@{ shape: process }\n39 --> 40\n41[\"Compute Neighborhood graph\"]@{ shape: process }\n40 --> 41\n18 --> 41\n9 --> 41\n42[\"Scanpy plot\"]@{ shape: process }\n40 --> 42\n43[\"Scanpy plot\"]@{ shape: process }\n40 --> 43\n44[\"Scanpy plot\"]@{ shape: process }\n40 --> 44\n45[\"Embed using UMAP\"]@{ shape: process }\n41 --> 45\n46[\"Louvain clustering\"]@{ shape: process }\n45 --> 46\n19 --> 46\n47[\"UMAP of louvain\"]@{ shape: process }\n46 --> 47\n48[\"Rank genes by Wilcoxon test\"]@{ shape: process }\n46 --> 48\n49[\"Inspect AnnData\"]@{ shape: process }\n48 --> 49\n50[\"Inspect clusters\"]@{ shape: process }\n48 --> 50\n51[\"Scanpy plot\"]@{ shape: process }\n48 --> 51\n52[\"Manipulate AnnData\"]@{ shape: process }\n48 --> 52\n12 --> 52\n11 --> 52\n53[\"General information about the final Anndata object\"]@{ shape: process }\n48 --> 53\n54[\"Select top ranked genes\"]@{ shape: process }\n49 --> 54\n55[\"Count number of clusters\"]@{ shape: process }\n49 --> 55\n56[\"Select top ranked genes with louvain\"]@{ shape: process }\n49 --> 56\n57[\"Count number of cells per cluster\"]@{ shape: process }\n50 --> 57\n58[\"Pick parameter value\"]@{ shape: process }\n52 --> 58\n48 --> 58\n59[\"Parse parameter value\"]@{ shape: process }\n54 --> 59\n60[\"Parse parameter value\"]@{ shape: process }\n55 --> 60\n61[\"Parse parameter value\"]@{ shape: process }\n56 --> 61\n62[\"Scanpy plot\"]@{ shape: process }\n58 --> 62\n11 --> 62\n63[\"Violin plot of top genes on clusters\"]@{ shape: process }\n48 --> 63\n59 --> 63\n64[\"Stacked violin of top genes on clusters\"]@{ shape: process }\n48 --> 64\n60 --> 64\n60 --> 64\n60 --> 64\n59 --> 64\n65[\"Dotplot of top genes on clusters\"]@{ shape: process }\n58 --> 65\n60 --> 65\n59 --> 65\n66[\"Heatmap of 20 genes\"]@{ shape: process }\n48 --> 66\n60 --> 66\n60 --> 66\n67[\"UMAP of louvain and top ranked genes\"]@{ shape: process }\n48 --> 67\n61 --> 67\n```\n",
    "updated": "2024-10-09T00:00:00",
    "trsID": "#workflow/github.com/iwc-workflows/scanpy-clustering/main",
    "iwcID": "scanpy-clustering-main",
    "dockstore_id": 30355,
    "categories": [],
    "collections": [
        "Single Cell"
    ],
    "doi": "10.5281/zenodo.15078824",
    "tests": [
        {
            "doc": "Test outline for Preprocessing-and-Clustering-of-single-cell-RNA-seq-data-with-Scanpy",
            "job": {
                "Barcodes": {
                    "class": "File",
                    "location": "https://zenodo.org/record/3581213/files/barcodes.tsv",
                    "filetype": "txt"
                },
                "Genes": {
                    "class": "File",
                    "location": "https://zenodo.org/record/3581213/files/genes.tsv",
                    "filetype": "tabular"
                },
                "Matrix": {
                    "class": "File",
                    "location": "https://zenodo.org/record/3581213/files/matrix.mtx",
                    "filetype": "mtx"
                },
                "Minimum number of cells expressed": 3,
                "Input is from Cell Ranger v2 or earlier versions": true,
                "Mitochondrial genes start with pattern": "MT-",
                "Minimum number of genes expressed": 200,
                "Maximum number of genes expressed": 2500,
                "Number of neighbours for computing neighborhood graph": 10,
                "Number of PCs to use for computing neighborhood graph": 10,
                "Louvain resolution": 0.45,
                "Manually annotate celltypes?": true,
                "Annotate louvain clusters with these cell types": "CD4+ T, CD14+, B, CD8+ T, FCGR3A+, NK, Dendritic, Megakaryocytes"
            },
            "outputs": {
                "Anndata with Celltype Annotation": {
                    "asserts": {
                        "has_h5_keys": {
                            "keys": "uns/rank_genes_groups"
                        }
                    }
                },
                "UMAP of louvain and top ranked genes": {
                    "has_size": {
                        "size": 696399,
                        "delta": 60000
                    },
                    "has_image_width": {
                        "width": 1146,
                        "delta": 60
                    },
                    "has_image_height": {
                        "height": 2099,
                        "delta": 105
                    }
                },
                "Dotplot of top genes on clusters": {
                    "has_size": {
                        "size": 39916,
                        "delta": 3900
                    },
                    "has_image_width": {
                        "width": 535,
                        "delta": 27
                    },
                    "has_image_height": {
                        "height": 379,
                        "delta": 19
                    }
                },
                "Initial Anndata General Info": {
                    "asserts": {
                        "has_text": {
                            "text": "AnnData object with n_obs \u00d7 n_vars = 2700 \u00d7 32738"
                        }
                    }
                },
                "Scatter plot of plot n_counts vs n_genes": {
                    "has_size": {
                        "size": 27381,
                        "delta": 2700
                    },
                    "has_image_width": {
                        "width": 630,
                        "delta": 40
                    },
                    "has_image_height": {
                        "height": 413,
                        "delta": 25
                    }
                },
                "Plot highly variable": {
                    "has_size": {
                        "size": 67135,
                        "delta": 6500
                    },
                    "has_image_width": {
                        "width": 1061,
                        "delta": 50
                    },
                    "has_image_height": {
                        "height": 432,
                        "delta": 27
                    }
                },
                "Plot PCA over view with genes": {
                    "has_size": {
                        "size": 61974,
                        "delta": 600
                    },
                    "has_image_width": {
                        "width": 1158,
                        "delta": 60
                    },
                    "has_image_height": {
                        "height": 409,
                        "delta": 25
                    }
                },
                "UMAP of louvain": {
                    "has_size": {
                        "size": 68416,
                        "delta": 6000
                    },
                    "has_image_width": {
                        "width": 601,
                        "delta": 30
                    },
                    "has_image_height": {
                        "height": 429,
                        "delta": 25
                    }
                },
                "Ranked genes with Wilcoxon test": {
                    "asserts": {
                        "has_line": {
                            "line": "LDHB\tLYZ\tCD74\tCCL5\tLST1\tNKG7\tHLA-DPA1\tPF4"
                        }
                    }
                },
                "Plot Rank gene groups": {
                    "has_size": {
                        "size": 164953,
                        "delta": 16000
                    },
                    "has_image_width": {
                        "width": 1559,
                        "delta": 75
                    },
                    "has_image_height": {
                        "height": 1192,
                        "delta": 50
                    }
                },
                "UMAP with annotated cell types": {
                    "has_size": {
                        "size": 70265,
                        "delta": 7000
                    },
                    "has_image_width": {
                        "width": 535,
                        "delta": 27
                    },
                    "has_image_height": {
                        "height": 429,
                        "delta": 25
                    }
                },
                "Stacked violin of top genes on clusters": {
                    "has_size": {
                        "size": 22147,
                        "delta": 2200
                    },
                    "has_image_width": {
                        "width": 299,
                        "delta": 15
                    },
                    "has_image_height": {
                        "height": 258,
                        "delta": 15
                    }
                },
                "Heatmap of top 20 highly ranked genes": {
                    "has_size": {
                        "size": 162549,
                        "delta": 16000
                    },
                    "has_image_width": {
                        "width": 788,
                        "delta": 40
                    },
                    "has_image_height": {
                        "height": 505,
                        "delta": 25
                    }
                },
                "Scatter plot of n_genes vs pct_mito": {
                    "has_size": {
                        "size": 33175
                    },
                    "has_image_width": {
                        "width": 617,
                        "delta": 30
                    },
                    "has_image_height": {
                        "height": 413,
                        "delta": 20
                    }
                },
                "Violin plot n_genes, n_counts, pct_mito": {
                    "has_size": {
                        "size": 71188
                    },
                    "has_image_width": {
                        "width": 1508,
                        "delta": 75
                    },
                    "has_image_height": {
                        "height": 490,
                        "delta": 25
                    }
                },
                "Anndata with raw attribute": {
                    "asserts": {
                        "has_h5_keys": {
                            "keys": "uns/log1p"
                        }
                    }
                },
                "Plot genes according to contributions to PCs": {
                    "has_size": {
                        "size": 71020,
                        "delta": 7000
                    },
                    "has_image_width": {
                        "width": 1601,
                        "delta": 80
                    },
                    "has_image_height": {
                        "height": 430,
                        "delta": 27
                    }
                },
                "Elbow plot of PCs and variance": {
                    "has_size": {
                        "size": 20174,
                        "delta": 2000
                    },
                    "has_image_width": {
                        "width": 569,
                        "delta": 25
                    },
                    "has_image_height": {
                        "height": 453,
                        "delta": 25
                    }
                },
                "General information about the final Anndata object": {
                    "path": "test-data/General information about the final Anndata object.txt"
                },
                "Number of cells per cluster": {
                    "asserts": {
                        "has_line": {
                            "line": "6\t34"
                        }
                    }
                },
                "Violin plot of top genes on clusters": {
                    "has_size": {
                        "size": 261433,
                        "delta": 26000
                    },
                    "has_image_width": {
                        "width": 5532,
                        "delta": 280
                    },
                    "has_image_height": {
                        "height": 418,
                        "delta": 20
                    }
                }
            }
        }
    ]
}