{
    "name": "main",
    "subclass": "Galaxy",
    "publish": true,
    "primaryDescriptorPath": "/Functional_annotation_of_protein_sequences.ga",
    "testParameterFiles": [
        "/Functional_annotation_of_protein_sequences-tests.yml"
    ],
    "authors": [
        {
            "name": "Romane Libouban",
            "email": "romane.libouban@irisa.fr",
            "orcid": "0009-0001-4920-9951"
        },
        {
            "name": "Anthony Bretaudeau",
            "email": "anthony.bretaudeau@irisa.fr",
            "orcid": "0000-0003-0914-2470"
        }
    ],
    "definition": {
        "a_galaxy_workflow": "true",
        "annotation": "This workflow uses eggNOG mapper and InterProScan for functional annotation of protein sequences.",
        "comments": [
            {
                "child_steps": [
                    1,
                    2
                ],
                "color": "green",
                "data": {
                    "title": "Functional annotation"
                },
                "id": 0,
                "position": [
                    300,
                    0
                ],
                "size": [
                    240,
                    496
                ],
                "type": "frame"
            }
        ],
        "creator": [
            {
                "class": "Person",
                "email": "mailto:romane.libouban@irisa.fr",
                "identifier": "https://orcid.org/0009-0001-4920-9951",
                "name": "Romane Libouban"
            },
            {
                "class": "Person",
                "email": "mailto:anthony.bretaudeau@irisa.fr",
                "identifier": "https://orcid.org/0000-0003-0914-2470",
                "name": "Anthony Bretaudeau"
            }
        ],
        "format-version": "0.1",
        "license": "MIT",
        "release": "0.1",
        "name": "Functional annotation of protein sequences",
        "steps": {
            "0": {
                "annotation": "This workflow uses eggNOG mapper and Interproscan for functional annotation of protein sequences.",
                "content_id": null,
                "errors": null,
                "id": 0,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "This workflow uses eggNOG mapper and Interproscan for functional annotation of protein sequences.",
                        "name": "input"
                    }
                ],
                "label": "input",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 0,
                    "top": 0
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"tag\": null}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "fb78bb38-ab6a-4676-98c5-5d3be83e7474",
                "when": null,
                "workflow_outputs": []
            },
            "1": {
                "annotation": "InterProScan is a tool that analyses each protein sequence from our annotation to determine if they contain one or several of the signatures from InterPro.",
                "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/interproscan/interproscan/5.59-91.0+galaxy3",
                "errors": null,
                "id": 1,
                "input_connections": {
                    "input": {
                        "id": 0,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": "InterProScan",
                "name": "InterProScan",
                "outputs": [
                    {
                        "name": "outfile_tsv",
                        "type": "tabular"
                    },
                    {
                        "name": "outfile_xml",
                        "type": "xml"
                    }
                ],
                "position": {
                    "left": 162.5,
                    "top": 279.5
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/interproscan/interproscan/5.59-91.0+galaxy3",
                "tool_shed_repository": {
                    "changeset_revision": "74810db257cc",
                    "name": "interproscan",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"applications\": [\"TIGRFAM\", \"FunFam\", \"SFLD\", \"SUPERFAMILY\", \"PANTHER\", \"Gene3D\", \"Hamap\", \"PrositeProfiles\", \"Coils\", \"SMART\", \"CDD\", \"PRINTS\", \"PIRSR\", \"PrositePatterns\", \"AntiFam\", \"Pfam\", \"MobiDBLite\", \"PIRSF\"], \"chromInfo\": \"/shared/ifbstor1/galaxy/mutable-config/tool-data/shared/ucsc/chrom/?.len\", \"database\": \"5.59-91.0\", \"goterms\": true, \"input\": {\"__class__\": \"ConnectedValue\"}, \"iprlookup\": false, \"licensed\": {\"use\": \"false\", \"__current_case__\": 1, \"applications_licensed\": [\"Phobius\", \"SignalP_EUK\", \"TMHMM\"]}, \"oformat\": [\"TSV\", \"XML\"], \"pathways\": true, \"seqtype\": \"p\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "5.59-91.0+galaxy3",
                "type": "tool",
                "uuid": "36d72511-ef8c-42ab-8944-b7aef340a9bc",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "interproscan xml",
                        "output_name": "outfile_xml",
                        "uuid": "bef32b2c-0065-4854-9e5a-898e689d559c"
                    },
                    {
                        "label": "interproscan tabular",
                        "output_name": "outfile_tsv",
                        "uuid": "d58da4b2-4c05-491f-8509-609184241715"
                    }
                ]
            },
            "2": {
                "annotation": "EggNOG Mapper compares each protein sequence of the annotation to a huge set of ortholog groups from the eggNOG database.",
                "content_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/eggnog_mapper/eggnog_mapper/2.1.8+galaxy4",
                "errors": null,
                "id": 2,
                "input_connections": {
                    "ortho_method|input": {
                        "id": 0,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": "eggNOG Mapper",
                "name": "eggNOG Mapper",
                "outputs": [
                    {
                        "name": "seed_orthologs",
                        "type": "tabular"
                    },
                    {
                        "name": "annotations",
                        "type": "tabular"
                    }
                ],
                "position": {
                    "left": 340,
                    "top": 52
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/eggnog_mapper/eggnog_mapper/2.1.8+galaxy4",
                "tool_shed_repository": {
                    "changeset_revision": "d9c3016f7283",
                    "name": "eggnog_mapper",
                    "owner": "galaxyp",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__input_ext\": \"input\", \"annotation_options\": {\"no_annot\": \"\", \"__current_case__\": 0, \"seed_ortholog_evalue\": \"0.001\", \"seed_ortholog_score\": null, \"tax_scope\": null, \"target_orthologs\": \"all\", \"go_evidence\": \"non-electronic\"}, \"chromInfo\": \"/shared/ifbstor1/galaxy/mutable-config/tool-data/shared/ucsc/chrom/?.len\", \"eggnog_data\": \"5.0.2\", \"ortho_method\": {\"m\": \"diamond\", \"__current_case__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}, \"input_trans\": {\"itype\": \"proteins\", \"__current_case__\": 0}, \"matrix_gapcosts\": {\"matrix\": \"BLOSUM62\", \"__current_case__\": 2, \"gap_costs\": \"--gapopen 11 --gapextend 1\"}, \"sensmode\": \"sensitive\", \"dmnd_iterate\": false, \"dmnd_ignore_warnings\": false, \"query_cover\": null, \"subject_cover\": null, \"pident\": null, \"evalue\": null, \"score\": \"0.001\"}, \"output_options\": {\"no_file_comments\": false, \"report_orthologs\": false, \"md5\": false}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.1.8+galaxy4",
                "type": "tool",
                "uuid": "76b27114-c49f-41b8-9333-91953729dee3",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "eggNOG Mapper annotations",
                        "output_name": "annotations",
                        "uuid": "25a1e387-baa5-48b6-b142-198bec95463e"
                    },
                    {
                        "label": "eggNOG Mapper seed_orthologs",
                        "output_name": "seed_orthologs",
                        "uuid": "47ac8226-b800-479f-a6f0-f882bafc33d7"
                    }
                ]
            }
        },
        "tags": [],
        "uuid": "4cbba315-c9bc-4895-aeeb-57dadef3542a",
        "version": 2
    },
    "workflow_job_input": {
        "input": {
            "class": "File",
            "path": "todo_test_data_path.ext"
        }
    },
    "readme": "# Functional annotation of protein sequences Workflow\n\nThis workflow uses eggNOG mapper and Interproscan for functional annotation of protein sequences.\nIt can be used on proteins from any organism.\n\nEggNOG Mapper compares each protein sequence of the annotation to a huge set of ortholog groups from the eggNOG database. In this database, each ortholog group is associated with functional annotation like Gene Ontology (GO) terms or KEGG pathways. When the protein sequence of a new gene is found to be very similar to one of these ortholog groups, the corresponding functional annotation is transfered to this new gene.\n\nInterProScan is a tool that analyses each protein sequence from our annotation to determine if they contain one or several of the signatures from InterPro. When a protein contains a known signature, the corresponding functional annotation will be assigned to it by InterProScan.\n\n## Input dataset\nThis workflow requires only a input file: a protein sequences file in fasta format.\n\n\n## Outputs for eggNOG Mapper\nThe output of this tool is a tabular file, where each line represents a gene from our annotation, with the functional annotation that was found by EggNOG-mapper. It includes a predicted protein name, GO terms, EC numbers, KEGG identifiers, etc.\n\n## Outputs for Interproscan\nThe output of this tool is both a tabular file and an XML file. Both contain the same information, but the tabular one is more readable for a Human: each line represents a gene from our annotation, with the different domains and motifs that were found by InterProScan.\n\nEach line correspond to a motif found in one of the annotated proteins. The most interesting columns are:\n- Column 1: the protein identifier\n- Column 5: the identifier of the signature that was found in the protein sequence\n- Column 4: the databank where this signature comes from (InterProScan regroups several motifs databanks)\n- Column 6: the human readable description of the motif\n- Columns 7 and 8: the position where the motif was found\n- Column 9: a score for the match (if available)\n- Column 12 and 13: identifier of the signature integrated in InterPro (if available). Have a look an example webpage for IPR036859 on InterPro.\n- The following columns contains various identifiers that were assigned to the protein based on the match with the signature (Gene ontology term, Reactome, \u2026)\n",
    "changelog": "# Changelog\n\n## [0.1] - 2024-12-04\n\nInitial version of the Functional annotation of protein sequence Workflow.\n",
    "diagrams": "# Workflow diagrams\n\n## Functional annotation of protein sequences\n\n```mermaid\ngraph LR\n0[\"\u2139\ufe0f input\"]@{ shape: doc }\n1[\"InterProScan\"]@{ shape: process }\n0 --> 1\n2[\"eggNOG Mapper\"]@{ shape: process }\n0 --> 2\n```\n",
    "diagram_svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 700 350\" role=\"img\" aria-label=\"Functional annotation of protein sequences workflow diagram\">\n  <title>Functional annotation of protein sequences</title>\n  <desc>Functional annotation using eggNOG Mapper and InterProScan for protein sequence analysis</desc>\n  <defs>\n    <pattern id=\"grid\" width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\">\n      <path d=\"M 20 0 L 0 0 0 20\" fill=\"none\" stroke=\"#c5d5e4\" stroke-width=\"0.5\"/>\n    </pattern>\n    <pattern id=\"grid-major\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\">\n      <rect width=\"100\" height=\"100\" fill=\"url(#grid)\"/>\n      <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#b0c4d8\" stroke-width=\"1\"/>\n    </pattern>\n    <style>\n      .connection { stroke: #25537b; stroke-width: 4; fill: none; stroke-linecap: round; }\n      .connection-qc { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; stroke-dasharray: 5 3; }\n      .connection-secondary { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; }\n      .node-card { filter: drop-shadow(1px 2px 3px rgba(0,0,0,0.15)); }\n    </style>\n  </defs>\n  <rect width=\"700\" height=\"350\" fill=\"#f8f9fa\"/>\n  <rect width=\"700\" height=\"350\" fill=\"url(#grid-major)\"/>\n  <rect x=\"0\" y=\"0\" width=\"700\" height=\"45\" fill=\"#25537b\"/>\n  <text x=\"20\" y=\"28\" font-family=\"system-ui, sans-serif\" font-size=\"16\" font-weight=\"600\" fill=\"white\">Functional Annotation of Protein Sequences</text>\n\n  <!-- Connections -->\n  <!-- Input to eggNOG -->\n  <path class=\"connection\" d=\"M 210 135 C 270 135, 290 110, 330 110\"/>\n  <!-- Input to InterProScan -->\n  <path class=\"connection\" d=\"M 210 155 C 270 155, 290 230, 330 230\"/>\n  <!-- eggNOG to outputs -->\n  <path class=\"connection\" d=\"M 530 110 C 565 110, 575 110, 590 110\"/>\n  <!-- InterProScan to outputs -->\n  <path class=\"connection\" d=\"M 530 230 C 565 230, 575 230, 590 230\"/>\n\n  <!-- Input Node: Protein sequences -->\n  <g class=\"node-card\" transform=\"translate(30, 100)\">\n    <rect width=\"180\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"180\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"24\" width=\"180\" height=\"4\" fill=\"#ffd700\"/>\n    <text x=\"12\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"#2C3143\">Protein sequences</text>\n    <text x=\"12\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">Predicted proteins from</text>\n    <text x=\"12\" y=\"68\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">genome annotation</text>\n    <circle cx=\"180\" cy=\"45\" r=\"6\" fill=\"#ffd700\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Processing Node: eggNOG Mapper -->\n  <g class=\"node-card\" transform=\"translate(330, 70)\">\n    <rect width=\"200\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"200\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"12\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">eggNOG Mapper</text>\n    <text x=\"12\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">Ortholog-based annotation</text>\n    <text x=\"12\" y=\"68\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">GO terms, KEGG, COG</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Processing Node: InterProScan -->\n  <g class=\"node-card\" transform=\"translate(330, 190)\">\n    <rect width=\"200\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"200\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"12\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">InterProScan</text>\n    <text x=\"12\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">Domain/signature analysis</text>\n    <text x=\"12\" y=\"68\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">Pfam, PANTHER, CDD, etc.</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Output Node: eggNOG annotations -->\n  <g class=\"node-card\" transform=\"translate(580, 85)\">\n    <rect width=\"110\" height=\"50\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"110\" height=\"28\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"24\" width=\"110\" height=\"4\" fill=\"#f97316\"/>\n    <text x=\"8\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\">Annotations</text>\n    <circle cx=\"0\" cy=\"25\" r=\"6\" fill=\"#f97316\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Output Node: InterProScan results -->\n  <g class=\"node-card\" transform=\"translate(580, 205)\">\n    <rect width=\"110\" height=\"50\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"110\" height=\"28\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"24\" width=\"110\" height=\"4\" fill=\"#f97316\"/>\n    <text x=\"8\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\">Domain Results</text>\n    <circle cx=\"0\" cy=\"25\" r=\"6\" fill=\"#f97316\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Legend -->\n  <g transform=\"translate(20, 325)\">\n    <rect x=\"0\" y=\"-4\" width=\"12\" height=\"12\" rx=\"2\" fill=\"#ffd700\"/>\n    <text x=\"16\" y=\"6\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\">Input</text>\n    <line x1=\"60\" y1=\"2\" x2=\"90\" y2=\"2\" stroke=\"#25537b\" stroke-width=\"3\"/>\n    <text x=\"95\" y=\"6\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\">Data flow</text>\n    <rect x=\"160\" y=\"-4\" width=\"12\" height=\"12\" rx=\"2\" fill=\"#f97316\"/>\n    <text x=\"176\" y=\"6\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\">Output</text>\n  </g>\n</svg>\n",
    "updated": "2024-12-04T00:00:00",
    "trsID": "#workflow/github.com/iwc-workflows/functional-annotation-protein-sequences/main",
    "iwcID": "functional-annotation-protein-sequences-main",
    "dockstore_id": 30414,
    "categories": [],
    "collections": [
        "Genome Annotation"
    ],
    "doi": "10.5281/zenodo.15078818",
    "tests": [
        {
            "doc": "Test outline for Functional_annotation_of_protein_sequences.ga",
            "job": {
                "input": {
                    "class": "File",
                    "location": "https://zenodo.org/record/8414802/files/protein_sequences.fasta?download=1",
                    "filetype": "fasta",
                    "hashes": [
                        {
                            "hash_function": "SHA-1",
                            "hash_value": "0e1026d6917ac03bcd174a85b18e69c2a6470f98"
                        }
                    ]
                }
            },
            "outputs": {
                "eggNOG Mapper seed_orthologs": {
                    "location": "https://zenodo.org/records/13951790/files/eggNOG_Mapper_seed_orthologs.tabular?download=1&preview=1",
                    "compare": "sim_size",
                    "delta": 50000
                },
                "eggNOG Mapper annotations": {
                    "location": "https://zenodo.org/records/13951790/files/eggNOG_Mapper_annot.tabular?download=1&preview=1",
                    "compare": "sim_size",
                    "delta": 100000
                },
                "interproscan xml": {
                    "location": "https://zenodo.org/records/13951790/files/interProScan.xml?download=1&preview=1",
                    "compare": "sim_size",
                    "delta": 7000000
                },
                "interproscan tabular": {
                    "location": "https://zenodo.org/records/13951790/files/interProScan.tabular?download=1&preview=1",
                    "compare": "sim_size",
                    "delta": 2000000
                }
            }
        }
    ]
}