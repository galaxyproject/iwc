{
    "name": "main",
    "subclass": "Galaxy",
    "publish": true,
    "primaryDescriptorPath": "/Assembly-polishing-with-long-reads.ga",
    "testParameterFiles": [
        "/Assembly-polishing-with-long-reads-tests.yml"
    ],
    "authors": [
        {
            "name": "Anna Syme",
            "orcid": "0000-0002-9906-0673"
        }
    ],
    "definition": {
        "a_galaxy_workflow": "true",
        "annotation": "Racon polish with long reads, x4",
        "creator": [
            {
                "class": "Person",
                "identifier": "https://orcid.org/0000-0002-9906-0673",
                "name": "Anna Syme"
            }
        ],
        "format-version": "0.1",
        "release": "0.1",
        "license": "MIT",
        "name": "Assembly polishing with long reads",
        "steps": {
            "0": {
                "annotation": "",
                "content_id": null,
                "errors": null,
                "id": 0,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "",
                        "name": "Assembly to be polished"
                    }
                ],
                "label": "Assembly to be polished",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 0,
                    "top": 216.625
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"tag\": null}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "c7796c36-adf8-49e4-a8e4-66e606d70311",
                "when": null,
                "workflow_outputs": []
            },
            "1": {
                "annotation": "",
                "content_id": null,
                "errors": null,
                "id": 1,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "",
                        "name": "long reads"
                    }
                ],
                "label": "long reads",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 4.5,
                    "top": 360.234375
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"tag\": null}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "e2e4a70b-6e36-4b8b-bdf6-12b97189a6bd",
                "when": null,
                "workflow_outputs": []
            },
            "2": {
                "annotation": "",
                "content_id": null,
                "errors": null,
                "id": 2,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "",
                        "name": "minimap setting (for long reads) "
                    }
                ],
                "label": "minimap setting (for long reads) ",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 0.578125,
                    "top": 496.10504150390625
                },
                "tool_id": null,
                "tool_state": "{\"suggestions\": [\"map-ont\", \"map-pb\", \"map-hifi\"], \"parameter_type\": \"text\", \"optional\": false}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "fb80c05c-08d4-4ac2-b4bf-81ed906e4d72",
                "when": null,
                "workflow_outputs": []
            },
            "3": {
                "annotation": "Map raw reads to assembly; output paf",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.26+galaxy0",
                "errors": null,
                "id": 3,
                "input_connections": {
                    "fastq_input|analysis_type_selector": {
                        "id": 2,
                        "output_name": "output"
                    },
                    "fastq_input|fastq_input1": {
                        "id": 1,
                        "output_name": "output"
                    },
                    "reference_source|ref_file": {
                        "id": 0,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": "Minimap2: map long reads to assembly",
                "name": "Map with minimap2",
                "outputs": [
                    {
                        "name": "alignment_output",
                        "type": "bam"
                    }
                ],
                "position": {
                    "left": 377.640625,
                    "top": 0
                },
                "post_job_actions": {
                    "HideDatasetActionalignment_output": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "alignment_output"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.26+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "be1d967337e4",
                    "name": "minimap2",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__job_resource\": {\"__current_case__\": 0, \"__job_resource__select\": \"no\"}, \"alignment_options\": {\"splicing\": {\"splice_mode\": \"preset\", \"__current_case__\": 0}, \"A\": null, \"B\": null, \"O\": null, \"O2\": null, \"E\": null, \"E2\": null, \"z\": null, \"z2\": null, \"s\": null, \"no_end_flt\": true}, \"fastq_input\": {\"fastq_input_selector\": \"single\", \"__current_case__\": 0, \"fastq_input1\": {\"__class__\": \"ConnectedValue\"}, \"analysis_type_selector\": {\"__class__\": \"ConnectedValue\"}}, \"indexing_options\": {\"H\": false, \"k\": null, \"w\": null, \"I\": null}, \"io_options\": {\"output_format\": \"paf\", \"Q\": false, \"L\": false, \"K\": null, \"cs\": null, \"c\": false, \"eqx\": false, \"Y\": false}, \"mapping_options\": {\"N\": null, \"F\": null, \"f\": null, \"kmer_ocurrence_interval\": {\"interval\": \"\", \"__current_case__\": 1}, \"min_occ_floor\": null, \"q_occ_frac\": \"0.01\", \"g\": null, \"r\": null, \"n\": null, \"m\": null, \"max_chain_skip\": null, \"max_chain_iter\": null, \"X\": false, \"p\": null, \"mask_len\": null}, \"reference_source\": {\"reference_source_selector\": \"history\", \"__current_case__\": 1, \"ref_file\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.26+galaxy0",
                "type": "tool",
                "uuid": "0c06144f-d1ac-4b45-9669-1ddf11fcb06b",
                "when": null,
                "workflow_outputs": []
            },
            "4": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/racon/racon/1.5.0+galaxy1",
                "errors": null,
                "id": 4,
                "input_connections": {
                    "corrected_reads": {
                        "id": 0,
                        "output_name": "output"
                    },
                    "overlaps": {
                        "id": 3,
                        "output_name": "alignment_output"
                    },
                    "reads": {
                        "id": 1,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": "Racon: polish 1",
                "name": "Racon",
                "outputs": [
                    {
                        "name": "consensus",
                        "type": "fasta"
                    }
                ],
                "position": {
                    "left": 440.06805419921875,
                    "top": 598.93798828125
                },
                "post_job_actions": {
                    "HideDatasetActionconsensus": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "consensus"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/racon/racon/1.5.0+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "e100a765370e",
                    "name": "racon",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__job_resource\": {\"__current_case__\": 0, \"__job_resource__select\": \"no\"}, \"corrected_reads\": {\"__class__\": \"ConnectedValue\"}, \"e\": \"0.3\", \"error_threshold\": \"0.3\", \"f\": \"false\", \"fragment_correction\": false, \"g\": \"-8\", \"gap\": \"-4\", \"include_unpolished\": false, \"m\": \"5\", \"match\": \"3\", \"mismatch\": \"-5\", \"no_trimming\": false, \"overlaps\": {\"__class__\": \"ConnectedValue\"}, \"q\": \"10.0\", \"quality_threshold\": \"10.0\", \"reads\": {\"__class__\": \"ConnectedValue\"}, \"u\": \"true\", \"w\": \"500\", \"window_length\": \"500\", \"x\": \"-4\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.5.0+galaxy1",
                "type": "tool",
                "uuid": "6c144354-91f2-49dd-a1f5-7c4119859730",
                "when": null,
                "workflow_outputs": []
            },
            "5": {
                "annotation": "Map raw reads to assembly; output paf",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.26+galaxy0",
                "errors": null,
                "id": 5,
                "input_connections": {
                    "fastq_input|analysis_type_selector": {
                        "id": 2,
                        "output_name": "output"
                    },
                    "fastq_input|fastq_input1": {
                        "id": 1,
                        "output_name": "output"
                    },
                    "reference_source|ref_file": {
                        "id": 4,
                        "output_name": "consensus"
                    }
                },
                "inputs": [],
                "label": "Minimap2: map long reads to polished assembly 1",
                "name": "Map with minimap2",
                "outputs": [
                    {
                        "name": "alignment_output",
                        "type": "bam"
                    }
                ],
                "position": {
                    "left": 721.2265625,
                    "top": 0.6822357177734375
                },
                "post_job_actions": {
                    "HideDatasetActionalignment_output": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "alignment_output"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.26+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "be1d967337e4",
                    "name": "minimap2",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__job_resource\": {\"__current_case__\": 0, \"__job_resource__select\": \"no\"}, \"alignment_options\": {\"splicing\": {\"splice_mode\": \"preset\", \"__current_case__\": 0}, \"A\": null, \"B\": null, \"O\": null, \"O2\": null, \"E\": null, \"E2\": null, \"z\": null, \"z2\": null, \"s\": null, \"no_end_flt\": true}, \"fastq_input\": {\"fastq_input_selector\": \"single\", \"__current_case__\": 0, \"fastq_input1\": {\"__class__\": \"ConnectedValue\"}, \"analysis_type_selector\": {\"__class__\": \"ConnectedValue\"}}, \"indexing_options\": {\"H\": false, \"k\": null, \"w\": null, \"I\": null}, \"io_options\": {\"output_format\": \"paf\", \"Q\": false, \"L\": false, \"K\": null, \"cs\": null, \"c\": false, \"eqx\": false, \"Y\": false}, \"mapping_options\": {\"N\": null, \"F\": null, \"f\": null, \"kmer_ocurrence_interval\": {\"interval\": \"\", \"__current_case__\": 1}, \"min_occ_floor\": null, \"q_occ_frac\": \"0.01\", \"g\": null, \"r\": null, \"n\": null, \"m\": null, \"max_chain_skip\": null, \"max_chain_iter\": null, \"X\": false, \"p\": null, \"mask_len\": null}, \"reference_source\": {\"reference_source_selector\": \"history\", \"__current_case__\": 1, \"ref_file\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.26+galaxy0",
                "type": "tool",
                "uuid": "c1b83dad-a8ed-42cb-951f-73f59f2dfa92",
                "when": null,
                "workflow_outputs": []
            },
            "6": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/racon/racon/1.5.0+galaxy1",
                "errors": null,
                "id": 6,
                "input_connections": {
                    "corrected_reads": {
                        "id": 4,
                        "output_name": "consensus"
                    },
                    "overlaps": {
                        "id": 5,
                        "output_name": "alignment_output"
                    },
                    "reads": {
                        "id": 1,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": "Racon: polish 2",
                "name": "Racon",
                "outputs": [
                    {
                        "name": "consensus",
                        "type": "fasta"
                    }
                ],
                "position": {
                    "left": 759.9375,
                    "top": 485.71875
                },
                "post_job_actions": {
                    "HideDatasetActionconsensus": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "consensus"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/racon/racon/1.5.0+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "e100a765370e",
                    "name": "racon",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__job_resource\": {\"__current_case__\": 0, \"__job_resource__select\": \"no\"}, \"corrected_reads\": {\"__class__\": \"ConnectedValue\"}, \"e\": \"0.3\", \"error_threshold\": \"0.3\", \"f\": \"false\", \"fragment_correction\": false, \"g\": \"-8\", \"gap\": \"-4\", \"include_unpolished\": false, \"m\": \"5\", \"match\": \"3\", \"mismatch\": \"-5\", \"no_trimming\": false, \"overlaps\": {\"__class__\": \"ConnectedValue\"}, \"q\": \"10.0\", \"quality_threshold\": \"10.0\", \"reads\": {\"__class__\": \"ConnectedValue\"}, \"u\": \"true\", \"w\": \"500\", \"window_length\": \"500\", \"x\": \"-4\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.5.0+galaxy1",
                "type": "tool",
                "uuid": "3208491e-b831-4238-957e-5b7388d7ff8d",
                "when": null,
                "workflow_outputs": []
            },
            "7": {
                "annotation": "Map raw reads to assembly; output paf",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.26+galaxy0",
                "errors": null,
                "id": 7,
                "input_connections": {
                    "fastq_input|analysis_type_selector": {
                        "id": 2,
                        "output_name": "output"
                    },
                    "fastq_input|fastq_input1": {
                        "id": 1,
                        "output_name": "output"
                    },
                    "reference_source|ref_file": {
                        "id": 6,
                        "output_name": "consensus"
                    }
                },
                "inputs": [],
                "label": "Minimap2: map long reads to polished assembly 2",
                "name": "Map with minimap2",
                "outputs": [
                    {
                        "name": "alignment_output",
                        "type": "bam"
                    }
                ],
                "position": {
                    "left": 998.75,
                    "top": 27.9375
                },
                "post_job_actions": {
                    "HideDatasetActionalignment_output": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "alignment_output"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.26+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "be1d967337e4",
                    "name": "minimap2",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__job_resource\": {\"__current_case__\": 0, \"__job_resource__select\": \"no\"}, \"alignment_options\": {\"splicing\": {\"splice_mode\": \"preset\", \"__current_case__\": 0}, \"A\": null, \"B\": null, \"O\": null, \"O2\": null, \"E\": null, \"E2\": null, \"z\": null, \"z2\": null, \"s\": null, \"no_end_flt\": true}, \"fastq_input\": {\"fastq_input_selector\": \"single\", \"__current_case__\": 0, \"fastq_input1\": {\"__class__\": \"ConnectedValue\"}, \"analysis_type_selector\": {\"__class__\": \"ConnectedValue\"}}, \"indexing_options\": {\"H\": false, \"k\": null, \"w\": null, \"I\": null}, \"io_options\": {\"output_format\": \"paf\", \"Q\": false, \"L\": false, \"K\": null, \"cs\": null, \"c\": false, \"eqx\": false, \"Y\": false}, \"mapping_options\": {\"N\": null, \"F\": null, \"f\": null, \"kmer_ocurrence_interval\": {\"interval\": \"\", \"__current_case__\": 1}, \"min_occ_floor\": null, \"q_occ_frac\": \"0.01\", \"g\": null, \"r\": null, \"n\": null, \"m\": null, \"max_chain_skip\": null, \"max_chain_iter\": null, \"X\": false, \"p\": null, \"mask_len\": null}, \"reference_source\": {\"reference_source_selector\": \"history\", \"__current_case__\": 1, \"ref_file\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.26+galaxy0",
                "type": "tool",
                "uuid": "42af524b-7f74-4c75-8d78-f6888078dd2e",
                "when": null,
                "workflow_outputs": []
            },
            "8": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/racon/racon/1.5.0+galaxy1",
                "errors": null,
                "id": 8,
                "input_connections": {
                    "corrected_reads": {
                        "id": 6,
                        "output_name": "consensus"
                    },
                    "overlaps": {
                        "id": 7,
                        "output_name": "alignment_output"
                    },
                    "reads": {
                        "id": 1,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": "Racon: polish 3",
                "name": "Racon",
                "outputs": [
                    {
                        "name": "consensus",
                        "type": "fasta"
                    }
                ],
                "position": {
                    "left": 1089.71875,
                    "top": 455.53125
                },
                "post_job_actions": {
                    "HideDatasetActionconsensus": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "consensus"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/racon/racon/1.5.0+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "e100a765370e",
                    "name": "racon",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__job_resource\": {\"__current_case__\": 0, \"__job_resource__select\": \"no\"}, \"corrected_reads\": {\"__class__\": \"ConnectedValue\"}, \"e\": \"0.3\", \"error_threshold\": \"0.3\", \"f\": \"false\", \"fragment_correction\": false, \"g\": \"-8\", \"gap\": \"-4\", \"include_unpolished\": false, \"m\": \"5\", \"match\": \"3\", \"mismatch\": \"-5\", \"no_trimming\": false, \"overlaps\": {\"__class__\": \"ConnectedValue\"}, \"q\": \"10.0\", \"quality_threshold\": \"10.0\", \"reads\": {\"__class__\": \"ConnectedValue\"}, \"u\": \"true\", \"w\": \"500\", \"window_length\": \"500\", \"x\": \"-4\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.5.0+galaxy1",
                "type": "tool",
                "uuid": "21f339bd-ebc1-4c73-a976-5d0b9ab2127a",
                "when": null,
                "workflow_outputs": []
            },
            "9": {
                "annotation": "Map raw reads to assembly; output paf",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.26+galaxy0",
                "errors": null,
                "id": 9,
                "input_connections": {
                    "fastq_input|analysis_type_selector": {
                        "id": 2,
                        "output_name": "output"
                    },
                    "fastq_input|fastq_input1": {
                        "id": 1,
                        "output_name": "output"
                    },
                    "reference_source|ref_file": {
                        "id": 8,
                        "output_name": "consensus"
                    }
                },
                "inputs": [],
                "label": "Minimap2: map long reads to polished assembly 3",
                "name": "Map with minimap2",
                "outputs": [
                    {
                        "name": "alignment_output",
                        "type": "bam"
                    }
                ],
                "position": {
                    "left": 1316.53125,
                    "top": 38.046875
                },
                "post_job_actions": {
                    "HideDatasetActionalignment_output": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "alignment_output"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/minimap2/minimap2/2.26+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "be1d967337e4",
                    "name": "minimap2",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__job_resource\": {\"__current_case__\": 0, \"__job_resource__select\": \"no\"}, \"alignment_options\": {\"splicing\": {\"splice_mode\": \"preset\", \"__current_case__\": 0}, \"A\": null, \"B\": null, \"O\": null, \"O2\": null, \"E\": null, \"E2\": null, \"z\": null, \"z2\": null, \"s\": null, \"no_end_flt\": true}, \"fastq_input\": {\"fastq_input_selector\": \"single\", \"__current_case__\": 0, \"fastq_input1\": {\"__class__\": \"ConnectedValue\"}, \"analysis_type_selector\": {\"__class__\": \"ConnectedValue\"}}, \"indexing_options\": {\"H\": false, \"k\": null, \"w\": null, \"I\": null}, \"io_options\": {\"output_format\": \"paf\", \"Q\": false, \"L\": false, \"K\": null, \"cs\": null, \"c\": false, \"eqx\": false, \"Y\": false}, \"mapping_options\": {\"N\": null, \"F\": null, \"f\": null, \"kmer_ocurrence_interval\": {\"interval\": \"\", \"__current_case__\": 1}, \"min_occ_floor\": null, \"q_occ_frac\": \"0.01\", \"g\": null, \"r\": null, \"n\": null, \"m\": null, \"max_chain_skip\": null, \"max_chain_iter\": null, \"X\": false, \"p\": null, \"mask_len\": null}, \"reference_source\": {\"reference_source_selector\": \"history\", \"__current_case__\": 1, \"ref_file\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.26+galaxy0",
                "type": "tool",
                "uuid": "7d36291e-aa76-4312-9943-b5e56d0e90c5",
                "when": null,
                "workflow_outputs": []
            },
            "10": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/racon/racon/1.5.0+galaxy1",
                "errors": null,
                "id": 10,
                "input_connections": {
                    "corrected_reads": {
                        "id": 8,
                        "output_name": "consensus"
                    },
                    "overlaps": {
                        "id": 9,
                        "output_name": "alignment_output"
                    },
                    "reads": {
                        "id": 1,
                        "output_name": "output"
                    }
                },
                "inputs": [],
                "label": "Racon: polish 4",
                "name": "Racon",
                "outputs": [
                    {
                        "name": "consensus",
                        "type": "fasta"
                    }
                ],
                "position": {
                    "left": 1496.078125,
                    "top": 431.1875
                },
                "post_job_actions": {
                    "RenameDatasetActionconsensus": {
                        "action_arguments": {
                            "newname": "Racon_long_reads_polished_assembly.fasta"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "consensus"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/racon/racon/1.5.0+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "e100a765370e",
                    "name": "racon",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"__job_resource\": {\"__current_case__\": 0, \"__job_resource__select\": \"no\"}, \"corrected_reads\": {\"__class__\": \"ConnectedValue\"}, \"e\": \"0.3\", \"error_threshold\": \"0.3\", \"f\": \"false\", \"fragment_correction\": false, \"g\": \"-8\", \"gap\": \"-4\", \"include_unpolished\": false, \"m\": \"5\", \"match\": \"3\", \"mismatch\": \"-5\", \"no_trimming\": false, \"overlaps\": {\"__class__\": \"ConnectedValue\"}, \"q\": \"10.0\", \"quality_threshold\": \"10.0\", \"reads\": {\"__class__\": \"ConnectedValue\"}, \"u\": \"true\", \"w\": \"500\", \"window_length\": \"500\", \"x\": \"-4\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.5.0+galaxy1",
                "type": "tool",
                "uuid": "53f4572e-3a4a-4585-89ab-9459f8a61720",
                "when": null,
                "workflow_outputs": [
                    {
                        "label": "Assembly polished by long reads using Racon",
                        "output_name": "consensus",
                        "uuid": "bcf0f03c-5951-46a7-aa38-545aed9bc183"
                    }
                ]
            }
        },
        "tags": [],
        "uuid": "68d6270a-bfd1-452a-abc9-4a314e13af85",
        "version": 9
    },
    "workflow_job_input": {
        "Assembly to be polished": {
            "class": "File",
            "path": "todo_test_data_path.ext"
        },
        "long reads": {
            "class": "File",
            "path": "todo_test_data_path.ext"
        },
        "minimap setting (for long reads) ": "todo_param_value"
    },
    "readme": "# Assembly polishing with Racon workflow\n\n## Inputs\n\n- Sequencing reads in format: fastq, fastq.gz, fastqsanger.gz or fastqsanger\n- Genome assembly to be polished, in fasta format\n\n## What does the workflow do\n\n- After long reads have been assembled into a genome (contigs), this can be polished with the same long reads. \n- This workflow uses the tool minimap2 to map the long reads back to the assembly, and then uses Racon to make polishes. \n- This is repeated a further 3 times. \n\nIn more detail:\n\n- minimap2 : long reads are mapped to assembly => overlaps.paf.\n- overaps, long reads, assembly => Racon => polished assembly 1\n- using polished assembly 1 as input; repeat minimap2 + racon => polished assembly 2\n- using polished assembly 2 as input, repeat minimap2 + racon => polished assembly 3\n- using polished assembly 3 as input, repeat minimap2 + racon => polished assembly 4\n\n## Settings\n\n- Run as-is or change parameters at runtime.\n- For the input at \"minimap settings for long reads\", enter (map-pb) for PacBio reads, (map-hifi) for PacBio HiFi reads, or (map-ont) for Oxford Nanopore reads.\n\n## Outputs\n\nThere is one output: the polished assembly in fasta format. \n\n",
    "changelog": "# Changelog\n\n## [0.1] - 2023-07-15\nFirst release.\n",
    "diagrams": "# Workflow diagrams\n\n## Assembly polishing with long reads\n\n```mermaid\ngraph LR\n0[\"\u2139\ufe0f Assembly to be polished\"]@{ shape: doc }\n1[\"\u2139\ufe0f long reads\"]@{ shape: doc }\n2[\"\u2139\ufe0f minimap setting (for long reads) \"]@{ shape: lean-l }\n3[\"Minimap2: map long reads to assembly\"]@{ shape: process }\n2 --> 3\n1 --> 3\n0 --> 3\n4[\"Racon: polish 1\"]@{ shape: process }\n0 --> 4\n3 --> 4\n1 --> 4\n5[\"Minimap2: map long reads to polished assembly 1\"]@{ shape: process }\n2 --> 5\n1 --> 5\n4 --> 5\n6[\"Racon: polish 2\"]@{ shape: process }\n4 --> 6\n5 --> 6\n1 --> 6\n7[\"Minimap2: map long reads to polished assembly 2\"]@{ shape: process }\n2 --> 7\n1 --> 7\n6 --> 7\n8[\"Racon: polish 3\"]@{ shape: process }\n6 --> 8\n7 --> 8\n1 --> 8\n9[\"Minimap2: map long reads to polished assembly 3\"]@{ shape: process }\n2 --> 9\n1 --> 9\n8 --> 9\n10[\"Racon: polish 4\"]@{ shape: process }\n8 --> 10\n9 --> 10\n1 --> 10\n```\n",
    "diagram_svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 880 360\" role=\"img\" aria-label=\"Assembly polishing with long reads workflow diagram\">\n  <title>Assembly polishing with long reads</title>\n  <desc>Racon polish with long reads, four iterative rounds of Minimap2 alignment and Racon polishing</desc>\n  <defs>\n    <pattern id=\"grid\" width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\">\n      <path d=\"M 20 0 L 0 0 0 20\" fill=\"none\" stroke=\"#c5d5e4\" stroke-width=\"0.5\"/>\n    </pattern>\n    <pattern id=\"grid-major\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\">\n      <rect width=\"100\" height=\"100\" fill=\"url(#grid)\"/>\n      <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#b0c4d8\" stroke-width=\"1\"/>\n    </pattern>\n    <style>\n      .connection { stroke: #25537b; stroke-width: 4; fill: none; stroke-linecap: round; }\n      .connection-qc { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; stroke-dasharray: 5 3; }\n      .connection-secondary { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; }\n      .node-card { filter: drop-shadow(1px 2px 3px rgba(0,0,0,0.15)); }\n    </style>\n  </defs>\n  <rect width=\"880\" height=\"360\" fill=\"#f8f9fa\"/>\n  <rect width=\"880\" height=\"360\" fill=\"url(#grid-major)\"/>\n  <rect x=\"0\" y=\"0\" width=\"880\" height=\"45\" fill=\"#25537b\"/>\n  <text x=\"20\" y=\"28\" font-family=\"system-ui, sans-serif\" font-size=\"16\" font-weight=\"600\" fill=\"white\">Assembly Polishing with Long Reads</text>\n\n  <!-- Connections -->\n  <!-- Assembly to Minimap2 -->\n  <path class=\"connection\" d=\"M 200 115 C 255 115, 265 105, 310 105\"/>\n  <!-- Long reads to Minimap2 -->\n  <path class=\"connection\" d=\"M 200 215 C 245 215, 265 120, 310 120\"/>\n  <!-- Long reads to Racon (repeated for all 4) -->\n  <path class=\"connection-secondary\" d=\"M 200 225 C 260 225, 270 215, 310 215\"/>\n  <!-- Minimap2 to Racon -->\n  <path class=\"connection\" d=\"M 510 115 C 530 115, 520 200, 310 200\"/>\n  <!-- Assembly to Racon -->\n  <path class=\"connection\" d=\"M 200 125 C 240 125, 270 185, 310 185\"/>\n\n  <!-- Racon to iterative block -->\n  <path class=\"connection\" d=\"M 510 200 C 550 200, 555 155, 570 155\"/>\n  <!-- Iterative block to output -->\n  <path class=\"connection\" d=\"M 720 155 C 755 155, 760 155, 770 155\"/>\n\n  <!-- Input Node: Assembly -->\n  <g class=\"node-card\" transform=\"translate(20, 70)\">\n    <rect width=\"180\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"180\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"24\" width=\"180\" height=\"4\" fill=\"#ffd700\"/>\n    <text x=\"12\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"#2C3143\">Assembly to polish</text>\n    <text x=\"12\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">Draft genome assembly</text>\n    <text x=\"12\" y=\"68\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">FASTA</text>\n    <circle cx=\"180\" cy=\"45\" r=\"6\" fill=\"#ffd700\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Input Node: Long reads -->\n  <g class=\"node-card\" transform=\"translate(20, 170)\">\n    <rect width=\"180\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"180\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"24\" width=\"180\" height=\"4\" fill=\"#ffd700\"/>\n    <text x=\"12\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"#2C3143\">Long reads</text>\n    <text x=\"12\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">Raw long reads</text>\n    <text x=\"12\" y=\"68\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">FASTQ</text>\n    <circle cx=\"180\" cy=\"45\" r=\"6\" fill=\"#ffd700\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Processing Node: Minimap2 -->\n  <g class=\"node-card\" transform=\"translate(310, 70)\">\n    <rect width=\"200\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"200\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"12\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">Minimap2</text>\n    <text x=\"12\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">Map reads to assembly</text>\n    <text x=\"12\" y=\"68\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">PAF alignment</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Processing Node: Racon -->\n  <g class=\"node-card\" transform=\"translate(310, 170)\">\n    <rect width=\"200\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"200\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"200\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"12\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">Racon</text>\n    <text x=\"12\" y=\"52\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">Consensus polishing</text>\n    <text x=\"12\" y=\"68\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\">Error correction</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n    <circle cx=\"200\" cy=\"45\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Iterative block indicator -->\n  <g transform=\"translate(570, 100)\">\n    <rect width=\"150\" height=\"110\" rx=\"8\" fill=\"none\" stroke=\"#25537b\" stroke-width=\"2\" stroke-dasharray=\"8 4\"/>\n    <text x=\"75\" y=\"45\" font-family=\"system-ui, sans-serif\" font-size=\"12\" font-weight=\"600\" fill=\"#25537b\" text-anchor=\"middle\">Repeat x4</text>\n    <text x=\"75\" y=\"65\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\" text-anchor=\"middle\">Minimap2 + Racon</text>\n    <text x=\"75\" y=\"82\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#868e96\" text-anchor=\"middle\">iterative polishing</text>\n    <circle cx=\"150\" cy=\"55\" r=\"6\" fill=\"#25537b\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Output Node -->\n  <g class=\"node-card\" transform=\"translate(750, 130)\">\n    <rect width=\"120\" height=\"50\" rx=\"4\" fill=\"white\" stroke=\"#e0e0e0\" stroke-width=\"1\"/>\n    <rect width=\"120\" height=\"28\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"24\" width=\"120\" height=\"4\" fill=\"#f97316\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\">Polished Assembly</text>\n    <circle cx=\"0\" cy=\"25\" r=\"6\" fill=\"#f97316\" stroke=\"white\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Legend -->\n  <g transform=\"translate(20, 335)\">\n    <rect x=\"0\" y=\"-4\" width=\"12\" height=\"12\" rx=\"2\" fill=\"#ffd700\"/>\n    <text x=\"16\" y=\"6\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\">Input</text>\n    <line x1=\"60\" y1=\"2\" x2=\"90\" y2=\"2\" stroke=\"#25537b\" stroke-width=\"3\"/>\n    <text x=\"95\" y=\"6\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\">Data flow</text>\n    <rect x=\"160\" y=\"-4\" width=\"12\" height=\"12\" rx=\"2\" fill=\"#f97316\"/>\n    <text x=\"176\" y=\"6\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\">Output</text>\n    <rect x=\"220\" y=\"-8\" width=\"60\" height=\"18\" rx=\"4\" fill=\"none\" stroke=\"#25537b\" stroke-width=\"1.5\" stroke-dasharray=\"4 3\"/>\n    <text x=\"290\" y=\"6\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#495057\">Iterative</text>\n  </g>\n</svg>\n",
    "updated": "2023-07-15T00:00:00",
    "trsID": "#workflow/github.com/iwc-workflows/polish-with-long-reads/main",
    "iwcID": "polish-with-long-reads-main",
    "dockstore_id": 23536,
    "categories": [],
    "collections": [
        "Genome assembly"
    ],
    "doi": "10.5281/zenodo.15078869",
    "tests": [
        {
            "doc": "Test outline for Assembly-polishing-with-long-reads",
            "job": {
                "Assembly to be polished": {
                    "class": "File",
                    "filetype": "fasta",
                    "hashes": [
                        {
                            "hash_function": "SHA-1",
                            "hash_value": "3de02c8cb8b7dfc02428093c08c4bba63b966bcb"
                        }
                    ],
                    "location": "https://raw.githubusercontent.com/galaxyproject/iwc/main/workflows/genome-assembly/polish-with-long-reads/test-data/assembly.fasta"
                },
                "long reads": {
                    "class": "File",
                    "filetype": "fastqsanger.gz",
                    "hashes": [
                        {
                            "hash_function": "SHA-1",
                            "hash_value": "18f30f2a901e027bb3b8e9d99a102b15c2648477"
                        }
                    ],
                    "location": "https://raw.githubusercontent.com/galaxyproject/iwc/main/workflows/genome-assembly/polish-with-long-reads/test-data/long_reads.fastqsanger.gz"
                },
                "minimap setting (for long reads) ": "map-ont"
            },
            "outputs": {
                "Assembly polished by long reads using Racon": {
                    "path": "test-data/assembly_polished_by_long_reads.fasta",
                    "compare": "sim_size",
                    "delta_frac": 0.2
                }
            }
        }
    ]
}