{
    "name": "main",
    "subclass": "Galaxy",
    "publish": true,
    "primaryDescriptorPath": "/Generic-variation-analysis-on-WGS-PE-data.ga",
    "testParameterFiles": [
        "/Generic-variation-analysis-on-WGS-PE-data-tests.yml"
    ],
    "authors": [
        {
            "name": "Anton Nekrutenko",
            "orcid": "0000-0002-5987-8032"
        }
    ],
    "definition": {
        "a_galaxy_workflow": "true",
        "annotation": "Workflow for variant analysis against  a reference genome in GenBank format",
        "creator": [
            {
                "class": "Person",
                "identifier": "https://orcid.org/0000-0002-5987-8032",
                "name": "Anton Nekrutenko"
            }
        ],
        "format-version": "0.1",
        "release": "0.1.1",
        "license": "MIT",
        "name": "Generic variation analysis on WGS PE data",
        "steps": {
            "0": {
                "annotation": "Illumina reads with fastqsanger encoding",
                "content_id": null,
                "errors": null,
                "id": 0,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Illumina reads with fastqsanger encoding",
                        "name": "Paired Collection"
                    }
                ],
                "label": "Paired Collection",
                "name": "Input dataset collection",
                "outputs": [],
                "position": {
                    "left": 58.531223149503546,
                    "top": 300.6406189710691
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"format\": [\"fastqsanger\", \"fastqsanger.gz\"], \"tag\": \"\", \"collection_type\": \"list:paired\"}",
                "tool_version": null,
                "type": "data_collection_input",
                "uuid": "2352cd98-29f2-456b-a807-ede1227f6089",
                "workflow_outputs": []
            },
            "1": {
                "annotation": "GenBank with annotations for the genome of interest",
                "content_id": null,
                "errors": null,
                "id": 1,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "GenBank with annotations for the genome of interest",
                        "name": "GenBank genome"
                    }
                ],
                "label": "GenBank genome",
                "name": "Input dataset",
                "outputs": [],
                "position": {
                    "left": 0,
                    "top": 631.656273804954
                },
                "tool_id": null,
                "tool_state": "{\"optional\": false, \"format\": [\"genbank\"], \"tag\": \"\"}",
                "tool_version": null,
                "type": "data_input",
                "uuid": "5e6e8cac-8a75-42e8-9932-6c63bcebb861",
                "workflow_outputs": []
            },
            "2": {
                "annotation": "Should describe your reference genome, e.g. mpxv for Monkeypox virus.",
                "content_id": null,
                "errors": null,
                "id": 2,
                "input_connections": {},
                "inputs": [
                    {
                        "description": "Should describe your reference genome, e.g. mpxv for Monkeypox virus.",
                        "name": "Name for genome database"
                    }
                ],
                "label": "Name for genome database",
                "name": "Input parameter",
                "outputs": [],
                "position": {
                    "left": 20.98434665780934,
                    "top": 745.593744965532
                },
                "tool_id": null,
                "tool_state": "{\"parameter_type\": \"text\", \"optional\": false}",
                "tool_version": null,
                "type": "parameter_input",
                "uuid": "7e5e0a5f-4386-44cb-8941-f04ec7d8b725",
                "workflow_outputs": [
                    {
                        "label": null,
                        "output_name": "output",
                        "uuid": "a543d03c-6cc6-4d50-8dee-ec7a839b16b9"
                    }
                ]
            },
            "3": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/fastp/fastp/0.23.2+galaxy0",
                "errors": null,
                "id": 3,
                "input_connections": {
                    "single_paired|paired_input": {
                        "id": 0,
                        "output_name": "output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool fastp",
                        "name": "single_paired"
                    }
                ],
                "label": null,
                "name": "fastp",
                "outputs": [
                    {
                        "name": "output_paired_coll",
                        "type": "input"
                    },
                    {
                        "name": "report_html",
                        "type": "html"
                    },
                    {
                        "name": "report_json",
                        "type": "json"
                    }
                ],
                "position": {
                    "left": 325.0155944202679,
                    "top": 95.51562991016024
                },
                "post_job_actions": {
                    "HideDatasetActionreport_json": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "report_json"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/fastp/fastp/0.23.2+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "65b93b623c77",
                    "name": "fastp",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"filter_options\": {\"quality_filtering_options\": {\"disable_quality_filtering\": \"false\", \"qualified_quality_phred\": null, \"unqualified_percent_limit\": null, \"n_base_limit\": null}, \"length_filtering_options\": {\"disable_length_filtering\": \"false\", \"length_required\": null, \"length_limit\": null}, \"low_complexity_filter\": {\"enable_low_complexity_filter\": \"false\", \"complexity_threshold\": null}}, \"output_options\": {\"report_html\": \"true\", \"report_json\": \"true\"}, \"overrepresented_sequence_analysis\": {\"overrepresentation_analysis\": \"false\", \"overrepresentation_sampling\": null}, \"read_mod_options\": {\"polyg_tail_trimming\": {\"trimming_select\": \"\", \"__current_case__\": 1, \"poly_g_min_len\": null}, \"polyx_tail_trimming\": {\"polyx_trimming_select\": \"\", \"__current_case__\": 1}, \"umi_processing\": {\"umi\": \"false\", \"umi_loc\": \"\", \"umi_len\": null, \"umi_prefix\": \"\"}, \"cutting_by_quality_options\": {\"cut_by_quality5\": \"false\", \"cut_by_quality3\": \"false\", \"cut_window_size\": null, \"cut_mean_quality\": null}, \"base_correction_options\": {\"correction\": \"false\"}}, \"single_paired\": {\"single_paired_selector\": \"paired_collection\", \"__current_case__\": 2, \"paired_input\": {\"__class__\": \"RuntimeValue\"}, \"adapter_trimming_options\": {\"disable_adapter_trimming\": \"false\", \"adapter_sequence1\": \"\", \"adapter_sequence2\": \"\"}, \"global_trimming_options\": {\"trim_front1\": null, \"trim_tail1\": null, \"trim_front2\": null, \"trim_tail2\": null}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.23.2+galaxy0",
                "type": "tool",
                "uuid": "6410c94d-827d-4d1b-b15d-be13df2db0ac",
                "workflow_outputs": [
                    {
                        "label": "fastp_pe",
                        "output_name": "output_paired_coll",
                        "uuid": "c49d5f48-ab0e-4f59-8b2f-27b3a8f65609"
                    },
                    {
                        "label": "fastp_html_report",
                        "output_name": "report_html",
                        "uuid": "c77d6708-0d13-4f9f-aed8-b3e30de5bafa"
                    }
                ]
            },
            "4": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snpeff/snpEff_build_gb/4.3+T.galaxy4",
                "errors": null,
                "id": 4,
                "input_connections": {
                    "genome_version": {
                        "id": 2,
                        "output_name": "output"
                    },
                    "input_type|input_gbk": {
                        "id": 1,
                        "output_name": "output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool SnpEff build:",
                        "name": "input_type"
                    }
                ],
                "label": null,
                "name": "SnpEff build:",
                "outputs": [
                    {
                        "name": "snpeff_output",
                        "type": "snpeffdb"
                    },
                    {
                        "name": "output_fasta",
                        "type": "fasta"
                    }
                ],
                "position": {
                    "left": 289.04683721041243,
                    "top": 692.6562509323089
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snpeff/snpEff_build_gb/4.3+T.galaxy4",
                "tool_shed_repository": {
                    "changeset_revision": "74aebe30fb52",
                    "name": "snpeff",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"codon_table\": \"Standard\", \"genome_version\": {\"__class__\": \"ConnectedValue\"}, \"input_type\": {\"input_type_selector\": \"gb\", \"__current_case__\": 0, \"input_gbk\": {\"__class__\": \"RuntimeValue\"}, \"fasta\": \"yes\", \"remove_version\": \"true\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "4.3+T.galaxy4",
                "type": "tool",
                "uuid": "1406c6b2-51c9-47f7-9f9d-190c0e9ad515",
                "workflow_outputs": [
                    {
                        "label": "SnpEff4.3 database",
                        "output_name": "snpeff_output",
                        "uuid": "c43258f1-ae40-45d9-a559-a7e20f2ac107"
                    },
                    {
                        "label": "Fasta sequences for genbank file",
                        "output_name": "output_fasta",
                        "uuid": "6a81041a-b077-4211-8d48-aafbe78c0713"
                    }
                ]
            },
            "5": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/bwa/bwa_mem/0.7.17.2",
                "errors": null,
                "id": 5,
                "input_connections": {
                    "fastq_input|fastq_input1": {
                        "id": 3,
                        "output_name": "output_paired_coll"
                    },
                    "reference_source|ref_file": {
                        "id": 4,
                        "output_name": "output_fasta"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Map with BWA-MEM",
                        "name": "fastq_input"
                    },
                    {
                        "description": "runtime parameter for tool Map with BWA-MEM",
                        "name": "reference_source"
                    }
                ],
                "label": null,
                "name": "Map with BWA-MEM",
                "outputs": [
                    {
                        "name": "bam_output",
                        "type": "bam"
                    }
                ],
                "position": {
                    "left": 590.5546666162805,
                    "top": 327.0468702141476
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/bwa/bwa_mem/0.7.17.2",
                "tool_shed_repository": {
                    "changeset_revision": "64f11cf59c6e",
                    "name": "bwa",
                    "owner": "devteam",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"analysis_type\": {\"analysis_type_selector\": \"full\", \"__current_case__\": 4, \"algorithmic_options\": {\"algorithmic_options_selector\": \"do_not_set\", \"__current_case__\": 1}, \"scoring_options\": {\"scoring_options_selector\": \"do_not_set\", \"__current_case__\": 1}, \"io_options\": {\"io_options_selector\": \"set\", \"__current_case__\": 0, \"five\": \"false\", \"q\": \"true\", \"T\": \"30\", \"h\": \"5\", \"a\": \"false\", \"C\": \"false\", \"V\": \"false\", \"Y\": \"true\", \"M\": \"false\"}}, \"fastq_input\": {\"fastq_input_selector\": \"paired_collection\", \"__current_case__\": 2, \"fastq_input1\": {\"__class__\": \"RuntimeValue\"}, \"iset_stats\": \"\"}, \"output_sort\": \"coordinate\", \"reference_source\": {\"reference_source_selector\": \"history\", \"__current_case__\": 1, \"ref_file\": {\"__class__\": \"RuntimeValue\"}, \"index_a\": \"auto\"}, \"rg\": {\"rg_selector\": \"do_not_set\", \"__current_case__\": 3}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "0.7.17.2",
                "type": "tool",
                "uuid": "a6bd6dbf-d3e7-439f-b826-16ec60bfb33f",
                "workflow_outputs": [
                    {
                        "label": "bwa_mem_alignments",
                        "output_name": "bam_output",
                        "uuid": "4fa2a1d1-3df1-43a0-9df8-687f55df83a4"
                    }
                ]
            },
            "6": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/samtools_view/samtools_view/1.13+galaxy1",
                "errors": null,
                "id": 6,
                "input_connections": {
                    "input": {
                        "id": 5,
                        "output_name": "bam_output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Samtools view",
                        "name": "input"
                    }
                ],
                "label": null,
                "name": "Samtools view",
                "outputs": [
                    {
                        "name": "outputsam",
                        "type": "input"
                    }
                ],
                "position": {
                    "left": 823.9531041162805,
                    "top": 207.86718147106907
                },
                "post_job_actions": {
                    "RenameDatasetActionoutputsam": {
                        "action_arguments": {
                            "newname": "Mapped read pairs (filtered bwa-mem result)"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "outputsam"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/samtools_view/samtools_view/1.13+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "c370440f901e",
                    "name": "samtools_view",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"addref_cond\": {\"addref_select\": \"no\", \"__current_case__\": 0}, \"input\": {\"__class__\": \"RuntimeValue\"}, \"mode\": {\"outtype\": \"selected_reads\", \"__current_case__\": 1, \"filter_config\": {\"cond_region\": {\"select_region\": \"no\", \"__current_case__\": 0}, \"cond_rg\": {\"select_rg\": \"no\", \"__current_case__\": 0}, \"quality\": \"0\", \"library\": \"\", \"cigarcons\": null, \"inclusive_filter\": [\"1\", \"2\"], \"exclusive_filter\": null, \"exclusive_filter_all\": null, \"tag\": \"\", \"qname_file\": {\"__class__\": \"RuntimeValue\"}}, \"subsample_config\": {\"subsampling_mode\": {\"select_subsample\": \"fraction\", \"__current_case__\": 0, \"factor\": \"1.0\", \"seed\": null}}, \"output_options\": {\"reads_report_type\": \"retained\", \"__current_case__\": 0, \"complementary_output\": \"false\", \"adv_output\": {\"readtags\": [], \"collapsecigar\": \"false\"}, \"output_format\": {\"oformat\": \"bam\", \"__current_case__\": 2}}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.13+galaxy1",
                "type": "tool",
                "uuid": "6186b9e0-5841-4572-bec3-3f5c11a1c1cf",
                "workflow_outputs": [
                    {
                        "label": "filtered_alignment",
                        "output_name": "outputsam",
                        "uuid": "68a53be7-7332-4c7f-9615-32770064ffb0"
                    }
                ]
            },
            "7": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/picard/picard_MarkDuplicates/2.18.2.2",
                "errors": null,
                "id": 7,
                "input_connections": {
                    "inputFile": {
                        "id": 6,
                        "output_name": "outputsam"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool MarkDuplicates",
                        "name": "inputFile"
                    }
                ],
                "label": null,
                "name": "MarkDuplicates",
                "outputs": [
                    {
                        "name": "metrics_file",
                        "type": "txt"
                    },
                    {
                        "name": "outFile",
                        "type": "bam"
                    }
                ],
                "position": {
                    "left": 1043.617201919711,
                    "top": 322.0156341366272
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/picard/picard_MarkDuplicates/2.18.2.2",
                "tool_shed_repository": {
                    "changeset_revision": "a1f0b3f4b781",
                    "name": "picard",
                    "owner": "devteam",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"assume_sorted\": \"true\", \"barcode_tag\": \"\", \"comments\": [], \"duplicate_scoring_strategy\": \"SUM_OF_BASE_QUALITIES\", \"inputFile\": {\"__class__\": \"RuntimeValue\"}, \"optical_duplicate_pixel_distance\": \"100\", \"read_name_regex\": \"\", \"remove_duplicates\": \"true\", \"validation_stringency\": \"LENIENT\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.18.2.2",
                "type": "tool",
                "uuid": "cd152e82-b33b-4cca-9126-a4bd63138593",
                "workflow_outputs": [
                    {
                        "label": "markduplicates_stats",
                        "output_name": "metrics_file",
                        "uuid": "2a24ab1a-6f0f-4896-b436-d6eeeb7ca22c"
                    },
                    {
                        "label": "markduplicates_reads",
                        "output_name": "outFile",
                        "uuid": "9fa98a79-4a12-41df-82c7-6fc4c5a8a1fa"
                    }
                ]
            },
            "8": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_stats/samtools_stats/2.0.2+galaxy2",
                "errors": null,
                "id": 8,
                "input_connections": {
                    "input": {
                        "id": 6,
                        "output_name": "outputsam"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Samtools stats",
                "outputs": [
                    {
                        "name": "output",
                        "type": "tabular"
                    }
                ],
                "position": {
                    "left": 1099.2499388405358,
                    "top": 137.63280895722616
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_stats/samtools_stats/2.0.2+galaxy2",
                "tool_shed_repository": {
                    "changeset_revision": "145f6d74ff5e",
                    "name": "samtools_stats",
                    "owner": "devteam",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"addref_cond\": {\"addref_select\": \"no\", \"__current_case__\": 0}, \"cond_region\": {\"select_region\": \"no\", \"__current_case__\": 0}, \"cov_threshold\": null, \"coverage_cond\": {\"coverage_select\": \"no\", \"__current_case__\": 0}, \"filter_by_flags\": {\"filter_flags\": \"nofilter\", \"__current_case__\": 1}, \"gc_depth\": null, \"input\": {\"__class__\": \"ConnectedValue\"}, \"insert_size\": null, \"most_inserts\": null, \"read_length\": null, \"remove_dups\": \"false\", \"remove_overlaps\": \"false\", \"sparse\": \"false\", \"split_output_cond\": {\"split_output_selector\": \"no\", \"__current_case__\": 0}, \"trim_quality\": null, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.0.2+galaxy2",
                "type": "tool",
                "uuid": "0ba8c049-f7f1-487f-aa23-3bc6cb2d23aa",
                "workflow_outputs": [
                    {
                        "label": "mapped_reads_stats",
                        "output_name": "output",
                        "uuid": "acc7e52b-636c-4f28-a49a-0052f23c8737"
                    }
                ]
            },
            "9": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/lofreq_viterbi/lofreq_viterbi/2.1.5+galaxy0",
                "errors": null,
                "id": 9,
                "input_connections": {
                    "reads": {
                        "id": 7,
                        "output_name": "outFile"
                    },
                    "reference_source|ref": {
                        "id": 4,
                        "output_name": "output_fasta"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool Realign reads",
                        "name": "reads"
                    },
                    {
                        "description": "runtime parameter for tool Realign reads",
                        "name": "reference_source"
                    }
                ],
                "label": null,
                "name": "Realign reads",
                "outputs": [
                    {
                        "name": "realigned",
                        "type": "bam"
                    }
                ],
                "position": {
                    "left": 1181.2499875692147,
                    "top": 531.7812529212346
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/lofreq_viterbi/lofreq_viterbi/2.1.5+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "af7e416d8176",
                    "name": "lofreq_viterbi",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"adv_options\": {\"keepflags\": \"false\", \"bq2_handling\": {\"replace_bq2\": \"keep\", \"__current_case__\": 0, \"defqual\": \"2\"}}, \"reads\": {\"__class__\": \"RuntimeValue\"}, \"reference_source\": {\"ref_selector\": \"history\", \"__current_case__\": 1, \"ref\": {\"__class__\": \"RuntimeValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.1.5+galaxy0",
                "type": "tool",
                "uuid": "f22634d5-0472-4b37-9f1f-55693be5109d",
                "workflow_outputs": [
                    {
                        "label": "realigned_deduplicated_filtered_mapped_reads",
                        "output_name": "realigned",
                        "uuid": "436348c9-ad6f-46aa-9cd4-7744563ca643"
                    }
                ]
            },
            "10": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/multiqc/multiqc/1.11+galaxy0",
                "errors": null,
                "id": 10,
                "input_connections": {
                    "results_0|software_cond|input": {
                        "id": 3,
                        "output_name": "report_json"
                    },
                    "results_1|software_cond|output_0|type|input": {
                        "id": 8,
                        "output_name": "output"
                    },
                    "results_2|software_cond|output_0|input": {
                        "id": 7,
                        "output_name": "metrics_file"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "MultiQC",
                "outputs": [
                    {
                        "name": "stats",
                        "type": "input"
                    },
                    {
                        "name": "html_report",
                        "type": "html"
                    }
                ],
                "position": {
                    "left": 1536.7109061744209,
                    "top": 0
                },
                "post_job_actions": {
                    "HideDatasetActionstats": {
                        "action_arguments": {},
                        "action_type": "HideDatasetAction",
                        "output_name": "stats"
                    },
                    "RenameDatasetActionhtml_report": {
                        "action_arguments": {
                            "newname": "Preprocessing and mapping reports"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "html_report"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/multiqc/multiqc/1.11+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "9a913cdee30e",
                    "name": "multiqc",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"comment\": \"\", \"export\": \"false\", \"flat\": \"false\", \"results\": [{\"__index__\": 0, \"software_cond\": {\"software\": \"fastp\", \"__current_case__\": 7, \"input\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 1, \"software_cond\": {\"software\": \"samtools\", \"__current_case__\": 24, \"output\": [{\"__index__\": 0, \"type\": {\"type\": \"stats\", \"__current_case__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}}]}}, {\"__index__\": 2, \"software_cond\": {\"software\": \"picard\", \"__current_case__\": 17, \"output\": [{\"__index__\": 0, \"type\": \"markdups\", \"input\": {\"__class__\": \"ConnectedValue\"}}]}}], \"saveLog\": \"false\", \"title\": \"\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "1.11+galaxy0",
                "type": "tool",
                "uuid": "1eab5364-f845-4668-9bb0-c820b2c61ab1",
                "workflow_outputs": [
                    {
                        "label": "preprocessing_and_mapping_reports",
                        "output_name": "html_report",
                        "uuid": "710f4e3f-c7a5-465a-96ec-7eb558a44b35"
                    }
                ]
            },
            "11": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/lofreq_indelqual/lofreq_indelqual/2.1.5+galaxy0",
                "errors": null,
                "id": 11,
                "input_connections": {
                    "reads": {
                        "id": 9,
                        "output_name": "realigned"
                    },
                    "strategy|reference_source|ref": {
                        "id": 4,
                        "output_name": "output_fasta"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Insert indel qualities",
                "outputs": [
                    {
                        "name": "output",
                        "type": "bam"
                    }
                ],
                "position": {
                    "left": 1296.3124448073129,
                    "top": 712.8437220928869
                },
                "post_job_actions": {
                    "RenameDatasetActionoutput": {
                        "action_arguments": {
                            "newname": "Fully processed reads for variant calling (deduplicated, realigned reads with added indelquals)"
                        },
                        "action_type": "RenameDatasetAction",
                        "output_name": "output"
                    }
                },
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/lofreq_indelqual/lofreq_indelqual/2.1.5+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "354b534eeab7",
                    "name": "lofreq_indelqual",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"reads\": {\"__class__\": \"ConnectedValue\"}, \"strategy\": {\"selector\": \"dindel\", \"__current_case__\": 1, \"reference_source\": {\"ref_selector\": \"history\", \"__current_case__\": 1, \"ref\": {\"__class__\": \"ConnectedValue\"}}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.1.5+galaxy0",
                "type": "tool",
                "uuid": "8568254e-a9a6-4d67-a4a9-97947d7bc10e",
                "workflow_outputs": [
                    {
                        "label": "realigned_deduplicated_filtered_mapped_reads_with_indel_quals",
                        "output_name": "output",
                        "uuid": "71283f3d-16ce-43a6-af6a-89e0d6d0aa4f"
                    }
                ]
            },
            "12": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/lofreq_call/lofreq_call/2.1.5+galaxy1",
                "errors": null,
                "id": 12,
                "input_connections": {
                    "reads": {
                        "id": 11,
                        "output_name": "output"
                    },
                    "reference_source|ref": {
                        "id": 4,
                        "output_name": "output_fasta"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Call variants",
                "outputs": [
                    {
                        "name": "variants",
                        "type": "vcf"
                    }
                ],
                "position": {
                    "left": 1423.3749607187183,
                    "top": 908.2577816094984
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/lofreq_call/lofreq_call/2.1.5+galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "e1461b5c52a0",
                    "name": "lofreq_call",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"call_control\": {\"set_call_options\": \"yes\", \"__current_case__\": 1, \"coverage\": {\"min_cov\": \"5\", \"max_depth\": \"1000000\"}, \"pe\": {\"use_orphan\": \"false\"}, \"bc_quals\": {\"min_bq\": \"30\", \"min_alt_bq\": \"30\", \"alt_bq\": {\"modify\": \"\", \"__current_case__\": 0}}, \"align_quals\": {\"alnqual\": {\"use_alnqual\": \"\", \"__current_case__\": 0, \"alnqual_choice\": {\"alnquals_to_use\": \"\", \"__current_case__\": 1, \"extended_baq\": \"true\"}}}, \"map_quals\": {\"min_mq\": \"0\", \"use_mq\": {\"no_mq\": \"\", \"__current_case__\": 0, \"max_mq\": \"255\"}}, \"source_qual\": {\"use_src_qual\": {\"src_qual\": \"\", \"__current_case__\": 0}}, \"joint_qual\": {\"min_jq\": \"0\", \"min_alt_jq\": \"0\", \"def_alt_jq\": \"0\"}}, \"filter_control\": {\"filter_type\": \"set_custom\", \"__current_case__\": 3, \"sig\": \"0.0005\", \"bonf\": \"0\", \"others\": \"false\"}, \"reads\": {\"__class__\": \"ConnectedValue\"}, \"reference_source\": {\"ref_selector\": \"history\", \"__current_case__\": 1, \"ref\": {\"__class__\": \"ConnectedValue\"}}, \"regions\": {\"restrict_to_region\": \"genome\", \"__current_case__\": 0}, \"variant_types\": \"--call-indels\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.1.5+galaxy1",
                "type": "tool",
                "uuid": "b8c2b602-396e-4727-8774-cd87edbe3a07",
                "workflow_outputs": [
                    {
                        "label": "called_variants",
                        "output_name": "variants",
                        "uuid": "f0daf1f1-9200-45de-8c6e-776879096b3e"
                    }
                ]
            },
            "13": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/lofreq_filter/lofreq_filter/2.1.5+galaxy0",
                "errors": null,
                "id": 13,
                "input_connections": {
                    "invcf": {
                        "id": 12,
                        "output_name": "variants"
                    }
                },
                "inputs": [],
                "label": null,
                "name": "Lofreq filter",
                "outputs": [
                    {
                        "name": "outvcf",
                        "type": "vcf"
                    }
                ],
                "position": {
                    "left": 1623.8827831633464,
                    "top": 733.9296904212346
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/lofreq_filter/lofreq_filter/2.1.5+galaxy0",
                "tool_shed_repository": {
                    "changeset_revision": "950d1d49d678",
                    "name": "lofreq_filter",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"af\": {\"af_min\": \"0.0\", \"af_max\": \"0.0\"}, \"coverage\": {\"cov_min\": \"0\", \"cov_max\": \"0\"}, \"filter_by_type\": {\"keep_only\": \"\", \"__current_case__\": 0, \"qual\": {\"snvqual_filter\": {\"snvqual\": \"no\", \"__current_case__\": 0}, \"indelqual_filter\": {\"indelqual\": \"no\", \"__current_case__\": 0}}}, \"flag_or_drop\": \"--print-all\", \"invcf\": {\"__class__\": \"ConnectedValue\"}, \"sb\": {\"sb_filter\": {\"strand_bias\": \"mtc\", \"__current_case__\": 2, \"sb_alpha\": \"0.001\", \"sb_mtc\": \"fdr\", \"sb_compound\": \"true\", \"sb_indels\": \"false\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "2.1.5+galaxy0",
                "type": "tool",
                "uuid": "72fc0a88-0fff-4434-9c7b-cff1694f8fbf",
                "workflow_outputs": [
                    {
                        "label": "soft_filtered_variants",
                        "output_name": "outvcf",
                        "uuid": "58a73993-57b0-4590-b462-65f0a0f7978a"
                    }
                ]
            },
            "14": {
                "annotation": "",
                "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snpeff/snpEff/4.3+T.galaxy1",
                "errors": null,
                "id": 14,
                "input_connections": {
                    "input": {
                        "id": 13,
                        "output_name": "outvcf"
                    },
                    "snpDb|snpeff_db": {
                        "id": 4,
                        "output_name": "snpeff_output"
                    }
                },
                "inputs": [
                    {
                        "description": "runtime parameter for tool SnpEff eff:",
                        "name": "input"
                    },
                    {
                        "description": "runtime parameter for tool SnpEff eff:",
                        "name": "intervals"
                    },
                    {
                        "description": "runtime parameter for tool SnpEff eff:",
                        "name": "snpDb"
                    },
                    {
                        "description": "runtime parameter for tool SnpEff eff:",
                        "name": "transcripts"
                    }
                ],
                "label": null,
                "name": "SnpEff eff:",
                "outputs": [
                    {
                        "name": "snpeff_output",
                        "type": "vcf"
                    },
                    {
                        "name": "statsFile",
                        "type": "html"
                    }
                ],
                "position": {
                    "left": 1973.0859200969005,
                    "top": 761.6406458215656
                },
                "post_job_actions": {},
                "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snpeff/snpEff/4.3+T.galaxy1",
                "tool_shed_repository": {
                    "changeset_revision": "74aebe30fb52",
                    "name": "snpeff",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                },
                "tool_state": "{\"annotations\": [\"-formatEff\", \"-classic\"], \"chr\": \"\", \"csvStats\": \"false\", \"filter\": {\"specificEffects\": \"no\", \"__current_case__\": 0}, \"filterOut\": [\"-no-downstream\", \"-no-intergenic\", \"-no-intron\", \"-no-upstream\", \"-no-utr\"], \"generate_stats\": \"true\", \"input\": {\"__class__\": \"RuntimeValue\"}, \"inputFormat\": \"vcf\", \"intervals\": {\"__class__\": \"RuntimeValue\"}, \"noLog\": \"true\", \"offset\": \"default\", \"outputConditional\": {\"outputFormat\": \"vcf\", \"__current_case__\": 0}, \"snpDb\": {\"genomeSrc\": \"custom\", \"__current_case__\": 3, \"snpeff_db\": {\"__class__\": \"RuntimeValue\"}, \"codon_table\": \"Standard\"}, \"spliceRegion\": {\"setSpliceRegions\": \"no\", \"__current_case__\": 0}, \"spliceSiteSize\": null, \"transcripts\": {\"__class__\": \"RuntimeValue\"}, \"udLength\": \"0\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                "tool_version": "4.3+T.galaxy1",
                "type": "tool",
                "uuid": "2fa5e8fd-9282-4156-ba29-93d6ad2b65e1",
                "workflow_outputs": [
                    {
                        "label": "SnpEff eff: stats",
                        "output_name": "statsFile",
                        "uuid": "5587a236-9d63-4d3b-b368-0643fa07529e"
                    },
                    {
                        "label": "SnpEff variants",
                        "output_name": "snpeff_output",
                        "uuid": "4a062f86-0ab4-4ba1-b8fc-70e35d1f1df7"
                    }
                ]
            }
        },
        "tags": [
            "mpxv",
            "generic"
        ],
        "uuid": "be0d055d-25ac-422a-ae9c-b0efdfb5bf86",
        "version": 5
    },
    "workflow_job_input": {
        "Paired Collection": {
            "class": "Collection",
            "collection_type": "list",
            "elements": [
                {
                    "class": "File",
                    "identifier": "todo_element_name",
                    "path": "todo_test_data_path.ext"
                }
            ]
        },
        "GenBank genome": {
            "class": "File",
            "path": "todo_test_data_path.ext"
        },
        "Name for genome database": "todo_param_value"
    },
    "readme": "Generic variation analysis on WGS PE data\n-------------------------------------------\n\nThis workflows performs paired end read mapping with bwa-mem followed by\nsensitive variant calling across a wide range of AFs with lofreq and variant\nannotation with snpEff. The reference genome can be provided as a GenBank file.\n",
    "changelog": "# Changelog\n\n\n## [0.1.1] - 2023-11-20\n\n- Fix author in dockstore\n\n## [0.1]\n\n- Initial version of Generic variation analysis on WGS PE data workflow\n",
    "diagrams": "# Workflow diagrams\n\n## Generic variation analysis on WGS PE data\n\n```mermaid\ngraph LR\n0[\"\u2139\ufe0f Paired Collection\"]@{ shape: docs }\n1[\"\u2139\ufe0f GenBank genome\"]@{ shape: doc }\n2[\"\u2139\ufe0f Name for genome database\"]@{ shape: lean-l }\n3[\"fastp\"]@{ shape: process }\n0 --> 3\n4[\"SnpEff build:\"]@{ shape: process }\n2 --> 4\n1 --> 4\n5[\"Map with BWA-MEM\"]@{ shape: process }\n3 --> 5\n4 --> 5\n6[\"Samtools view\"]@{ shape: process }\n5 --> 6\n7[\"MarkDuplicates\"]@{ shape: process }\n6 --> 7\n8[\"Samtools stats\"]@{ shape: process }\n6 --> 8\n9[\"Realign reads\"]@{ shape: process }\n7 --> 9\n4 --> 9\n10[\"MultiQC\"]@{ shape: process }\n3 --> 10\n8 --> 10\n7 --> 10\n11[\"Insert indel qualities\"]@{ shape: process }\n9 --> 11\n4 --> 11\n12[\"Call variants\"]@{ shape: process }\n11 --> 12\n4 --> 12\n13[\"Lofreq filter\"]@{ shape: process }\n12 --> 13\n14[\"SnpEff eff:\"]@{ shape: process }\n13 --> 14\n4 --> 14\n```\n",
    "diagram_svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1100 580\" role=\"img\" aria-label=\"Generic Variation Analysis on WGS PE Data workflow diagram\">\n  <title>Generic Variation Analysis on WGS PE Data</title>\n  <desc>Variant analysis pipeline for whole-genome sequencing paired-end data: quality trimming with fastp, BWA-MEM alignment against a GenBank reference, filtering and deduplication, LoFreq variant calling, and SnpEff annotation.</desc>\n\n  <defs>\n    <pattern id=\"grid\" width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\">\n      <path d=\"M 20 0 L 0 0 0 20\" fill=\"none\" stroke=\"#c5d5e4\" stroke-width=\"0.5\"/>\n    </pattern>\n    <pattern id=\"grid-major\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\">\n      <rect width=\"100\" height=\"100\" fill=\"url(#grid)\"/>\n      <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#b0c4d8\" stroke-width=\"1\"/>\n    </pattern>\n    <style>\n      .connection { stroke: #25537b; stroke-width: 4; fill: none; stroke-linecap: round; }\n      .connection-qc { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; stroke-dasharray: 5 3; }\n      .connection-secondary { stroke: #25537b; stroke-width: 3; fill: none; stroke-linecap: round; }\n      .node-card { filter: drop-shadow(1px 2px 3px rgba(0,0,0,0.15)); }\n    </style>\n  </defs>\n\n  <!-- Background -->\n  <rect width=\"1100\" height=\"580\" fill=\"#f8f9fa\"/>\n  <rect width=\"1100\" height=\"580\" fill=\"url(#grid-major)\"/>\n\n  <!-- Title bar -->\n  <rect x=\"0\" y=\"0\" width=\"1100\" height=\"45\" fill=\"#25537b\"/>\n  <text x=\"20\" y=\"28\" font-family=\"system-ui, sans-serif\" font-size=\"16\" font-weight=\"600\" fill=\"white\">Generic Variation Analysis on WGS PE Data</text>\n\n  <!-- CONNECTIONS -->\n\n  <!-- PE Collection -> fastp -->\n  <path class=\"connection\" d=\"M 180 125 C 225 125, 230 135, 270 135\"/>\n  <!-- GenBank -> SnpEff build -->\n  <path class=\"connection\" d=\"M 180 255 C 225 255, 230 275, 270 275\"/>\n  <!-- fastp -> BWA-MEM -->\n  <path class=\"connection\" d=\"M 430 135 C 470 135, 465 175, 500 175\"/>\n  <!-- SnpEff build -> BWA-MEM (reference fasta) -->\n  <path class=\"connection\" d=\"M 430 265 C 470 265, 465 195, 500 195\"/>\n  <!-- BWA-MEM -> Samtools view -->\n  <path class=\"connection\" d=\"M 660 185 C 695 185, 690 185, 720 185\"/>\n  <!-- Samtools view -> MarkDuplicates -->\n  <path class=\"connection\" d=\"M 860 185 C 895 185, 890 135, 920 135\"/>\n  <!-- MarkDuplicates -> Realign (Viterbi) -->\n  <path class=\"connection\" d=\"M 270 395 C 300 395, 295 395, 330 395\"/>\n  <!-- Realign -> Indel Quals -->\n  <path class=\"connection\" d=\"M 490 395 C 530 395, 525 395, 560 395\"/>\n  <!-- Indel Quals -> LoFreq Call -->\n  <path class=\"connection\" d=\"M 720 395 C 760 395, 755 395, 790 395\"/>\n  <!-- LoFreq Call -> SnpEff annotate -->\n  <path class=\"connection\" d=\"M 950 395 C 985 395, 975 365, 1000 365\"/>\n\n  <!-- SnpEff build -> SnpEff annotate (database) - long curve -->\n  <path class=\"connection-secondary\" d=\"M 350 310 C 350 340, 1000 340, 1000 345\"/>\n\n  <!-- Samtools view -> MarkDuplicates connection is above -->\n  <!-- MarkDuplicates down to Realign row -->\n  <path class=\"connection\" d=\"M 1000 175 C 1030 175, 300 360, 330 380\"/>\n\n  <!-- QC connections (dashed) -->\n  <!-- fastp -> MultiQC -->\n  <path class=\"connection-qc\" d=\"M 350 180 C 350 310, 500 460, 560 470\"/>\n  <!-- Samtools stats -> MultiQC -->\n  <path class=\"connection-qc\" d=\"M 790 230 C 790 350, 630 440, 610 470\"/>\n  <!-- MarkDuplicates -> MultiQC -->\n  <path class=\"connection-qc\" d=\"M 960 175 C 960 350, 680 440, 650 470\"/>\n\n  <!-- Output connections -->\n  <!-- SnpEff annotate -> SnpEff variants output -->\n  <path class=\"connection\" d=\"M 1060 340 C 1080 340, 1070 290, 1040 290\"/>\n  <!-- SnpEff annotate -> SnpEff stats output -->\n  <path class=\"connection\" d=\"M 1060 390 C 1080 390, 1070 430, 1040 430\"/>\n\n  <!-- NODES -->\n\n  <!-- INPUT: PE Collection -->\n  <g class=\"node-card\" transform=\"translate(30, 80)\">\n    <rect width=\"150\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#ffd700\" stroke-width=\"1.5\"/>\n    <rect width=\"150\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"24\" width=\"150\" height=\"4\" fill=\"#ffd700\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(44,49,67,0.6)\">1:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"#2C3143\">PE Collection</text>\n    <text x=\"75\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Paired-end reads</text>\n    <text x=\"75\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">list:paired collection</text>\n    <circle cx=\"150\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#ffd700\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- INPUT: GenBank genome -->\n  <g class=\"node-card\" transform=\"translate(30, 210)\">\n    <rect width=\"150\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#ffd700\" stroke-width=\"1.5\"/>\n    <rect width=\"150\" height=\"28\" rx=\"4\" fill=\"#ffd700\"/>\n    <rect x=\"0\" y=\"24\" width=\"150\" height=\"4\" fill=\"#ffd700\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(44,49,67,0.6)\">2:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"#2C3143\">GenBank Genome</text>\n    <text x=\"75\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Reference genome</text>\n    <text x=\"75\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">GenBank format</text>\n    <circle cx=\"150\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#ffd700\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- PROCESSING: fastp -->\n  <g class=\"node-card\" transform=\"translate(270, 90)\">\n    <rect width=\"160\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"160\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">3:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">fastp</text>\n    <text x=\"80\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Quality trimming</text>\n    <text x=\"80\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Adapter removal</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"160\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"80\" cy=\"90\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n  </g>\n\n  <!-- PROCESSING: SnpEff build -->\n  <g class=\"node-card\" transform=\"translate(270, 220)\">\n    <rect width=\"160\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"160\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">4:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">SnpEff Build</text>\n    <text x=\"80\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Build database</text>\n    <text x=\"80\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">+ extract FASTA</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"160\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- PROCESSING: BWA-MEM -->\n  <g class=\"node-card\" transform=\"translate(500, 140)\">\n    <rect width=\"160\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"160\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">5:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">BWA-MEM</text>\n    <text x=\"80\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Read alignment</text>\n    <text x=\"80\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">To reference</text>\n    <circle cx=\"0\" cy=\"35\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"0\" cy=\"55\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"160\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- PROCESSING: Samtools view + stats -->\n  <g class=\"node-card\" transform=\"translate(720, 140)\">\n    <rect width=\"140\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"140\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"140\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">6:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">Filter + Stats</text>\n    <text x=\"70\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Samtools view</text>\n    <text x=\"70\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Proper pairs only</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"140\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"70\" cy=\"90\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n  </g>\n\n  <!-- PROCESSING: MarkDuplicates -->\n  <g class=\"node-card\" transform=\"translate(920, 90)\">\n    <rect width=\"160\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"160\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">7:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">MarkDuplicates</text>\n    <text x=\"80\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">PCR deduplication</text>\n    <text x=\"80\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Picard</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"80\" cy=\"90\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n  </g>\n\n  <!-- PROCESSING ROW 2: Realign reads -->\n  <g class=\"node-card\" transform=\"translate(330, 350)\">\n    <rect width=\"160\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"160\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">8:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">Realign Reads</text>\n    <text x=\"80\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">LoFreq Viterbi</text>\n    <text x=\"80\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Indel realignment</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"160\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- Indel Quals -->\n  <g class=\"node-card\" transform=\"translate(560, 350)\">\n    <rect width=\"160\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"160\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">9:</text>\n    <text x=\"26\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">Indel Quals</text>\n    <text x=\"80\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Insert qualities</text>\n    <text x=\"80\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">LoFreq indelqual</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"160\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- LoFreq Call -->\n  <g class=\"node-card\" transform=\"translate(790, 350)\">\n    <rect width=\"160\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"160\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">10:</text>\n    <text x=\"30\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">LoFreq Call</text>\n    <text x=\"80\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Variant calling</text>\n    <text x=\"80\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">+ quality filter</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"160\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- OUTPUTS -->\n\n  <!-- SnpEff annotate -->\n  <g class=\"node-card\" transform=\"translate(930, 320)\">\n    <rect width=\"140\" height=\"90\" rx=\"4\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1\"/>\n    <rect width=\"140\" height=\"28\" rx=\"4\" fill=\"#25537b\"/>\n    <rect x=\"0\" y=\"24\" width=\"140\" height=\"4\" fill=\"#25537b\"/>\n    <text x=\"10\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" fill=\"rgba(255,255,255,0.7)\">11:</text>\n    <text x=\"30\" y=\"19\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">SnpEff Annotate</text>\n    <text x=\"70\" y=\"55\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Functional effects</text>\n    <text x=\"70\" y=\"72\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Gene annotation</text>\n    <circle cx=\"0\" cy=\"45\" r=\"6\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"2\"/>\n    <circle cx=\"140\" cy=\"20\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n    <circle cx=\"140\" cy=\"70\" r=\"5\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n  </g>\n\n  <!-- OUTPUT: SnpEff Variants -->\n  <g class=\"node-card\" transform=\"translate(960, 250)\">\n    <rect width=\"120\" height=\"50\" rx=\"4\" fill=\"white\" stroke=\"#f97316\" stroke-width=\"1.5\"/>\n    <rect width=\"120\" height=\"22\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"18\" width=\"120\" height=\"4\" fill=\"#f97316\"/>\n    <text x=\"60\" y=\"15\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\">SnpEff Variants</text>\n    <text x=\"60\" y=\"38\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Annotated VCF</text>\n    <circle cx=\"0\" cy=\"25\" r=\"5\" fill=\"white\" stroke=\"#f97316\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- OUTPUT: SnpEff Stats -->\n  <g class=\"node-card\" transform=\"translate(960, 420)\">\n    <rect width=\"120\" height=\"50\" rx=\"4\" fill=\"white\" stroke=\"#f97316\" stroke-width=\"1.5\"/>\n    <rect width=\"120\" height=\"22\" rx=\"4\" fill=\"#f97316\"/>\n    <rect x=\"0\" y=\"18\" width=\"120\" height=\"4\" fill=\"#f97316\"/>\n    <text x=\"60\" y=\"15\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"white\">SnpEff Stats</text>\n    <text x=\"60\" y=\"38\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">Effect statistics</text>\n    <circle cx=\"0\" cy=\"25\" r=\"5\" fill=\"white\" stroke=\"#f97316\" stroke-width=\"2\"/>\n  </g>\n\n  <!-- REPORT: MultiQC -->\n  <g class=\"node-card\" transform=\"translate(530, 460)\">\n    <rect width=\"160\" height=\"80\" rx=\"4\" fill=\"white\" stroke=\"#10b981\" stroke-width=\"1.5\"/>\n    <rect width=\"160\" height=\"28\" rx=\"4\" fill=\"#10b981\"/>\n    <rect x=\"0\" y=\"24\" width=\"160\" height=\"4\" fill=\"#10b981\"/>\n    <text x=\"80\" y=\"19\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"11\" font-weight=\"600\" fill=\"white\">MultiQC Report</text>\n    <text x=\"80\" y=\"52\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"10\" fill=\"#495057\">Quality metrics</text>\n    <text x=\"80\" y=\"68\" text-anchor=\"middle\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#868e96\">fastp, mapping, dedup</text>\n    <circle cx=\"30\" cy=\"0\" r=\"5\" fill=\"white\" stroke=\"#10b981\" stroke-width=\"1.5\"/>\n    <circle cx=\"80\" cy=\"0\" r=\"5\" fill=\"white\" stroke=\"#10b981\" stroke-width=\"1.5\"/>\n    <circle cx=\"120\" cy=\"0\" r=\"5\" fill=\"white\" stroke=\"#10b981\" stroke-width=\"1.5\"/>\n  </g>\n\n  <!-- Legend -->\n  <g transform=\"translate(30, 545)\">\n    <text x=\"0\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"10\" font-weight=\"600\" fill=\"#495057\">Legend:</text>\n    <rect x=\"60\" y=\"-10\" width=\"14\" height=\"14\" rx=\"2\" fill=\"white\" stroke=\"#ffd700\" stroke-width=\"1.5\"/>\n    <text x=\"80\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#6c757d\">Input</text>\n    <rect x=\"130\" y=\"-10\" width=\"14\" height=\"14\" rx=\"2\" fill=\"white\" stroke=\"#25537b\" stroke-width=\"1.5\"/>\n    <text x=\"150\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#6c757d\">Processing</text>\n    <line x1=\"230\" y1=\"-4\" x2=\"270\" y2=\"-4\" stroke=\"#25537b\" stroke-width=\"4\" stroke-linecap=\"round\"/>\n    <text x=\"278\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#6c757d\">Data flow</text>\n    <line x1=\"350\" y1=\"-4\" x2=\"390\" y2=\"-4\" stroke=\"#25537b\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-dasharray=\"5 3\"/>\n    <text x=\"398\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#6c757d\">QC metrics</text>\n    <rect x=\"480\" y=\"-10\" width=\"14\" height=\"14\" rx=\"2\" fill=\"white\" stroke=\"#f97316\" stroke-width=\"1.5\"/>\n    <text x=\"500\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#6c757d\">Output</text>\n    <rect x=\"560\" y=\"-10\" width=\"14\" height=\"14\" rx=\"2\" fill=\"white\" stroke=\"#10b981\" stroke-width=\"1.5\"/>\n    <text x=\"580\" y=\"0\" font-family=\"system-ui, sans-serif\" font-size=\"9\" fill=\"#6c757d\">Report</text>\n  </g>\n\n</svg>",
    "updated": "2023-11-20T00:00:00",
    "trsID": "#workflow/github.com/iwc-workflows/generic-variant-calling-wgs-pe/main",
    "iwcID": "generic-variant-calling-wgs-pe-main",
    "dockstore_id": 18261,
    "categories": [
        "Variant Calling"
    ],
    "collections": [
        "Variant Calling"
    ],
    "doi": "10.5281/zenodo.15078897",
    "tests": [
        {
            "doc": "Test outline for Generic-variation-analysis-on-WGS-PE-data",
            "job": {
                "GenBank genome": {
                    "class": "File",
                    "filetype": "genbank",
                    "hashes": [
                        {
                            "hash_function": "SHA-1",
                            "hash_value": "586d54741cb8b8f7d2e473827d3b25e5a235f9f7"
                        }
                    ],
                    "location": "https://raw.githubusercontent.com/galaxyproject/iwc/main/workflows/variant-calling/generic-variant-calling-wgs-pe/test-data/GenBank%20genome.genbank"
                },
                "Name for genome database": "mpxv",
                "Paired Collection": {
                    "class": "Collection",
                    "collection_type": "list:paired",
                    "elements": [
                        {
                            "class": "Collection",
                            "type": "paired",
                            "identifier": "ERR3485802",
                            "elements": [
                                {
                                    "identifier": "forward",
                                    "class": "File",
                                    "hashes": [
                                        {
                                            "hash_function": "SHA-1",
                                            "hash_value": "00db6798ebbb520c28bc4d0e52c0fabac0bb37ac"
                                        }
                                    ],
                                    "location": "https://raw.githubusercontent.com/galaxyproject/iwc/main/workflows/variant-calling/generic-variant-calling-wgs-pe/test-data/ERR3485802.forward.fastq.gz",
                                    "filetype": "fastqsanger.gz"
                                },
                                {
                                    "identifier": "reverse",
                                    "class": "File",
                                    "hashes": [
                                        {
                                            "hash_function": "SHA-1",
                                            "hash_value": "9a9f61098507023fab3e1fa0383ca628759108c1"
                                        }
                                    ],
                                    "location": "https://raw.githubusercontent.com/galaxyproject/iwc/main/workflows/variant-calling/generic-variant-calling-wgs-pe/test-data/ERR3485802.reverse.fastq.gz",
                                    "filetype": "fastqsanger.gz"
                                }
                            ]
                        }
                    ]
                }
            },
            "outputs": {
                "Fasta sequences for genbank file": {
                    "path": "test-data/Fasta sequences for genbank file.fasta",
                    "compare": "contains"
                },
                "SnpEff variants": {
                    "element_tests": {
                        "ERR3485802": {
                            "path": "test-data/SnpEff variants.vcf",
                            "compare": "diff",
                            "lines_diff": 6
                        }
                    }
                },
                "called_variants": {
                    "element_tests": {
                        "ERR3485802": {
                            "path": "test-data/called_variants.vcf",
                            "compare": "diff",
                            "lines_diff": 6
                        }
                    }
                },
                "mapped_reads_stats": {
                    "element_tests": {
                        "ERR3485802": {
                            "path": "test-data/mapped_reads_stats.tabular"
                        }
                    }
                },
                "soft_filtered_variants": {
                    "element_tests": {
                        "ERR3485802": {
                            "path": "test-data/soft_filtered_variants.vcf",
                            "compare": "diff",
                            "lines_diff": 6
                        }
                    }
                }
            }
        }
    ]
}